{"file_contents":{"client/src/components/ui/popover.tsx":{"content":"import * as React from \"react\"\nimport * as PopoverPrimitive from \"@radix-ui/react-popover\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Popover = PopoverPrimitive.Root\n\nconst PopoverTrigger = PopoverPrimitive.Trigger\n\nconst PopoverContent = React.forwardRef<\n  React.ElementRef<typeof PopoverPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof PopoverPrimitive.Content>\n>(({ className, align = \"center\", sideOffset = 4, ...props }, ref) => (\n  <PopoverPrimitive.Portal>\n    <PopoverPrimitive.Content\n      ref={ref}\n      align={align}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]\",\n        className\n      )}\n      {...props}\n    />\n  </PopoverPrimitive.Portal>\n))\nPopoverContent.displayName = PopoverPrimitive.Content.displayName\n\nexport { Popover, PopoverTrigger, PopoverContent }\n","path":null,"size_bytes":1280,"size_tokens":null},"client/src/components/ui/aspect-ratio.tsx":{"content":"import * as AspectRatioPrimitive from \"@radix-ui/react-aspect-ratio\"\n\nconst AspectRatio = AspectRatioPrimitive.Root\n\nexport { AspectRatio }\n","path":null,"size_bytes":140,"size_tokens":null},"server/fileExtractor.ts":{"content":"import mammoth from \"mammoth\";\nimport Tesseract from \"tesseract.js\";\nimport * as pdfjsLib from \"pdfjs-dist/legacy/build/pdf.mjs\";\n\nexport async function extractTextFromPDF(buffer: Buffer): Promise<string> {\n  try {\n    if (buffer.length < 100) {\n      throw new Error(\"File is too small to be a valid PDF\");\n    }\n\n    const header = buffer.slice(0, 5).toString('utf-8');\n    if (!header.startsWith('%PDF-')) {\n      throw new Error(\"File is not a valid PDF format. Please upload a real PDF file, not a text file with a .pdf extension.\");\n    }\n\n    const uint8Array = new Uint8Array(buffer);\n    const loadingTask = pdfjsLib.getDocument({ \n      data: uint8Array,\n      verbosity: 0\n    });\n    const pdf = await loadingTask.promise;\n    \n    let fullText = \"\";\n    \n    for (let pageNum = 1; pageNum <= pdf.numPages; pageNum++) {\n      const page = await pdf.getPage(pageNum);\n      const textContent = await page.getTextContent();\n      const pageText = textContent.items\n        .map((item: any) => item.str)\n        .join(\" \");\n      fullText += pageText + \"\\n\";\n    }\n    \n    const text = fullText.trim();\n    if (!text) {\n      throw new Error(\"PDF appears to be empty or contains no extractable text. If your resume is image-based, try uploading it as PNG or JPG instead.\");\n    }\n    return text;\n  } catch (error: any) {\n    console.error(\"PDF extraction error:\", error);\n    \n    if (error.message?.includes(\"not a valid PDF format\")) {\n      throw error;\n    }\n    if (error.message?.includes(\"no extractable text\")) {\n      throw error;\n    }\n    if (error.message?.includes(\"too small\")) {\n      throw error;\n    }\n    \n    if (error.message?.toLowerCase().includes(\"invalid\") || \n        error.message?.toLowerCase().includes(\"corrupt\") ||\n        error.message?.toLowerCase().includes(\"password\") ||\n        error.message?.toLowerCase().includes(\"encrypted\")) {\n      throw new Error(\"Unable to read PDF file. The file may be corrupted, password-protected, or in an unsupported format. Please try: (1) saving a new copy of your PDF, or (2) uploading as an image (PNG/JPG).\");\n    }\n    \n    throw new Error(`Failed to extract text from PDF: ${error.message || \"Unknown error\"}`);\n  }\n}\n\nexport async function extractTextFromDOCX(buffer: Buffer): Promise<string> {\n  try {\n    const result = await mammoth.extractRawText({ buffer });\n    const text = result.value?.trim() || \"\";\n    if (!text) {\n      throw new Error(\"DOCX appears to be empty or contains no extractable text\");\n    }\n    return text;\n  } catch (error: any) {\n    console.error(\"DOCX extraction error:\", error);\n    if (error.message?.includes(\"no extractable text\")) {\n      throw error;\n    }\n    throw new Error(`Failed to extract text from DOCX: ${error.message || \"Unknown error\"}`);\n  }\n}\n\nexport async function extractTextFromImage(buffer: Buffer): Promise<string> {\n  try {\n    const { data } = await Tesseract.recognize(buffer, \"eng\", {\n      logger: () => {},\n    });\n    const text = data.text?.trim() || \"\";\n    if (!text) {\n      throw new Error(\"Image appears to contain no readable text\");\n    }\n    return text;\n  } catch (error: any) {\n    console.error(\"OCR extraction error:\", error);\n    if (error.message?.includes(\"no readable text\")) {\n      throw error;\n    }\n    throw new Error(`Failed to extract text from image using OCR: ${error.message || \"Unknown error\"}`);\n  }\n}\n\nexport async function extractText(buffer: Buffer, mimeType: string): Promise<string> {\n  if (mimeType === \"application/pdf\") {\n    return extractTextFromPDF(buffer);\n  } else if (\n    mimeType === \"application/vnd.openxmlformats-officedocument.wordprocessingml.document\" ||\n    mimeType === \"application/msword\"\n  ) {\n    return extractTextFromDOCX(buffer);\n  } else if (mimeType.startsWith(\"image/\")) {\n    return extractTextFromImage(buffer);\n  } else if (mimeType === \"text/plain\") {\n    return buffer.toString(\"utf-8\");\n  } else {\n    throw new Error(\"Unsupported file type\");\n  }\n}\n","path":null,"size_bytes":3966,"size_tokens":null},"client/src/components/ui/navigation-menu.tsx":{"content":"import * as React from \"react\"\nimport * as NavigationMenuPrimitive from \"@radix-ui/react-navigation-menu\"\nimport { cva } from \"class-variance-authority\"\nimport { ChevronDown } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst NavigationMenu = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Root>\n>(({ className, children, ...props }, ref) => (\n  <NavigationMenuPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative z-10 flex max-w-max flex-1 items-center justify-center\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <NavigationMenuViewport />\n  </NavigationMenuPrimitive.Root>\n))\nNavigationMenu.displayName = NavigationMenuPrimitive.Root.displayName\n\nconst NavigationMenuList = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.List\n    ref={ref}\n    className={cn(\n      \"group flex flex-1 list-none items-center justify-center space-x-1\",\n      className\n    )}\n    {...props}\n  />\n))\nNavigationMenuList.displayName = NavigationMenuPrimitive.List.displayName\n\nconst NavigationMenuItem = NavigationMenuPrimitive.Item\n\nconst navigationMenuTriggerStyle = cva(\n  \"group inline-flex h-10 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground focus:outline-none disabled:pointer-events-none disabled:opacity-50 data-[state=open]:text-accent-foreground data-[state=open]:bg-accent/50 data-[state=open]:hover:bg-accent data-[state=open]:focus:bg-accent\"\n)\n\nconst NavigationMenuTrigger = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <NavigationMenuPrimitive.Trigger\n    ref={ref}\n    className={cn(navigationMenuTriggerStyle(), \"group\", className)}\n    {...props}\n  >\n    {children}{\" \"}\n    <ChevronDown\n      className=\"relative top-[1px] ml-1 h-3 w-3 transition duration-200 group-data-[state=open]:rotate-180\"\n      aria-hidden=\"true\"\n    />\n  </NavigationMenuPrimitive.Trigger>\n))\nNavigationMenuTrigger.displayName = NavigationMenuPrimitive.Trigger.displayName\n\nconst NavigationMenuContent = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.Content\n    ref={ref}\n    className={cn(\n      \"left-0 top-0 w-full data-[motion^=from-]:animate-in data-[motion^=to-]:animate-out data-[motion^=from-]:fade-in data-[motion^=to-]:fade-out data-[motion=from-end]:slide-in-from-right-52 data-[motion=from-start]:slide-in-from-left-52 data-[motion=to-end]:slide-out-to-right-52 data-[motion=to-start]:slide-out-to-left-52 md:absolute md:w-auto \",\n      className\n    )}\n    {...props}\n  />\n))\nNavigationMenuContent.displayName = NavigationMenuPrimitive.Content.displayName\n\nconst NavigationMenuLink = NavigationMenuPrimitive.Link\n\nconst NavigationMenuViewport = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Viewport>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Viewport>\n>(({ className, ...props }, ref) => (\n  <div className={cn(\"absolute left-0 top-full flex justify-center\")}>\n    <NavigationMenuPrimitive.Viewport\n      className={cn(\n        \"origin-top-center relative mt-1.5 h-[var(--radix-navigation-menu-viewport-height)] w-full overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-90 md:w-[var(--radix-navigation-menu-viewport-width)]\",\n        className\n      )}\n      ref={ref}\n      {...props}\n    />\n  </div>\n))\nNavigationMenuViewport.displayName =\n  NavigationMenuPrimitive.Viewport.displayName\n\nconst NavigationMenuIndicator = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Indicator>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Indicator>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.Indicator\n    ref={ref}\n    className={cn(\n      \"top-full z-[1] flex h-1.5 items-end justify-center overflow-hidden data-[state=visible]:animate-in data-[state=hidden]:animate-out data-[state=hidden]:fade-out data-[state=visible]:fade-in\",\n      className\n    )}\n    {...props}\n  >\n    <div className=\"relative top-[60%] h-2 w-2 rotate-45 rounded-tl-sm bg-border shadow-md\" />\n  </NavigationMenuPrimitive.Indicator>\n))\nNavigationMenuIndicator.displayName =\n  NavigationMenuPrimitive.Indicator.displayName\n\nexport {\n  navigationMenuTriggerStyle,\n  NavigationMenu,\n  NavigationMenuList,\n  NavigationMenuItem,\n  NavigationMenuContent,\n  NavigationMenuTrigger,\n  NavigationMenuLink,\n  NavigationMenuIndicator,\n  NavigationMenuViewport,\n}\n","path":null,"size_bytes":5128,"size_tokens":null},"client/src/components/ui/resizable.tsx":{"content":"\"use client\"\n\nimport { GripVertical } from \"lucide-react\"\nimport * as ResizablePrimitive from \"react-resizable-panels\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ResizablePanelGroup = ({\n  className,\n  ...props\n}: React.ComponentProps<typeof ResizablePrimitive.PanelGroup>) => (\n  <ResizablePrimitive.PanelGroup\n    className={cn(\n      \"flex h-full w-full data-[panel-group-direction=vertical]:flex-col\",\n      className\n    )}\n    {...props}\n  />\n)\n\nconst ResizablePanel = ResizablePrimitive.Panel\n\nconst ResizableHandle = ({\n  withHandle,\n  className,\n  ...props\n}: React.ComponentProps<typeof ResizablePrimitive.PanelResizeHandle> & {\n  withHandle?: boolean\n}) => (\n  <ResizablePrimitive.PanelResizeHandle\n    className={cn(\n      \"relative flex w-px items-center justify-center bg-border after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-1 data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:-translate-y-1/2 data-[panel-group-direction=vertical]:after:translate-x-0 [&[data-panel-group-direction=vertical]>div]:rotate-90\",\n      className\n    )}\n    {...props}\n  >\n    {withHandle && (\n      <div className=\"z-10 flex h-4 w-3 items-center justify-center rounded-sm border bg-border\">\n        <GripVertical className=\"h-2.5 w-2.5\" />\n      </div>\n    )}\n  </ResizablePrimitive.PanelResizeHandle>\n)\n\nexport { ResizablePanelGroup, ResizablePanel, ResizableHandle }\n","path":null,"size_bytes":1723,"size_tokens":null},"client/src/components/app-sidebar.tsx":{"content":"import { Link, useLocation } from \"wouter\";\nimport { Home, Target, FileText, Map } from \"lucide-react\";\nimport {\n  Sidebar,\n  SidebarContent,\n  SidebarGroup,\n  SidebarGroupContent,\n  SidebarGroupLabel,\n  SidebarMenu,\n  SidebarMenuButton,\n  SidebarMenuItem,\n} from \"@/components/ui/sidebar\";\n\nconst menuItems = [\n  {\n    title: \"Dashboard\",\n    url: \"/dashboard\",\n    icon: Home,\n  },\n  {\n    title: \"Job Match\",\n    url: \"/job-match\",\n    icon: Target,\n  },\n  {\n    title: \"Career Roadmap\",\n    url: \"/career-roadmap\",\n    icon: Map,\n  },\n];\n\nexport function AppSidebar() {\n  const [location] = useLocation();\n\n  return (\n    <Sidebar>\n      <SidebarContent>\n        <SidebarGroup>\n          <SidebarGroupLabel className=\"flex items-center gap-2 px-2\">\n            <FileText className=\"w-5 h-5 text-primary\" />\n            <span className=\"font-semibold\">ResuMatch Pro</span>\n          </SidebarGroupLabel>\n          <SidebarGroupContent>\n            <SidebarMenu>\n              {menuItems.map((item) => (\n                <SidebarMenuItem key={item.title}>\n                  <SidebarMenuButton asChild isActive={location === item.url}>\n                    <Link href={item.url} data-testid={`nav-link-${item.title.toLowerCase().replace(' ', '-')}`}>\n                      <item.icon />\n                      <span>{item.title}</span>\n                    </Link>\n                  </SidebarMenuButton>\n                </SidebarMenuItem>\n              ))}\n            </SidebarMenu>\n          </SidebarGroupContent>\n        </SidebarGroup>\n      </SidebarContent>\n    </Sidebar>\n  );\n}\n","path":null,"size_bytes":1584,"size_tokens":null},"replit.md":{"content":"# ResuMatch Pro\n\n## Overview\n\nResuMatch Pro is an AI-powered resume analysis and job matching web application that helps users evaluate and improve their resumes and match them against job opportunities. The application allows users to upload resumes in various formats (PDF, DOCX, images), extracts text content, and uses Google Gemini AI to provide:\n1. **Resume Analysis**: Comprehensive completeness scores, section-by-section ratings, and actionable improvement suggestions\n2. **Job Matching**: Alignment scores (0-100%), gap analysis, strengths identification, and tailored recommendations by comparing resumes against either custom job descriptions or curated role+location combinations\n3. **Career Roadmap**: Personalized career development plans based on dream role, location, and timeframe (6 months to 2 years), including current gaps analysis, skills to acquire, phased action plans, recommended resources, and milestone tracking\n\n## User Preferences\n\nPreferred communication style: Simple, everyday language.\n\n## System Architecture\n\n### Simplified Single Flask App (December 2025)\n\nThe application uses a simplified single Flask app architecture with server-side rendering using Jinja2 templates. This makes it easy to deploy on VS Code, AWS, or any environment that supports Python.\n\n### Project Structure\n\n```\nresumatch-pro/\n├── app.py              # Main Flask application with all routes\n├── config.py           # Configuration settings (DB, API keys)\n├── models.py           # SQLAlchemy database models\n├── ai_service.py       # Google Gemini AI integration\n├── file_processor.py   # Resume file parsing (PDF, DOCX, images)\n├── auth.py             # Password hashing with bcrypt\n├── run.py              # Entry point (python run.py)\n├── templates/          # Jinja2 HTML templates\n│   ├── base.html       # Base template for public pages\n│   ├── layout_auth.html # Layout with sidebar for authenticated pages\n│   ├── index.html      # Landing page\n│   ├── login.html      # Login form\n│   ├── register.html   # Registration form\n│   ├── dashboard.html  # Home page with resume upload\n│   ├── analysis.html   # Resume analysis results\n│   ├── job_match.html  # Job match input form\n│   ├── job_match_results.html # Job match results with gap assessment\n│   ├── career_roadmap.html # Career roadmap input form\n│   └── career_roadmap_results.html # Career roadmap display\n└── static/             # CSS and assets\n```\n\n### Frontend Architecture\n\n**Framework**: Server-side rendered HTML using Jinja2 templates\n\n**Styling**: Tailwind CSS via CDN with custom theme colors\n\n**Navigation**: \n- Sidebar navigation with links to Home, Job Match Analysis, and Career Roadmap\n- \"Home\" replaces \"Dashboard\" throughout the application\n\n**Key Pages**:\n- Landing page with login/register options\n- Home page for resume upload and management (shows most recent resume)\n- Resume analysis results page with progress bar and section scores\n- Job match input page with two modes: custom job description or curated role+location selection\n- Job match results page with alignment scores, strengths, gaps, interactive gap assessment, and tailored resume generation\n- Career roadmap page with dream role/location form and comprehensive career guidance\n\n### Backend Architecture\n\n**Framework**: Flask with SQLAlchemy ORM\n\n**Routes** (defined in app.py):\n- `/` - Landing page (redirects to /home if logged in)\n- `/register`, `/login`, `/logout` - Authentication\n- `/home` - Home page with resume upload\n- `/upload-resume` - Resume file upload (POST)\n- `/analyze-resume/<resume_id>` - Trigger AI analysis\n- `/analysis/<analysis_id>` - View analysis results\n- `/job-match` - Job match input form\n- `/job-match/analyze` - Submit job match analysis (POST)\n- `/job-match/<match_id>` - View job match results\n- `/job-match/<match_id>/submit-gaps` - Submit gap proficiency responses (API)\n- `/job-match/<match_id>/generate-resume` - Generate tailored resume (API)\n- `/job-match/<match_id>/download-pdf` - Download tailored resume as PDF\n- `/career-roadmap` - Career roadmap input form\n- `/career-roadmap/generate` - Generate career roadmap (POST)\n- `/career-roadmap/<roadmap_id>` - View career roadmap results\n\n**File Processing Pipeline**:\n1. Flask handles multipart form data (10MB file size limit)\n2. Format-specific text extraction:\n   - PDF: PyPDF2 library\n   - DOCX: python-docx library\n   - Images: pytesseract for OCR\n3. Extracted text stored in database with resume metadata\n\n**AI Integration**: \n- Google Gemini AI (gemini-2.0-flash-exp model)\n- Uses `google-generativeai` Python SDK\n- GEMINI_API_KEY environment variable required\n- **Enhanced Prompting Strategy**:\n  - Brutally honest resume analysis: identifies overused buzzwords, weak action verbs, missing metrics\n  - Results-driven language emphasis: transforms passive statements into impact-oriented achievements\n  - **Zero-hallucination policy**: AI enhances language WITHOUT inventing fake numbers or metrics\n  - Action verb coaching: promotes \"architected\", \"led\", \"scaled\" over \"worked on\", \"helped with\"\n\n**Resume Analysis Data Flow**:\n1. User uploads file → Flask processes multipart data\n2. Text extraction based on file type\n3. Extracted text stored with resume metadata\n4. Analysis triggered via separate endpoint\n5. Gemini processes text and returns structured JSON\n6. Results stored and displayed to user\n\n**Job Matching Data Flow** (Hybrid Keyword + AI Analysis):\n1. User provides either custom job description OR selects role + location from curated lists\n2. If role+location selected, Gemini generates a tailored job description\n3. User's most recent resume text is retrieved\n4. **Keyword extraction**: System identifies tech skills, soft skills, and requirements from job description\n5. **Keyword matching**: Resume is checked for presence of extracted keywords\n6. Gemini analyzes resume against job requirements using semantic understanding + keyword findings\n7. **Combined scoring**: Final alignment score = 30% keyword match + 70% AI semantic analysis\n8. AI returns alignment score (0-100% using full range), strengths, categorized gaps (with HIGH/MEDIUM/LOW severity)\n9. Initial results stored in database\n10. **Interactive Gap Assessment**: User provides proficiency level (None/Basic/Moderate/Advanced) for each identified gap\n11. Gemini generates final verdict based on gap responses\n12. **Tailored Resume Generation** (Optional): User can request AI-generated tailored resume optimized for ATS\n13. Resume downloaded as PDF via server-side ReportLab generation\n\n**Career Roadmap Data Flow**:\n1. User fills in dream role, dream location, and selects timeframe (6 months to 2 years)\n2. User's most recent resume text is retrieved\n3. Gemini analyzes current resume against dream role requirements\n4. AI generates comprehensive career guidance including:\n   - Current gaps, skills to acquire, action plan, resources, milestones\n5. Career roadmap stored in database and displayed to user\n\n### Data Storage\n\n**Database**: PostgreSQL via Neon serverless with SQLAlchemy ORM\n\n**Connection Settings** (for serverless PostgreSQL):\n- pool_pre_ping=True\n- pool_recycle=300\n- pool_size=5, max_overflow=10\n\n**Database Schema**:\n\n**Users Table**:\n- id (UUID primary key)\n- username (text, unique)\n- password_hash (text)\n\n**Resumes Table**:\n- id (UUID primary key)\n- user_id (foreign key to users)\n- filename, filesize, mime_type\n- extracted_text\n- created_at\n\n**Analyses Table**:\n- id (UUID primary key)\n- resume_id (foreign key to resumes)\n- completeness_score, completeness_rationale\n- section_scores (JSON)\n- suggestions (JSON)\n- created_at\n\n**JobMatches Table**:\n- id (UUID primary key)\n- resume_id (foreign key to resumes)\n- job_description, job_role, job_location\n- alignment_score, alignment_rationale\n- strengths, gaps (JSON)\n- gap_responses (JSON)\n- final_verdict, should_apply\n- changes_summary, tailored_resume_content\n- created_at\n\n**CareerRoadmaps Table**:\n- id (UUID primary key)\n- user_id, resume_id\n- dream_role, dream_location, timeframe\n- current_gaps, skills_to_acquire, action_plan, resources, milestones (JSON)\n- created_at\n\n### Environment Variables\n\nRequired environment variables:\n- `DATABASE_URL` - PostgreSQL connection string\n- `GEMINI_API_KEY` - Google Gemini API key\n- `SESSION_SECRET` - Flask session secret key\n\n### Running the Application\n\n```bash\n# Install dependencies\npip install flask flask-sqlalchemy python-dotenv google-generativeai bcrypt PyPDF2 python-docx pytesseract Pillow reportlab psycopg2-binary\n\n# Run the app\npython app.py\n# or\npython run.py\n```\n\nThe app will be available at http://localhost:5000\n\n### PDF Generation\n\n- Uses ReportLab for server-side PDF generation\n- JSON schema-first approach for AI→PDF pipeline\n- PDF includes:\n  - Name at top with proper spacing\n  - Contact info line\n  - Clickable social links (LinkedIn, GitHub, Kaggle, Medium, Google Scholar)\n  - Bold section headers\n  - Bullet points for all list items\n  - ATS-friendly formatting\n","path":null,"size_bytes":9113,"size_tokens":null},"client/src/components/ui/context-menu.tsx":{"content":"import * as React from \"react\"\nimport * as ContextMenuPrimitive from \"@radix-ui/react-context-menu\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ContextMenu = ContextMenuPrimitive.Root\n\nconst ContextMenuTrigger = ContextMenuPrimitive.Trigger\n\nconst ContextMenuGroup = ContextMenuPrimitive.Group\n\nconst ContextMenuPortal = ContextMenuPrimitive.Portal\n\nconst ContextMenuSub = ContextMenuPrimitive.Sub\n\nconst ContextMenuRadioGroup = ContextMenuPrimitive.RadioGroup\n\nconst ContextMenuSubTrigger = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <ContextMenuPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto h-4 w-4\" />\n  </ContextMenuPrimitive.SubTrigger>\n))\nContextMenuSubTrigger.displayName = ContextMenuPrimitive.SubTrigger.displayName\n\nconst ContextMenuSubContent = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <ContextMenuPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-context-menu-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nContextMenuSubContent.displayName = ContextMenuPrimitive.SubContent.displayName\n\nconst ContextMenuContent = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <ContextMenuPrimitive.Portal>\n    <ContextMenuPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"z-50 max-h-[--radix-context-menu-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md animate-in fade-in-80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-context-menu-content-transform-origin]\",\n        className\n      )}\n      {...props}\n    />\n  </ContextMenuPrimitive.Portal>\n))\nContextMenuContent.displayName = ContextMenuPrimitive.Content.displayName\n\nconst ContextMenuItem = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <ContextMenuPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nContextMenuItem.displayName = ContextMenuPrimitive.Item.displayName\n\nconst ContextMenuCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <ContextMenuPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <ContextMenuPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </ContextMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </ContextMenuPrimitive.CheckboxItem>\n))\nContextMenuCheckboxItem.displayName =\n  ContextMenuPrimitive.CheckboxItem.displayName\n\nconst ContextMenuRadioItem = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <ContextMenuPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <ContextMenuPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </ContextMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </ContextMenuPrimitive.RadioItem>\n))\nContextMenuRadioItem.displayName = ContextMenuPrimitive.RadioItem.displayName\n\nconst ContextMenuLabel = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <ContextMenuPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold text-foreground\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nContextMenuLabel.displayName = ContextMenuPrimitive.Label.displayName\n\nconst ContextMenuSeparator = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <ContextMenuPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-border\", className)}\n    {...props}\n  />\n))\nContextMenuSeparator.displayName = ContextMenuPrimitive.Separator.displayName\n\nconst ContextMenuShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\n        \"ml-auto text-xs tracking-widest text-muted-foreground\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\nContextMenuShortcut.displayName = \"ContextMenuShortcut\"\n\nexport {\n  ContextMenu,\n  ContextMenuTrigger,\n  ContextMenuContent,\n  ContextMenuItem,\n  ContextMenuCheckboxItem,\n  ContextMenuRadioItem,\n  ContextMenuLabel,\n  ContextMenuSeparator,\n  ContextMenuShortcut,\n  ContextMenuGroup,\n  ContextMenuPortal,\n  ContextMenuSub,\n  ContextMenuSubContent,\n  ContextMenuSubTrigger,\n  ContextMenuRadioGroup,\n}\n","path":null,"size_bytes":7428,"size_tokens":null},"client/src/main.tsx":{"content":"import { createRoot } from \"react-dom/client\";\nimport App from \"./App\";\nimport \"./index.css\";\n\ncreateRoot(document.getElementById(\"root\")!).render(<App />);\n","path":null,"size_bytes":157,"size_tokens":null},"client/src/pages/job-match-results.tsx":{"content":"import { useState } from \"react\";\nimport { useParams, useLocation } from \"wouter\";\nimport { useQuery, useMutation } from \"@tanstack/react-query\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent, CardHeader, CardTitle, CardDescription } from \"@/components/ui/card\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Skeleton } from \"@/components/ui/skeleton\";\nimport { Progress } from \"@/components/ui/progress\";\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from \"@/components/ui/select\";\nimport { ArrowLeft, CheckCircle2, AlertCircle, Send, FileDown, Loader2 } from \"lucide-react\";\nimport type { JobMatch } from \"@shared/schema\";\nimport { apiRequest, queryClient } from \"@/lib/queryClient\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport pdfMake from \"pdfmake/build/pdfmake\";\nimport pdfFonts from \"pdfmake/build/vfs_fonts\";\n\n(pdfMake as any).addVirtualFileSystem(pdfFonts);\n\nconst SEVERITY_STYLES = {\n  high: { variant: \"destructive\" as const, label: \"Critical\" },\n  medium: { variant: \"default\" as const, label: \"Important\" },\n  low: { variant: \"secondary\" as const, label: \"Minor\" },\n};\n\nconst PROFICIENCY_LEVELS = [\n  { value: \"none\", label: \"Not at all\" },\n  { value: \"basic\", label: \"Basic\" },\n  { value: \"moderate\", label: \"Moderate\" },\n  { value: \"advanced\", label: \"Advanced\" },\n];\n\nexport default function JobMatchResults() {\n  const { id } = useParams<{ id: string }>();\n  const [, setLocation] = useLocation();\n  const { toast } = useToast();\n  \n  const [gapResponses, setGapResponses] = useState<Record<number, string>>({});\n\n  const { data: jobMatch, isLoading } = useQuery<JobMatch>({\n    queryKey: [`/api/job-matches/${id}`],\n    enabled: !!id,\n  });\n\n  const submitResponsesMutation = useMutation({\n    mutationFn: async (responses: Array<{ gapIndex: number; proficiencyLevel: string }>) => {\n      const response = await apiRequest(\"POST\", `/api/job-matches/${id}/submit-responses`, {\n        gapResponses: responses,\n      });\n      return await response.json();\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [`/api/job-matches/${id}`] });\n      toast({\n        title: \"Responses submitted\",\n        description: \"Generating your final recommendation...\",\n      });\n    },\n    onError: (error: Error) => {\n      toast({\n        title: \"Submission failed\",\n        description: error.message,\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  const generateResumeMutation = useMutation({\n    mutationFn: async () => {\n      const response = await apiRequest(\"POST\", `/api/job-matches/${id}/generate-resume`, {});\n      return await response.json();\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [`/api/job-matches/${id}`] });\n      toast({\n        title: \"Resume generated\",\n        description: \"Your tailored resume is ready for download!\",\n      });\n    },\n    onError: (error: Error) => {\n      toast({\n        title: \"Generation failed\",\n        description: error.message,\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  const handleProficiencyChange = (gapIndex: number, value: string) => {\n    setGapResponses((prev) => ({ ...prev, [gapIndex]: value }));\n  };\n\n  const handleSubmitResponses = () => {\n    const responses = Object.entries(gapResponses).map(([index, level]) => ({\n      gapIndex: parseInt(index),\n      proficiencyLevel: level,\n    }));\n    submitResponsesMutation.mutate(responses);\n  };\n\n  const parseMarkdownLinks = (text: string): any[] => {\n    const linkRegex = /\\[([^\\]]+)\\]\\(([^)]+)\\)/g;\n    const parts: any[] = [];\n    let lastIndex = 0;\n    let match;\n\n    while ((match = linkRegex.exec(text)) !== null) {\n      if (match.index > lastIndex) {\n        parts.push({ text: text.substring(lastIndex, match.index) });\n      }\n      \n      parts.push({\n        text: match[1],\n        link: match[2],\n        color: 'blue',\n        decoration: 'underline',\n      });\n      \n      lastIndex = match.index + match[0].length;\n    }\n\n    if (lastIndex < text.length) {\n      parts.push({ text: text.substring(lastIndex) });\n    }\n\n    return parts.length > 0 ? parts : [{ text }];\n  };\n\n  const parseInlineMarkdown = (text: string): any[] => {\n    const parts: any[] = [];\n    let currentIndex = 0;\n    \n    // Parse bold (**text**) and links [text](url)\n    const boldRegex = /\\*\\*(.+?)\\*\\*/g;\n    const linkRegex = /\\[([^\\]]+)\\]\\(([^)]+)\\)/g;\n    \n    // Combine both patterns\n    const combinedRegex = /(\\*\\*(.+?)\\*\\*)|(\\[([^\\]]+)\\]\\(([^)]+)\\))/g;\n    let match;\n    \n    while ((match = combinedRegex.exec(text)) !== null) {\n      // Add text before the match\n      if (match.index > currentIndex) {\n        parts.push({ text: text.substring(currentIndex, match.index) });\n      }\n      \n      // Check if it's bold or link\n      if (match[1]) {\n        // Bold text\n        parts.push({ text: match[2], bold: true });\n      } else if (match[3]) {\n        // Link\n        parts.push({ \n          text: match[4], \n          link: match[5],\n          color: '#0066cc',\n          decoration: 'underline'\n        });\n      }\n      \n      currentIndex = match.index + match[0].length;\n    }\n    \n    // Add remaining text\n    if (currentIndex < text.length) {\n      parts.push({ text: text.substring(currentIndex) });\n    }\n    \n    return parts.length > 0 ? parts : [{ text }];\n  };\n\n  const handleDownloadResume = () => {\n    if (!jobMatch?.tailoredResumeContent) return;\n\n    const content = jobMatch.tailoredResumeContent;\n    const lines = content.split('\\n');\n    \n    const docContent: any[] = [];\n    let bulletItems: any[] = [];\n    let userName = \"resume\"; // Default fallback\n    \n    for (let i = 0; i < lines.length; i++) {\n      const trimmedLine = lines[i].trim();\n      \n      // Skip empty lines unless we have pending bullets\n      if (!trimmedLine) {\n        if (bulletItems.length > 0) {\n          docContent.push({\n            ul: bulletItems,\n            margin: [0, 1, 0, 3],\n            fontSize: 10,\n            lineHeight: 1.3,\n          });\n          bulletItems = [];\n        }\n        continue;\n      }\n      \n      // Handle main heading (# Name) - extract user name\n      if (trimmedLine.startsWith('# ')) {\n        if (bulletItems.length > 0) {\n          docContent.push({\n            ul: bulletItems,\n            margin: [0, 1, 0, 3],\n            fontSize: 10,\n            lineHeight: 1.3,\n          });\n          bulletItems = [];\n        }\n        const text = trimmedLine.substring(2);\n        // Extract plain text name (remove any markdown)\n        userName = text.replace(/\\*\\*/g, '').replace(/\\[([^\\]]+)\\]\\([^)]+\\)/g, '$1').trim();\n        \n        docContent.push({\n          text: parseInlineMarkdown(text),\n          fontSize: 20,\n          bold: true,\n          margin: [0, 0, 0, 5],\n        });\n      } else if (trimmedLine.startsWith('## ')) {\n        if (bulletItems.length > 0) {\n          docContent.push({\n            ul: bulletItems,\n            margin: [0, 1, 0, 3],\n            fontSize: 10,\n            lineHeight: 1.3,\n          });\n          bulletItems = [];\n        }\n        const text = trimmedLine.substring(3);\n        docContent.push({\n          text: parseInlineMarkdown(text),\n          fontSize: 14,\n          bold: true,\n          margin: [0, 8, 0, 4],\n        });\n      } else if (trimmedLine.startsWith('- ') || trimmedLine.startsWith('* ') || trimmedLine.startsWith('• ')) {\n        // Collect bullet items - strip the bullet character\n        const text = trimmedLine.substring(2).trim();\n        bulletItems.push(parseInlineMarkdown(text));\n      } else {\n        // Check if this is a job title line (contains ** and |)\n        const isJobTitleLine = trimmedLine.includes('**') && trimmedLine.includes('|');\n        \n        // Regular paragraph - flush any pending bullets first\n        if (bulletItems.length > 0) {\n          docContent.push({\n            ul: bulletItems,\n            margin: [0, 1, 0, 3],\n            fontSize: 10,\n            lineHeight: 1.3,\n          });\n          bulletItems = [];\n        }\n        \n        // Job title/company lines get tighter spacing, regular paragraphs get normal spacing\n        docContent.push({\n          text: parseInlineMarkdown(trimmedLine),\n          margin: isJobTitleLine ? [0, 4, 0, 1] : [0, 2, 0, 2],\n          fontSize: 10,\n          lineHeight: 1.3,\n        });\n      }\n    }\n    \n    // Flush any remaining bullets\n    if (bulletItems.length > 0) {\n      docContent.push({\n        ul: bulletItems,\n        margin: [0, 1, 0, 3],\n        fontSize: 10,\n        lineHeight: 1.3,\n      });\n    }\n\n    const documentDefinition = {\n      content: docContent,\n      defaultStyle: {\n        font: 'Roboto',\n        lineHeight: 1.3,\n      },\n    };\n\n    // Use extracted user name in filename\n    const safeFileName = userName.replace(/[^a-zA-Z0-9\\s]/g, '').replace(/\\s+/g, ' ').trim();\n    pdfMake.createPdf(documentDefinition).download(`${safeFileName}_tailored resume.pdf`);\n  };\n\n  if (isLoading) {\n    return (\n      <div className=\"min-h-full bg-background\">\n        <div className=\"max-w-6xl mx-auto p-6 lg:p-12\">\n          <Skeleton className=\"h-10 w-3/4 mb-8\" />\n          <Skeleton className=\"h-64 w-full\" />\n        </div>\n      </div>\n    );\n  }\n\n  if (!jobMatch) {\n    return (\n      <div className=\"min-h-full bg-background\">\n        <div className=\"max-w-6xl mx-auto p-6 lg:p-12\">\n          <p>Job match analysis not found</p>\n        </div>\n      </div>\n    );\n  }\n\n  const allGapsAnswered = jobMatch.gaps.every((_, index) => gapResponses[index]);\n  const hasSubmittedResponses = !!jobMatch.gapResponses && jobMatch.gapResponses.length > 0;\n  const hasFinalVerdict = !!jobMatch.finalVerdict;\n  const hasGeneratedResume = !!jobMatch.tailoredResumeContent;\n\n  return (\n    <div className=\"min-h-full bg-background\">\n      <div className=\"max-w-6xl mx-auto p-6 lg:p-12 space-y-8\">\n        <div className=\"flex items-center gap-4\">\n          <Button\n            variant=\"ghost\"\n            size=\"icon\"\n            onClick={() => setLocation(\"/job-match\")}\n            data-testid=\"button-back\"\n          >\n            <ArrowLeft className=\"w-5 h-5\" />\n          </Button>\n          <div className=\"flex-1\">\n            <h1 className=\"text-2xl font-semibold\">Job Match Analysis</h1>\n            {jobMatch.jobRole && jobMatch.jobLocation && (\n              <p className=\"text-muted-foreground mt-1\">\n                {jobMatch.jobRole} - {jobMatch.jobLocation}\n              </p>\n            )}\n          </div>\n        </div>\n\n        <Card>\n          <CardHeader className=\"text-center\">\n            <CardTitle className=\"text-2xl font-semibold mb-2\">Alignment Score</CardTitle>\n            <div className=\"flex items-center justify-center gap-2 mb-4\">\n              <span className=\"text-6xl font-bold\" data-testid=\"text-alignment-score\">\n                {jobMatch.alignmentScore}\n              </span>\n              <span className=\"text-2xl text-muted-foreground\">%</span>\n            </div>\n            <Progress value={jobMatch.alignmentScore} className=\"h-3 mb-4\" />\n            <CardDescription className=\"text-base leading-relaxed\">\n              {jobMatch.alignmentRationale}\n            </CardDescription>\n          </CardHeader>\n        </Card>\n\n        <Card>\n          <CardHeader>\n            <CardTitle className=\"text-xl font-semibold flex items-center gap-2\">\n              <CheckCircle2 className=\"w-5 h-5 text-green-600\" />\n              Your Strengths\n            </CardTitle>\n          </CardHeader>\n          <CardContent>\n            <ul className=\"space-y-3\" data-testid=\"strengths-list\">\n              {jobMatch.strengths.map((strength, index) => (\n                <li key={index} className=\"flex gap-3\" data-testid={`strength-${index}`}>\n                  <div className=\"mt-1 flex-shrink-0\">\n                    <div className=\"w-1.5 h-1.5 rounded-full bg-green-600\" />\n                  </div>\n                  <p className=\"text-base leading-relaxed\">{strength}</p>\n                </li>\n              ))}\n            </ul>\n          </CardContent>\n        </Card>\n\n        <Card>\n          <CardHeader>\n            <CardTitle className=\"text-xl font-semibold flex items-center gap-2\">\n              <AlertCircle className=\"w-5 h-5 text-orange-600\" />\n              Gaps to Address\n            </CardTitle>\n            <CardDescription>\n              Please indicate your proficiency level for each missing skill or requirement\n            </CardDescription>\n          </CardHeader>\n          <CardContent>\n            <div className=\"space-y-6\" data-testid=\"gaps-list\">\n              {jobMatch.gaps.map((gap, index) => (\n                <div key={index} className=\"space-y-3\" data-testid={`gap-${index}`}>\n                  <div className=\"flex items-center gap-2\">\n                    <Badge variant={SEVERITY_STYLES[gap.severity].variant}>\n                      {SEVERITY_STYLES[gap.severity].label}\n                    </Badge>\n                    <span className=\"font-medium text-sm\">{gap.category}</span>\n                  </div>\n                  <p className=\"text-base leading-relaxed pl-4\">\n                    {gap.description}\n                  </p>\n                  <div className=\"pl-4\">\n                    <Select\n                      value={gapResponses[index]}\n                      onValueChange={(value) => handleProficiencyChange(index, value)}\n                      disabled={hasSubmittedResponses}\n                    >\n                      <SelectTrigger \n                        className=\"w-full sm:w-64\"\n                        data-testid={`select-gap-${index}`}\n                      >\n                        <SelectValue placeholder=\"Select your proficiency level\" />\n                      </SelectTrigger>\n                      <SelectContent>\n                        {PROFICIENCY_LEVELS.map((level) => (\n                          <SelectItem \n                            key={level.value} \n                            value={level.value}\n                            data-testid={`option-${level.value}`}\n                          >\n                            {level.label}\n                          </SelectItem>\n                        ))}\n                      </SelectContent>\n                    </Select>\n                  </div>\n                </div>\n              ))}\n            </div>\n\n            {!hasSubmittedResponses && (\n              <div className=\"mt-6 flex justify-end\">\n                <Button\n                  onClick={handleSubmitResponses}\n                  disabled={!allGapsAnswered || submitResponsesMutation.isPending}\n                  size=\"lg\"\n                  data-testid=\"button-submit-responses\"\n                >\n                  {submitResponsesMutation.isPending ? (\n                    <>\n                      <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" />\n                      Analyzing...\n                    </>\n                  ) : (\n                    <>\n                      <Send className=\"w-4 h-4 mr-2\" />\n                      Submit Responses\n                    </>\n                  )}\n                </Button>\n              </div>\n            )}\n          </CardContent>\n        </Card>\n\n        {hasFinalVerdict && (\n          <Card className=\"border-primary\">\n            <CardHeader>\n              <CardTitle className=\"text-xl font-semibold\">Final Recommendation</CardTitle>\n            </CardHeader>\n            <CardContent className=\"space-y-4\">\n              <p className=\"text-base leading-relaxed\">{jobMatch.finalVerdict}</p>\n              \n              {jobMatch.shouldApply !== null && (\n                <div className=\"pt-4 border-t\">\n                  <p className=\"text-sm text-muted-foreground mb-4\">\n                    Note: This is just a recommendation with no guarantees. We believe in positivity, \n                    so you should apply anyway to take your chance!\n                  </p>\n                </div>\n              )}\n\n              {!hasGeneratedResume && (\n                <Button\n                  onClick={() => generateResumeMutation.mutate()}\n                  disabled={generateResumeMutation.isPending}\n                  size=\"lg\"\n                  className=\"w-full\"\n                  data-testid=\"button-generate-resume\"\n                >\n                  {generateResumeMutation.isPending ? (\n                    <>\n                      <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" />\n                      Generating Resume...\n                    </>\n                  ) : (\n                    \"Generate Tailored Resume\"\n                  )}\n                </Button>\n              )}\n\n              {hasGeneratedResume && (\n                <div className=\"space-y-3\">\n                  <div className=\"bg-green-50 dark:bg-green-900/20 p-4 rounded-md\">\n                    <p className=\"text-sm font-medium text-green-900 dark:text-green-100\">\n                      Your tailored resume is ready!\n                    </p>\n                    <p className=\"text-sm text-green-700 dark:text-green-300 mt-1\">\n                      This resume is ATS-friendly and optimized for the position based on your profile.\n                    </p>\n                  </div>\n                  <Button\n                    onClick={handleDownloadResume}\n                    size=\"lg\"\n                    className=\"w-full\"\n                    data-testid=\"button-download-resume\"\n                  >\n                    <FileDown className=\"w-4 h-4 mr-2\" />\n                    Download Tailored Resume\n                  </Button>\n                </div>\n              )}\n            </CardContent>\n          </Card>\n        )}\n\n        {hasGeneratedResume && jobMatch.changesSummary && (\n          <Card>\n            <CardHeader>\n              <CardTitle className=\"text-xl font-semibold\">Changes Made to Your Resume</CardTitle>\n              <CardDescription>\n                Review the modifications and improvements applied to tailor your resume for this position\n              </CardDescription>\n            </CardHeader>\n            <CardContent>\n              <div className=\"prose dark:prose-invert max-w-none\">\n                <pre className=\"whitespace-pre-wrap text-sm leading-relaxed\">\n                  {jobMatch.changesSummary}\n                </pre>\n              </div>\n            </CardContent>\n          </Card>\n        )}\n      </div>\n    </div>\n  );\n}\n","path":null,"size_bytes":18477,"size_tokens":null},"client/src/components/ui/dialog.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Dialog = DialogPrimitive.Root\n\nconst DialogTrigger = DialogPrimitive.Trigger\n\nconst DialogPortal = DialogPrimitive.Portal\n\nconst DialogClose = DialogPrimitive.Close\n\nconst DialogOverlay = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Overlay\n    ref={ref}\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogOverlay.displayName = DialogPrimitive.Overlay.displayName\n\nconst DialogContent = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DialogPortal>\n    <DialogOverlay />\n    <DialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <DialogPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </DialogPrimitive.Close>\n    </DialogPrimitive.Content>\n  </DialogPortal>\n))\nDialogContent.displayName = DialogPrimitive.Content.displayName\n\nconst DialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-1.5 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogHeader.displayName = \"DialogHeader\"\n\nconst DialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogFooter.displayName = \"DialogFooter\"\n\nconst DialogTitle = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Title\n    ref={ref}\n    className={cn(\n      \"text-lg font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogTitle.displayName = DialogPrimitive.Title.displayName\n\nconst DialogDescription = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nDialogDescription.displayName = DialogPrimitive.Description.displayName\n\nexport {\n  Dialog,\n  DialogPortal,\n  DialogOverlay,\n  DialogClose,\n  DialogTrigger,\n  DialogContent,\n  DialogHeader,\n  DialogFooter,\n  DialogTitle,\n  DialogDescription,\n}\n","path":null,"size_bytes":3848,"size_tokens":null},"client/src/components/ui/textarea.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Textarea = React.forwardRef<\n  HTMLTextAreaElement,\n  React.ComponentProps<\"textarea\">\n>(({ className, ...props }, ref) => {\n  return (\n    <textarea\n      className={cn(\n        \"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n        className\n      )}\n      ref={ref}\n      {...props}\n    />\n  )\n})\nTextarea.displayName = \"Textarea\"\n\nexport { Textarea }\n","path":null,"size_bytes":689,"size_tokens":null},"server/vite.ts":{"content":"import express, { type Express } from \"express\";\nimport fs from \"fs\";\nimport path from \"path\";\nimport { createServer as createViteServer, createLogger } from \"vite\";\nimport { type Server } from \"http\";\nimport viteConfig from \"../vite.config\";\nimport { nanoid } from \"nanoid\";\n\nconst viteLogger = createLogger();\n\nexport function log(message: string, source = \"express\") {\n  const formattedTime = new Date().toLocaleTimeString(\"en-US\", {\n    hour: \"numeric\",\n    minute: \"2-digit\",\n    second: \"2-digit\",\n    hour12: true,\n  });\n\n  console.log(`${formattedTime} [${source}] ${message}`);\n}\n\nexport async function setupVite(app: Express, server: Server) {\n  const serverOptions = {\n    middlewareMode: true,\n    hmr: { server },\n    allowedHosts: true as const,\n  };\n\n  const vite = await createViteServer({\n    ...viteConfig,\n    configFile: false,\n    customLogger: {\n      ...viteLogger,\n      error: (msg, options) => {\n        viteLogger.error(msg, options);\n        process.exit(1);\n      },\n    },\n    server: serverOptions,\n    appType: \"custom\",\n  });\n\n  app.use(vite.middlewares);\n  app.use(\"*\", async (req, res, next) => {\n    const url = req.originalUrl;\n\n    try {\n      const clientTemplate = path.resolve(\n        import.meta.dirname,\n        \"..\",\n        \"client\",\n        \"index.html\",\n      );\n\n      // always reload the index.html file from disk incase it changes\n      let template = await fs.promises.readFile(clientTemplate, \"utf-8\");\n      template = template.replace(\n        `src=\"/src/main.tsx\"`,\n        `src=\"/src/main.tsx?v=${nanoid()}\"`,\n      );\n      const page = await vite.transformIndexHtml(url, template);\n      res.status(200).set({ \"Content-Type\": \"text/html\" }).end(page);\n    } catch (e) {\n      vite.ssrFixStacktrace(e as Error);\n      next(e);\n    }\n  });\n}\n\nexport function serveStatic(app: Express) {\n  const distPath = path.resolve(import.meta.dirname, \"public\");\n\n  if (!fs.existsSync(distPath)) {\n    throw new Error(\n      `Could not find the build directory: ${distPath}, make sure to build the client first`,\n    );\n  }\n\n  app.use(express.static(distPath));\n\n  // fall through to index.html if the file doesn't exist\n  app.use(\"*\", (_req, res) => {\n    res.sendFile(path.resolve(distPath, \"index.html\"));\n  });\n}\n","path":null,"size_bytes":2263,"size_tokens":null},"client/src/components/ui/avatar.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as AvatarPrimitive from \"@radix-ui/react-avatar\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Avatar = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Root\n    ref={ref}\n    className={cn(`\n      after:content-[''] after:block after:absolute after:inset-0 after:rounded-full after:pointer-events-none after:border after:border-black/10 dark:after:border-white/10\n      relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full`,\n      className\n    )}\n    {...props}\n  />\n))\nAvatar.displayName = AvatarPrimitive.Root.displayName\n\nconst AvatarImage = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Image>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Image>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Image\n    ref={ref}\n    className={cn(\"aspect-square h-full w-full\", className)}\n    {...props}\n  />\n))\nAvatarImage.displayName = AvatarPrimitive.Image.displayName\n\nconst AvatarFallback = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Fallback>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Fallback>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Fallback\n    ref={ref}\n    className={cn(\n      \"flex h-full w-full items-center justify-center rounded-full bg-muted\",\n      className\n    )}\n    {...props}\n  />\n))\nAvatarFallback.displayName = AvatarPrimitive.Fallback.displayName\n\nexport { Avatar, AvatarImage, AvatarFallback }\n","path":null,"size_bytes":1592,"size_tokens":null},"client/src/components/ui/card.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"shadcn-card rounded-xl border bg-card border-card-border text-card-foreground shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n));\nCard.displayName = \"Card\"\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n    {...props}\n  />\n));\nCardHeader.displayName = \"CardHeader\"\n\nconst CardTitle = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"text-2xl font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nCardTitle.displayName = \"CardTitle\"\n\nconst CardDescription = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n));\nCardDescription.displayName = \"CardDescription\"\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n))\nCardContent.displayName = \"CardContent\"\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center p-6 pt-0\", className)}\n    {...props}\n  />\n))\nCardFooter.displayName = \"CardFooter\"\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardDescription,\n  CardContent,\n}\n","path":null,"size_bytes":1904,"size_tokens":null},"client/src/components/ui/pagination.tsx":{"content":"import * as React from \"react\"\nimport { ChevronLeft, ChevronRight, MoreHorizontal } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { ButtonProps, buttonVariants } from \"@/components/ui/button\"\n\nconst Pagination = ({ className, ...props }: React.ComponentProps<\"nav\">) => (\n  <nav\n    role=\"navigation\"\n    aria-label=\"pagination\"\n    className={cn(\"mx-auto flex w-full justify-center\", className)}\n    {...props}\n  />\n)\nPagination.displayName = \"Pagination\"\n\nconst PaginationContent = React.forwardRef<\n  HTMLUListElement,\n  React.ComponentProps<\"ul\">\n>(({ className, ...props }, ref) => (\n  <ul\n    ref={ref}\n    className={cn(\"flex flex-row items-center gap-1\", className)}\n    {...props}\n  />\n))\nPaginationContent.displayName = \"PaginationContent\"\n\nconst PaginationItem = React.forwardRef<\n  HTMLLIElement,\n  React.ComponentProps<\"li\">\n>(({ className, ...props }, ref) => (\n  <li ref={ref} className={cn(\"\", className)} {...props} />\n))\nPaginationItem.displayName = \"PaginationItem\"\n\ntype PaginationLinkProps = {\n  isActive?: boolean\n} & Pick<ButtonProps, \"size\"> &\n  React.ComponentProps<\"a\">\n\nconst PaginationLink = ({\n  className,\n  isActive,\n  size = \"icon\",\n  ...props\n}: PaginationLinkProps) => (\n  <a\n    aria-current={isActive ? \"page\" : undefined}\n    className={cn(\n      buttonVariants({\n        variant: isActive ? \"outline\" : \"ghost\",\n        size,\n      }),\n      className\n    )}\n    {...props}\n  />\n)\nPaginationLink.displayName = \"PaginationLink\"\n\nconst PaginationPrevious = ({\n  className,\n  ...props\n}: React.ComponentProps<typeof PaginationLink>) => (\n  <PaginationLink\n    aria-label=\"Go to previous page\"\n    size=\"default\"\n    className={cn(\"gap-1 pl-2.5\", className)}\n    {...props}\n  >\n    <ChevronLeft className=\"h-4 w-4\" />\n    <span>Previous</span>\n  </PaginationLink>\n)\nPaginationPrevious.displayName = \"PaginationPrevious\"\n\nconst PaginationNext = ({\n  className,\n  ...props\n}: React.ComponentProps<typeof PaginationLink>) => (\n  <PaginationLink\n    aria-label=\"Go to next page\"\n    size=\"default\"\n    className={cn(\"gap-1 pr-2.5\", className)}\n    {...props}\n  >\n    <span>Next</span>\n    <ChevronRight className=\"h-4 w-4\" />\n  </PaginationLink>\n)\nPaginationNext.displayName = \"PaginationNext\"\n\nconst PaginationEllipsis = ({\n  className,\n  ...props\n}: React.ComponentProps<\"span\">) => (\n  <span\n    aria-hidden\n    className={cn(\"flex h-9 w-9 items-center justify-center\", className)}\n    {...props}\n  >\n    <MoreHorizontal className=\"h-4 w-4\" />\n    <span className=\"sr-only\">More pages</span>\n  </span>\n)\nPaginationEllipsis.displayName = \"PaginationEllipsis\"\n\nexport {\n  Pagination,\n  PaginationContent,\n  PaginationEllipsis,\n  PaginationItem,\n  PaginationLink,\n  PaginationNext,\n  PaginationPrevious,\n}\n","path":null,"size_bytes":2751,"size_tokens":null},"client/src/components/ui/collapsible.tsx":{"content":"\"use client\"\n\nimport * as CollapsiblePrimitive from \"@radix-ui/react-collapsible\"\n\nconst Collapsible = CollapsiblePrimitive.Root\n\nconst CollapsibleTrigger = CollapsiblePrimitive.CollapsibleTrigger\n\nconst CollapsibleContent = CollapsiblePrimitive.CollapsibleContent\n\nexport { Collapsible, CollapsibleTrigger, CollapsibleContent }\n","path":null,"size_bytes":329,"size_tokens":null},"server/gemini.ts":{"content":"import { GoogleGenAI, Type } from \"@google/genai\";\n\nconst ai = new GoogleGenAI({\n  apiKey: process.env.AI_INTEGRATIONS_GEMINI_API_KEY!,\n  httpOptions: {\n    apiVersion: \"\",\n    baseUrl: process.env.AI_INTEGRATIONS_GEMINI_BASE_URL!,\n  },\n});\n\ninterface ResumeAnalysis {\n  completenessScore: number;\n  completenessRationale: string;\n  sectionScores: {\n    summary: number;\n    education: number;\n    experience: number;\n    other: number;\n  };\n  suggestions: string[];\n}\n\nexport async function analyzeResume(resumeText: string): Promise<ResumeAnalysis> {\n  const prompt = `You are a brutally honest resume expert and career coach. Act as a recruiter reviewing this resume - be direct about weaknesses.\n\nRESUME TEXT:\n${resumeText}\n\nEvaluate the resume across these dimensions:\n\n1. COMPLETENESS SCORE (0-100):\n   - Assess how complete and comprehensive the resume is\n   - Consider: contact info, summary/objective, work experience, education, skills, achievements\n   - Provide a numerical score and brutally honest rationale\n\n2. SECTION QUALITY SCORES (0-5 each):\n   - Summary: Quality and impact of professional summary/objective\n   - Education: Completeness and presentation of educational background\n   - Experience: Depth, relevance, and presentation of work history\n   - Other: Projects, volunteering, awards, skills, certifications\n\n   Scoring guide:\n   0 = Missing or severely lacking\n   1-2 = Weak, needs significant improvement\n   3 = Fair, meets basic requirements\n   4 = Strong, well-presented\n   5 = Perfect, exceptional quality\n\n3. IMPROVEMENT SUGGESTIONS (BE BRUTALLY HONEST):\n   - Provide 5-8 specific, actionable suggestions to improve the resume\n   - Call out overused buzzwords (e.g., \"team player\", \"hard worker\", \"passionate\")\n   - Identify vague statements lacking metrics or outcomes\n   - Flag weak action verbs (e.g., \"responsible for\", \"helped with\", \"worked on\")\n   - Point out where quantifiable results are missing (percentages, dollar amounts, time saved, scale)\n   - Suggest stronger action verbs (led, architected, scaled, reduced, increased, launched)\n   - Be direct: if something is weak or generic, say so clearly\n   - Focus on results-driven, impact-oriented language\n\nCRITICAL: When suggesting improvements about metrics:\n- DO say: \"Add quantifiable metrics to demonstrate impact\" \n- DO say: \"Replace 'managed projects' with specific outcomes and scale\"\n- DO NOT invent or suggest specific numbers that aren't in the resume\n- DO NOT hallucinate metrics - only encourage the user to add their own real numbers\n\nRespond with structured JSON only, no other text.`;\n\n  const response = await ai.models.generateContent({\n    model: \"gemini-2.5-flash\",\n    contents: prompt,\n    config: {\n      responseMimeType: \"application/json\",\n      responseSchema: {\n        type: Type.OBJECT,\n        properties: {\n          completenessScore: { \n            type: Type.INTEGER,\n            description: \"Overall completeness score from 0 to 100\"\n          },\n          completenessRationale: { \n            type: Type.STRING,\n            description: \"Brief explanation of the completeness score\"\n          },\n          sectionScores: {\n            type: Type.OBJECT,\n            properties: {\n              summary: { type: Type.INTEGER },\n              education: { type: Type.INTEGER },\n              experience: { type: Type.INTEGER },\n              other: { type: Type.INTEGER }\n            },\n            required: [\"summary\", \"education\", \"experience\", \"other\"]\n          },\n          suggestions: {\n            type: Type.ARRAY,\n            items: { type: Type.STRING },\n            description: \"5-8 specific improvement suggestions\"\n          }\n        },\n        required: [\"completenessScore\", \"completenessRationale\", \"sectionScores\", \"suggestions\"]\n      }\n    }\n  });\n\n  const analysisData = JSON.parse(response.text || \"{}\");\n  \n  return {\n    completenessScore: Math.min(100, Math.max(0, analysisData.completenessScore || 0)),\n    completenessRationale: analysisData.completenessRationale || \"No rationale provided\",\n    sectionScores: {\n      summary: Math.min(5, Math.max(0, analysisData.sectionScores?.summary || 0)),\n      education: Math.min(5, Math.max(0, analysisData.sectionScores?.education || 0)),\n      experience: Math.min(5, Math.max(0, analysisData.sectionScores?.experience || 0)),\n      other: Math.min(5, Math.max(0, analysisData.sectionScores?.other || 0)),\n    },\n    suggestions: (analysisData.suggestions || []).slice(0, 8),\n  };\n}\n\ninterface JobMatchResult {\n  alignmentScore: number;\n  alignmentRationale: string;\n  gaps: Array<{\n    category: string;\n    description: string;\n    severity: \"high\" | \"medium\" | \"low\";\n  }>;\n  strengths: string[];\n  recommendations: string[];\n}\n\nexport async function analyzeJobMatch(\n  resumeText: string,\n  jobDescription: string\n): Promise<JobMatchResult> {\n  const prompt = `You are an expert career coach and recruiter. Analyze how well this resume aligns with the job description.\n\nRESUME TEXT:\n${resumeText}\n\nJOB DESCRIPTION:\n${jobDescription}\n\nProvide a comprehensive match analysis:\n\n1. ALIGNMENT SCORE (0-100):\n   - Overall percentage match between resume and job requirements\n   - Consider: required skills, experience level, education, key responsibilities\n   - A score of 80-100 means excellent fit, 60-79 good fit, 40-59 moderate fit, 0-39 poor fit\n\n2. GAPS (identify 3-8 specific gaps):\n   - Category: The area of the gap (e.g., \"Technical Skills\", \"Experience\", \"Education\", \"Certifications\")\n   - Description: Specific gap description\n   - Severity: \"high\" (critical missing requirement), \"medium\" (important but not critical), or \"low\" (nice to have)\n\n3. STRENGTHS (identify 3-6 strong matches):\n   - List specific areas where the resume strongly aligns with job requirements\n   - Focus on relevant skills, experiences, and qualifications that match well\n\n4. RECOMMENDATIONS (provide 5-8 specific actions):\n   - Actionable suggestions to improve alignment\n   - How to address the gaps\n   - What to emphasize in application/interview\n\nRespond with structured JSON only, no other text.`;\n\n  const response = await ai.models.generateContent({\n    model: \"gemini-2.5-flash\",\n    contents: prompt,\n    config: {\n      responseMimeType: \"application/json\",\n      responseSchema: {\n        type: Type.OBJECT,\n        properties: {\n          alignmentScore: {\n            type: Type.INTEGER,\n            description: \"Percentage match score from 0 to 100\"\n          },\n          alignmentRationale: {\n            type: Type.STRING,\n            description: \"Brief explanation of the alignment score\"\n          },\n          gaps: {\n            type: Type.ARRAY,\n            items: {\n              type: Type.OBJECT,\n              properties: {\n                category: { type: Type.STRING },\n                description: { type: Type.STRING },\n                severity: { \n                  type: Type.STRING,\n                  enum: [\"high\", \"medium\", \"low\"]\n                }\n              },\n              required: [\"category\", \"description\", \"severity\"]\n            },\n            description: \"3-8 specific gaps between resume and job requirements\"\n          },\n          strengths: {\n            type: Type.ARRAY,\n            items: { type: Type.STRING },\n            description: \"3-6 strong alignment points\"\n          },\n          recommendations: {\n            type: Type.ARRAY,\n            items: { type: Type.STRING },\n            description: \"5-8 specific actionable recommendations\"\n          }\n        },\n        required: [\"alignmentScore\", \"alignmentRationale\", \"gaps\", \"strengths\", \"recommendations\"]\n      }\n    }\n  });\n\n  const matchData = JSON.parse(response.text || \"{}\");\n\n  return {\n    alignmentScore: Math.min(100, Math.max(0, matchData.alignmentScore || 0)),\n    alignmentRationale: matchData.alignmentRationale || \"No rationale provided\",\n    gaps: (matchData.gaps || []).slice(0, 8).map((gap: any) => ({\n      category: gap.category || \"Unknown\",\n      description: gap.description || \"\",\n      severity: ([\"high\", \"medium\", \"low\"].includes(gap.severity) ? gap.severity : \"medium\") as \"high\" | \"medium\" | \"low\"\n    })),\n    strengths: (matchData.strengths || []).slice(0, 6),\n    recommendations: (matchData.recommendations || []).slice(0, 8),\n  };\n}\n\nexport async function generateJobDescription(role: string, location: string): Promise<string> {\n  const prompt = `Generate a realistic, representative job description for a ${role} position in ${location}.\n\nInclude:\n- Company overview (generic tech company)\n- Role responsibilities (5-7 key responsibilities)\n- Required qualifications (education, years of experience, must-have skills)\n- Preferred qualifications (nice-to-have skills, bonus experiences)\n- Benefits overview\n\nMake it professional and typical of real job postings in the ${location} market for this role.\n\nRespond with just the job description text, no JSON or extra formatting.`;\n\n  const response = await ai.models.generateContent({\n    model: \"gemini-2.5-flash\",\n    contents: prompt,\n  });\n\n  return response.text || \"\";\n}\n\ninterface FinalVerdictResult {\n  verdict: string;\n  shouldApply: boolean;\n}\n\nexport async function generateFinalVerdict(\n  resumeText: string,\n  jobDescription: string,\n  alignmentScore: number,\n  gaps: Array<{ category: string; description: string; severity: string }>,\n  gapResponses: Array<{ gapIndex: number; proficiencyLevel: string }>\n): Promise<FinalVerdictResult> {\n  const gapDetails = gaps.map((gap, index) => {\n    const response = gapResponses.find(r => r.gapIndex === index);\n    return `${gap.category} - ${gap.description} (Severity: ${gap.severity}, User's proficiency: ${response?.proficiencyLevel || \"not provided\"})`;\n  }).join(\"\\n\");\n\n  const prompt = `You are an expert career coach. Based on the resume analysis and user's proficiency responses, provide a final recommendation.\n\nRESUME ALIGNMENT SCORE: ${alignmentScore}%\n\nGAPS AND USER'S PROFICIENCY:\n${gapDetails}\n\nRESUME:\n${resumeText.substring(0, 2000)}\n\nJOB DESCRIPTION:\n${jobDescription.substring(0, 2000)}\n\nBased on:\n1. The alignment score (${alignmentScore}%)\n2. The identified gaps and the user's actual proficiency levels\n3. Overall fit between resume and job requirements\n\nProvide:\n1. A comprehensive final verdict (2-3 paragraphs) that:\n   - Acknowledges the user's strengths\n   - Discusses how their proficiency in gap areas affects their candidacy\n   - Provides an honest but encouraging assessment\n   - Remember: we believe in positivity and taking chances!\n\n2. A boolean recommendation on whether they should apply:\n   - true if alignment score >= 50% OR if user has at least basic proficiency in critical gaps\n   - false only if alignment is very low (<30%) AND user lacks proficiency in most critical gaps\n   - When in doubt, recommend true (we believe in taking chances!)\n\nRespond with structured JSON only.`;\n\n  const response = await ai.models.generateContent({\n    model: \"gemini-2.5-flash\",\n    contents: prompt,\n    config: {\n      responseMimeType: \"application/json\",\n      responseSchema: {\n        type: Type.OBJECT,\n        properties: {\n          verdict: {\n            type: Type.STRING,\n            description: \"2-3 paragraph final verdict and recommendation\"\n          },\n          shouldApply: {\n            type: Type.BOOLEAN,\n            description: \"Whether the user should apply for this position\"\n          }\n        },\n        required: [\"verdict\", \"shouldApply\"]\n      }\n    }\n  });\n\n  const verdictData = JSON.parse(response.text || \"{}\");\n\n  return {\n    verdict: verdictData.verdict || \"Unable to generate verdict at this time.\",\n    shouldApply: verdictData.shouldApply !== false,\n  };\n}\n\nexport async function generateTailoredResume(\n  originalResumeText: string,\n  jobDescription: string,\n  strengths: string[],\n  gaps: Array<{ category: string; description: string }>,\n  gapResponses: Array<{ gapIndex: number; proficiencyLevel: string }>\n): Promise<{ changesSummary: string; resumeMarkdown: string }> {\n  const skillsToAdd = gapResponses\n    .filter(response => \n      response.proficiencyLevel !== 'none' && \n      ['basic', 'moderate', 'advanced'].includes(response.proficiencyLevel.toLowerCase())\n    )\n    .map((response) => {\n      const gap = gaps[response.gapIndex];\n      if (!gap) return null;\n      return `- ${gap.category}: User confirmed ${response.proficiencyLevel} proficiency - ADD this to Skills section`;\n    })\n    .filter(Boolean)\n    .join(\"\\n\");\n\n  const prompt = `You are an expert resume writer specializing in ATS-friendly, results-driven resumes. Create a tailored resume optimized for the target job using quantifiable, impact-oriented language.\n\nORIGINAL RESUME:\n${originalResumeText}\n\nTARGET JOB DESCRIPTION:\n${jobDescription.substring(0, 2000)}\n\nIDENTIFIED STRENGTHS TO HIGHLIGHT:\n${strengths.join(\"\\n- \")}\n\nSKILLS USER CONFIRMED THEY HAVE (MUST ADD TO RESUME):\n${skillsToAdd || \"None - user did not confirm proficiency in gap areas\"}\n\nCRITICAL RULES FOR RESULTS-DRIVEN LANGUAGE:\n\n**QUANTIFIABLE IMPACT (NO HALLUCINATION)**:\n- Use existing metrics from the original resume - never invent new numbers\n- If original says \"improved performance\", keep it as-is or enhance language without adding fake metrics\n- Transform weak verbs into strong action verbs: \"responsible for\" → \"led\", \"worked on\" → \"architected\", \"helped with\" → \"drove\"\n- Emphasize scale and impact using language, not invented numbers\n- Examples of acceptable enhancements:\n  ✓ \"Managed team\" → \"Led cross-functional team in delivering critical infrastructure\"\n  ✓ \"Worked on API\" → \"Architected and deployed REST API serving production traffic\"\n  ✓ \"Improved performance\" → \"Optimized system performance through caching and query refinement\"\n  ✗ \"Improved performance\" → \"Improved performance by 60%\" (NEVER add fake metrics)\n  ✗ \"Led team\" → \"Led team of 5 engineers\" (NEVER invent team sizes)\n\n**ACTION VERB EXCELLENCE**:\n- Replace passive language with strong action verbs\n- Use: architected, engineered, led, drove, launched, scaled, optimized, reduced, increased, transformed, established, spearheaded\n- Avoid: responsible for, worked on, helped with, participated in, involved in\n\nMANDATORY PRESERVATION RULES:\n\n1. **PRESERVE ALL SECTIONS**: Keep ALL original sections\n   - Keep Volunteering, Awards, Certifications, Publications, Projects, Languages - EVERYTHING\n   - If a section exists in the original, it MUST exist in the tailored version\n\n2. **PRESERVE ALL CONTACT LINKS**: \n   - Keep ALL contact information exactly as-is: email, phone, LinkedIn, GitHub, Google Scholar, portfolio, website, etc.\n   - Make ALL links clickable using markdown format: [LinkedIn](URL) or [Google Scholar](URL)\n   - Do NOT drop any links from the header\n\n3. **ADD USER-CONFIRMED SKILLS**:\n   - User rated themselves on missing skills - if they have basic/moderate/advanced proficiency, ADD those skills to the Skills section\n   - This is NOT hallucination - the user CONFIRMED they have these skills\n   - Example: If user said \"Docker: moderate proficiency\", add Docker to Skills section\n\n4. **SECTION ORDER** (mandatory):\n   - Header: Full Name + ALL Contact Links (email, phone, LinkedIn, GitHub, Google Scholar, portfolio, etc.)\n   - Professional Summary (2-3 sentences optimized for target role)\n   - **Skills** (RIGHT AFTER SUMMARY - organize by category, include user-confirmed skills)\n   - Professional Experience (reorder bullets to emphasize relevant work)\n   - Education\n   - Certifications (if in original)\n   - Volunteering (if in original)\n   - Awards (if in original)\n   - Any other sections from original\n\n5. **OUTPUT FORMAT** - Return TWO sections separated by \"===SEPARATOR===\":\n\nSECTION 1 - CHANGES SUMMARY (for UI display only):\n# Changes Made\n\n## Language Enhancements:\n- [List 4-6 specific language improvements, e.g., \"Transformed 'worked on microservices' to 'architected and deployed microservices'\", \"Enhanced 'managed team' to 'led cross-functional engineering team'\"]\n\n## Skills Added:\n- [List skills you added based on user's gap proficiency responses]\n\n## Strengths Emphasized:\n- [List skills/experiences from original that match job requirements]\n\n## Structure Preserved:\n- All sections maintained including Volunteering, Awards, Certifications\n- All contact links preserved (LinkedIn, GitHub, Google Scholar, email, phone)\n- All existing metrics preserved without hallucination\n\n===SEPARATOR===\n\nSECTION 2 - ACTUAL RESUME (for DOCX download):\n# [FULL NAME]\n[Email](mailto:email) | [Phone] | [LinkedIn](URL) | [GitHub](URL) | [Google Scholar](URL) | [Portfolio](URL)\n\n## Professional Summary\n[2-3 sentences optimized for job]\n\n## Skills\n**Technical Skills:** [Include user-confirmed skills like Docker, REST API, etc.]\n**Programming:** [Languages]\n**Tools & Platforms:** [Tools]\n\n## Professional Experience\n**[Job Title]** | **[Company]** | [Dates]\n- [Bullet with relevant keywords]\n\n## Education\n**[Degree]** | [Institution] | [Year]\n\n## Certifications\n[If in original]\n\n## Volunteering\n[If in original]\n\n## Awards\n[If in original]\n\nFORMATTING RULES:\n- Use markdown: # for name, ## for sections, - for bullets, **bold** for emphasis\n- Make ALL URLs clickable: [Text](URL)\n- No tables or special formatting\n- Clean, ATS-friendly structure\n\nRespond with BOTH sections separated by ===SEPARATOR===`;\n\n  const response = await ai.models.generateContent({\n    model: \"gemini-2.5-flash\",\n    contents: prompt,\n  });\n\n  const fullResponse = response.text || \"\";\n  \n  const separator = \"===SEPARATOR===\";\n  const separatorIndex = fullResponse.indexOf(separator);\n  \n  if (separatorIndex === -1) {\n    console.warn(\"Gemini response missing separator - using fallback\");\n    return {\n      changesSummary: \"Unable to generate changes summary\",\n      resumeMarkdown: fullResponse,\n    };\n  }\n  \n  const changesSummary = fullResponse.substring(0, separatorIndex).trim();\n  const resumeMarkdown = fullResponse.substring(separatorIndex + separator.length).trim();\n  \n  return {\n    changesSummary,\n    resumeMarkdown,\n  };\n}\n\ninterface CareerRoadmapResult {\n  currentGaps: string[];\n  skillsToAcquire: string[];\n  actionPlan: Array<{\n    phase: string;\n    duration: string;\n    actions: string[];\n  }>;\n  resources: string[];\n  milestones: string[];\n}\n\nexport async function generateCareerRoadmap(\n  resumeText: string,\n  dreamRole: string,\n  dreamLocation: string,\n  timeframe: string\n): Promise<CareerRoadmapResult> {\n  const prompt = `You are an expert career coach helping someone transition to their dream role.\n\nCURRENT RESUME:\n${resumeText}\n\nCAREER GOAL:\nDream Role: ${dreamRole}\nDream Location: ${dreamLocation}\nTimeframe: ${timeframe}\n\nYour task is to provide a comprehensive, actionable career roadmap that guides this person from their current position to their dream role within the specified timeframe.\n\nAnalyze the resume and provide:\n\n1. CURRENT GAPS (3-6 items):\n   - What specific skills, experiences, or qualifications are they currently lacking for this dream role?\n   - Be honest but constructive\n   - Focus on technical skills, soft skills, certifications, and experience gaps\n\n2. SKILLS TO ACQUIRE (5-8 specific skills):\n   - List concrete skills they need to develop\n   - Include both technical and soft skills\n   - Prioritize based on the timeframe and dream role requirements\n\n3. ACTION PLAN (3-4 phases):\n   - Break down the journey into logical phases based on the timeframe\n   - Each phase should have:\n     * phase: Name of the phase (e.g., \"Foundation Building\", \"Skill Development\", \"Experience Gain\", \"Job Search & Interview Prep\")\n     * duration: Time allocation (e.g., \"Months 1-3\", \"Months 4-8\")\n     * actions: 3-5 specific actions to take during this phase\n   - Make it realistic and achievable within the given timeframe\n   - Progress logically from skill building to job search\n\n4. RESOURCES (4-6 recommendations):\n   - Suggest specific online courses, certifications, books, or platforms\n   - Include both free and paid options\n   - Be specific (e.g., \"Google Cloud Professional Data Engineer Certification\" not just \"cloud certification\")\n\n5. MILESTONES (4-6 checkpoints):\n   - Define clear, measurable milestones to track progress\n   - Make them specific and time-bound\n   - Include both skill-based and career-based milestones\n\nBe encouraging but realistic. Consider the location-specific job market if relevant. Make all guidance actionable and specific to their situation.\n\nRespond with structured JSON only, no other text.`;\n\n  const response = await ai.models.generateContent({\n    model: \"gemini-2.5-flash\",\n    contents: prompt,\n    config: {\n      responseMimeType: \"application/json\",\n      responseSchema: {\n        type: Type.OBJECT,\n        properties: {\n          currentGaps: {\n            type: Type.ARRAY,\n            items: { type: Type.STRING },\n            description: \"3-6 current gaps or weaknesses\"\n          },\n          skillsToAcquire: {\n            type: Type.ARRAY,\n            items: { type: Type.STRING },\n            description: \"5-8 specific skills to develop\"\n          },\n          actionPlan: {\n            type: Type.ARRAY,\n            items: {\n              type: Type.OBJECT,\n              properties: {\n                phase: { type: Type.STRING },\n                duration: { type: Type.STRING },\n                actions: {\n                  type: Type.ARRAY,\n                  items: { type: Type.STRING }\n                }\n              },\n              required: [\"phase\", \"duration\", \"actions\"]\n            },\n            description: \"3-4 phases with specific actions\"\n          },\n          resources: {\n            type: Type.ARRAY,\n            items: { type: Type.STRING },\n            description: \"4-6 specific learning resources\"\n          },\n          milestones: {\n            type: Type.ARRAY,\n            items: { type: Type.STRING },\n            description: \"4-6 measurable progress checkpoints\"\n          }\n        },\n        required: [\"currentGaps\", \"skillsToAcquire\", \"actionPlan\", \"resources\", \"milestones\"]\n      }\n    }\n  });\n\n  const roadmapData = JSON.parse(response.text || \"{}\");\n  \n  return {\n    currentGaps: roadmapData.currentGaps || [],\n    skillsToAcquire: roadmapData.skillsToAcquire || [],\n    actionPlan: roadmapData.actionPlan || [],\n    resources: roadmapData.resources || [],\n    milestones: roadmapData.milestones || [],\n  };\n}\n","path":null,"size_bytes":22384,"size_tokens":null},"design_guidelines.md":{"content":"# ResuMatch Pro Design Guidelines\n\n## Design Approach\n\n**Selected Approach:** Design System + Productivity References\n\nDrawing inspiration from Linear, Notion, and Grammarly to create a clean, professional productivity tool focused on clarity and efficient data presentation. The design emphasizes readability, clear hierarchy, and smooth workflows for resume analysis.\n\n**Core Principles:**\n- Clarity over decoration\n- Information hierarchy through typography and spacing\n- Progressive disclosure of complexity\n- Professional, trustworthy aesthetic\n\n---\n\n## Typography\n\n**Font Stack:** Inter (primary), system-ui (fallback)\n- Include via Google Fonts CDN: `https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap`\n\n**Hierarchy:**\n- Page Headlines: `text-3xl font-bold` (landing), `text-2xl font-semibold` (dashboard/results)\n- Section Titles: `text-xl font-semibold`\n- Card Headers: `text-lg font-medium`\n- Body Text: `text-base font-normal`\n- Labels/Meta: `text-sm font-medium`\n- Helper Text: `text-sm` (regular weight)\n- Numerical Data (scores): `text-4xl font-bold` (primary), `text-xl font-semibold` (secondary)\n\n---\n\n## Layout System\n\n**Spacing Primitives:** Consistent use of Tailwind units: 2, 4, 6, 8, 12, 16, 24\n- Tight spacing: `gap-2`, `p-2`\n- Standard spacing: `gap-4`, `p-4`, `mb-4`\n- Section spacing: `gap-8`, `py-8`, `mb-12`\n- Page-level: `p-6` (mobile), `p-12` (desktop)\n\n**Container Strategy:**\n- Max width: `max-w-6xl mx-auto` for main content\n- Forms/Cards: `max-w-md mx-auto` for focused tasks\n- Results dashboard: `max-w-7xl mx-auto` for data display\n\n**Grid Systems:**\n- Dashboard cards: `grid grid-cols-1 lg:grid-cols-2 gap-6`\n- Section scores: `grid grid-cols-2 md:grid-cols-4 gap-4`\n- Analysis metrics: `flex flex-wrap gap-6`\n\n---\n\n## Component Library\n\n### Navigation\n**Top Nav Bar:**\n- Fixed height: `h-16`\n- Layout: Flex row with logo left, user menu right\n- Padding: `px-6 lg:px-12`\n- Border: `border-b` for subtle separation\n- User avatar: `w-8 h-8 rounded-full` with username\n\n### Cards & Containers\n**Standard Card:**\n- Border: `border rounded-lg`\n- Padding: `p-6`\n- Shadow: `shadow-sm hover:shadow-md` (subtle elevation)\n\n**Upload Card (Dashboard):**\n- Prominent dashed border: `border-2 border-dashed rounded-xl`\n- Padding: `p-12` for generous drop zone\n- Icon size: `w-16 h-16` (document/upload icon from Heroicons)\n\n**Results Card:**\n- Clean borders: `border rounded-lg`\n- Header with title + metadata: `p-4 border-b`\n- Content area: `p-6`\n\n### Forms & Inputs\n**Text Input:**\n- Height: `h-12`\n- Padding: `px-4`\n- Border: `border rounded-lg`\n- Focus state: `focus:ring-2 focus:ring-offset-2`\n\n**File Upload:**\n- Input hidden, replaced with styled drop zone\n- Visual feedback states: default, hover, dragover, uploading\n- File preview with name + size display\n\n**Buttons:**\n- Primary: `h-12 px-6 rounded-lg font-medium`\n- Secondary: Same height, outlined style\n- Icon buttons: `w-10 h-10 rounded-lg` for actions\n- Disabled state: reduced opacity with `cursor-not-allowed`\n\n### Data Visualization\n\n**Completeness Score Dial:**\n- Center element: Large circular progress indicator\n- Size: `w-48 h-48` (mobile: `w-32 h-32`)\n- Score display: `text-5xl font-bold` centered inside\n- Label below: `text-sm`\n- Use SVG circle with stroke-dasharray for progress\n\n**Section Quality Table:**\n- Clean rows: `border-b last:border-b-0`\n- Cell padding: `px-4 py-3`\n- Score badges: `inline-flex items-center px-3 py-1 rounded-full text-sm font-medium`\n- Score labels mapping:\n  - 0: \"Missing\"\n  - 1-2: \"Weak\"\n  - 3: \"Fair\"\n  - 4: \"Strong\"\n  - 5: \"Perfect\"\n\n**Suggestions List:**\n- Bullets: Custom styled with checkmark or lightbulb icons\n- Item spacing: `space-y-3`\n- Each item: `flex gap-3` with icon + text\n- Text: `text-base leading-relaxed`\n\n### States & Feedback\n\n**Loading States:**\n- Spinner: Heroicons `ArrowPathIcon` with `animate-spin`\n- Skeleton screens for data loading: `animate-pulse` on placeholder divs\n- Upload progress: Linear progress bar `h-1 rounded-full` with animated width\n\n**Empty States:**\n- Icon: `w-20 h-20` (relevant Heroicon)\n- Message: `text-lg font-medium` with `text-base` description below\n- CTA button positioned below text\n\n**Error States:**\n- Alert box: `border-l-4 p-4 rounded-r`\n- Icon + message layout\n- Dismiss button in top-right corner\n\n---\n\n## Page-Specific Layouts\n\n### Landing/Login Page\n- Centered card: `max-w-md mx-auto mt-24`\n- Logo/title at top\n- Single input field + button\n- Disclaimer text below: `text-xs` with reduced opacity\n\n### Dashboard\n- Grid layout: Resume cards in 2-column grid on desktop\n- Empty state when no resumes uploaded\n- Upload card prominently displayed\n- Recent analyses list below\n\n### Results Page\n- Hero section: Score dial + headline\n- Three-column grid below: Section scores (left 2 cols), suggestions (right col)\n- Sticky header with back button\n- Download/share actions in top-right\n\n---\n\n## Icon Library\n\n**Selected:** Heroicons (outline style for most, solid for emphasis)\n- CDN: Include via `@heroicons/vue` or inline SVGs\n- Common icons needed:\n  - DocumentIcon (resume)\n  - ArrowUpTrayIcon (upload)\n  - CheckCircleIcon (success)\n  - ExclamationTriangleIcon (warning)\n  - UserCircleIcon (profile)\n  - ChartBarIcon (analytics)\n  - LightBulbIcon (suggestions)\n\n---\n\n## Responsive Breakpoints\n\n- Mobile-first approach\n- Key breakpoints: `md:` (768px), `lg:` (1024px)\n- Dashboard: Stack vertically on mobile, 2-col grid on lg\n- Results: Single column on mobile, multi-column on desktop\n- Navigation: Compact on mobile, full on desktop\n\n---\n\n## Accessibility\n\n- All interactive elements: `focus-visible:ring-2 focus-visible:ring-offset-2`\n- Proper heading hierarchy (h1 → h2 → h3)\n- Form labels with `for` attributes\n- ARIA labels for icon-only buttons\n- Sufficient contrast ratios for text\n- Keyboard navigation support throughout","path":null,"size_bytes":5858,"size_tokens":null},"client/src/components/ui/toggle-group.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as ToggleGroupPrimitive from \"@radix-ui/react-toggle-group\"\nimport { type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\nimport { toggleVariants } from \"@/components/ui/toggle\"\n\nconst ToggleGroupContext = React.createContext<\n  VariantProps<typeof toggleVariants>\n>({\n  size: \"default\",\n  variant: \"default\",\n})\n\nconst ToggleGroup = React.forwardRef<\n  React.ElementRef<typeof ToggleGroupPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ToggleGroupPrimitive.Root> &\n    VariantProps<typeof toggleVariants>\n>(({ className, variant, size, children, ...props }, ref) => (\n  <ToggleGroupPrimitive.Root\n    ref={ref}\n    className={cn(\"flex items-center justify-center gap-1\", className)}\n    {...props}\n  >\n    <ToggleGroupContext.Provider value={{ variant, size }}>\n      {children}\n    </ToggleGroupContext.Provider>\n  </ToggleGroupPrimitive.Root>\n))\n\nToggleGroup.displayName = ToggleGroupPrimitive.Root.displayName\n\nconst ToggleGroupItem = React.forwardRef<\n  React.ElementRef<typeof ToggleGroupPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof ToggleGroupPrimitive.Item> &\n    VariantProps<typeof toggleVariants>\n>(({ className, children, variant, size, ...props }, ref) => {\n  const context = React.useContext(ToggleGroupContext)\n\n  return (\n    <ToggleGroupPrimitive.Item\n      ref={ref}\n      className={cn(\n        toggleVariants({\n          variant: context.variant || variant,\n          size: context.size || size,\n        }),\n        className\n      )}\n      {...props}\n    >\n      {children}\n    </ToggleGroupPrimitive.Item>\n  )\n})\n\nToggleGroupItem.displayName = ToggleGroupPrimitive.Item.displayName\n\nexport { ToggleGroup, ToggleGroupItem }\n","path":null,"size_bytes":1753,"size_tokens":null},"client/src/pages/job-match.tsx":{"content":"import { useState } from \"react\";\nimport { useLocation } from \"wouter\";\nimport { useMutation } from \"@tanstack/react-query\";\nimport { Card, CardContent, CardHeader, CardTitle, CardDescription } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { Label } from \"@/components/ui/label\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger} from \"@/components/ui/tabs\";\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from \"@/components/ui/select\";\nimport { Target, FileText, MapPin, Briefcase, Loader2 } from \"lucide-react\";\nimport { apiRequest } from \"@/lib/queryClient\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport type { JobMatch } from \"@shared/schema\";\n\nconst JOB_ROLES = [\n  \"Data Scientist\",\n  \"Machine Learning Engineer\",\n  \"AI Engineer\",\n  \"Software Developer\",\n  \"Full Stack Developer\",\n  \"Backend Developer\",\n  \"Frontend Developer\",\n  \"Data Engineer\",\n  \"Prompt Engineer\",\n  \"Cloud Architect\",\n];\n\nconst LOCATIONS = [\n  \"San Francisco Bay Area\",\n  \"Los Angeles\",\n  \"New York City\",\n  \"Boston\",\n  \"Washington DC\",\n  \"Philadelphia\",\n  \"Chicago\",\n  \"Seattle\",\n  \"San Diego\",\n  \"Dallas\",\n  \"Houston\",\n  \"Austin\",\n  \"Atlanta\",\n  \"Raleigh-Durham\",\n];\n\nexport default function JobMatch() {\n  const [, setLocation] = useLocation();\n  const { toast } = useToast();\n  const [jobDescription, setJobDescription] = useState(\"\");\n  const [selectedRole, setSelectedRole] = useState<string>(\"\");\n  const [selectedLocation, setSelectedLocation] = useState<string>(\"\");\n\n  const analyzeMutation = useMutation({\n    mutationFn: async (data: {jobDescription?: string; jobRole?: string; jobLocation?: string}) => {\n      const response = await apiRequest(\"POST\", \"/api/job-matches/analyze\", data);\n      return await response.json();\n    },\n    onSuccess: (data: JobMatch) => {\n      setLocation(`/job-matches/${data.id}`);\n    },\n    onError: (error: Error) => {\n      toast({\n        title: \"Analysis failed\",\n        description: error.message,\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  const handleAnalyzeWithText = () => {\n    analyzeMutation.mutate({ jobDescription });\n  };\n\n  const handleAnalyzeWithRole = () => {\n    analyzeMutation.mutate({ jobRole: selectedRole, jobLocation: selectedLocation });\n  };\n\n  return (\n    <div className=\"min-h-full bg-background\">\n      <div className=\"max-w-4xl mx-auto p-6 lg:p-12 space-y-8\">\n        <div>\n          <h1 className=\"text-2xl font-semibold mb-2\">Job Match Analysis</h1>\n          <p className=\"text-muted-foreground\">\n            Compare your resume against a job description to find alignment and gaps.\n          </p>\n        </div>\n\n        <Tabs defaultValue=\"paste\" className=\"w-full\">\n          <TabsList className=\"grid w-full grid-cols-2\" data-testid=\"job-match-tabs\">\n            <TabsTrigger value=\"paste\" data-testid=\"tab-paste-jd\">\n              <FileText className=\"w-4 h-4 mr-2\" />\n              Paste Job Description\n            </TabsTrigger>\n            <TabsTrigger value=\"select\" data-testid=\"tab-select-role\">\n              <Briefcase className=\"w-4 h-4 mr-2\" />\n              Select Role & Location\n            </TabsTrigger>\n          </TabsList>\n\n          <TabsContent value=\"paste\" className=\"space-y-6 mt-6\">\n            <Card>\n              <CardHeader>\n                <CardTitle>Job Description</CardTitle>\n                <CardDescription>\n                  Paste the full job description you want to match against your resume\n                </CardDescription>\n              </CardHeader>\n              <CardContent>\n                <div className=\"space-y-4\">\n                  <div>\n                    <Label htmlFor=\"job-description\">Job Description Text</Label>\n                    <Textarea\n                      id=\"job-description\"\n                      placeholder=\"Paste the job description here...\"\n                      className=\"min-h-[300px] mt-2\"\n                      value={jobDescription}\n                      onChange={(e) => setJobDescription(e.target.value)}\n                      data-testid=\"textarea-job-description\"\n                    />\n                  </div>\n                  <Button \n                    className=\"w-full\" \n                    size=\"lg\"\n                    disabled={!jobDescription.trim() || analyzeMutation.isPending}\n                    onClick={handleAnalyzeWithText}\n                    data-testid=\"button-analyze-match\"\n                  >\n                    {analyzeMutation.isPending ? (\n                      <>\n                        <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" />\n                        Analyzing...\n                      </>\n                    ) : (\n                      <>\n                        <Target className=\"w-4 h-4 mr-2\" />\n                        Analyze Match\n                      </>\n                    )}\n                  </Button>\n                </div>\n              </CardContent>\n            </Card>\n          </TabsContent>\n\n          <TabsContent value=\"select\" className=\"space-y-6 mt-6\">\n            <Card>\n              <CardHeader>\n                <CardTitle>Select Job Role & Location</CardTitle>\n                <CardDescription>\n                  Choose a role and location to generate a representative job description\n                </CardDescription>\n              </CardHeader>\n              <CardContent>\n                <div className=\"space-y-6\">\n                  <div className=\"space-y-2\">\n                    <Label htmlFor=\"role-select\">Job Role</Label>\n                    <Select value={selectedRole} onValueChange={setSelectedRole}>\n                      <SelectTrigger id=\"role-select\" data-testid=\"select-role\">\n                        <SelectValue placeholder=\"Select a role\" />\n                      </SelectTrigger>\n                      <SelectContent>\n                        {JOB_ROLES.map((role) => (\n                          <SelectItem key={role} value={role}>\n                            {role}\n                          </SelectItem>\n                        ))}\n                      </SelectContent>\n                    </Select>\n                  </div>\n\n                  <div className=\"space-y-2\">\n                    <Label htmlFor=\"location-select\">Location</Label>\n                    <Select value={selectedLocation} onValueChange={setSelectedLocation}>\n                      <SelectTrigger id=\"location-select\" data-testid=\"select-location\">\n                        <SelectValue placeholder=\"Select a location\" />\n                      </SelectTrigger>\n                      <SelectContent>\n                        {LOCATIONS.map((location) => (\n                          <SelectItem key={location} value={location}>\n                            <div className=\"flex items-center gap-2\">\n                              <MapPin className=\"w-3 h-3\" />\n                              {location}\n                            </div>\n                          </SelectItem>\n                        ))}\n                      </SelectContent>\n                    </Select>\n                  </div>\n\n                  <Button \n                    className=\"w-full\" \n                    size=\"lg\"\n                    disabled={!selectedRole || !selectedLocation || analyzeMutation.isPending}\n                    onClick={handleAnalyzeWithRole}\n                    data-testid=\"button-analyze-role-match\"\n                  >\n                    {analyzeMutation.isPending ? (\n                      <>\n                        <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" />\n                        Analyzing...\n                      </>\n                    ) : (\n                      <>\n                        <Target className=\"w-4 h-4 mr-2\" />\n                        Analyze Match\n                      </>\n                    )}\n                  </Button>\n                </div>\n              </CardContent>\n            </Card>\n          </TabsContent>\n        </Tabs>\n      </div>\n    </div>\n  );\n}\n","path":null,"size_bytes":8073,"size_tokens":null},"client/src/components/ui/table.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Table = React.forwardRef<\n  HTMLTableElement,\n  React.HTMLAttributes<HTMLTableElement>\n>(({ className, ...props }, ref) => (\n  <div className=\"relative w-full overflow-auto\">\n    <table\n      ref={ref}\n      className={cn(\"w-full caption-bottom text-sm\", className)}\n      {...props}\n    />\n  </div>\n))\nTable.displayName = \"Table\"\n\nconst TableHeader = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <thead ref={ref} className={cn(\"[&_tr]:border-b\", className)} {...props} />\n))\nTableHeader.displayName = \"TableHeader\"\n\nconst TableBody = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <tbody\n    ref={ref}\n    className={cn(\"[&_tr:last-child]:border-0\", className)}\n    {...props}\n  />\n))\nTableBody.displayName = \"TableBody\"\n\nconst TableFooter = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <tfoot\n    ref={ref}\n    className={cn(\n      \"border-t bg-muted/50 font-medium [&>tr]:last:border-b-0\",\n      className\n    )}\n    {...props}\n  />\n))\nTableFooter.displayName = \"TableFooter\"\n\nconst TableRow = React.forwardRef<\n  HTMLTableRowElement,\n  React.HTMLAttributes<HTMLTableRowElement>\n>(({ className, ...props }, ref) => (\n  <tr\n    ref={ref}\n    className={cn(\n      \"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted\",\n      className\n    )}\n    {...props}\n  />\n))\nTableRow.displayName = \"TableRow\"\n\nconst TableHead = React.forwardRef<\n  HTMLTableCellElement,\n  React.ThHTMLAttributes<HTMLTableCellElement>\n>(({ className, ...props }, ref) => (\n  <th\n    ref={ref}\n    className={cn(\n      \"h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0\",\n      className\n    )}\n    {...props}\n  />\n))\nTableHead.displayName = \"TableHead\"\n\nconst TableCell = React.forwardRef<\n  HTMLTableCellElement,\n  React.TdHTMLAttributes<HTMLTableCellElement>\n>(({ className, ...props }, ref) => (\n  <td\n    ref={ref}\n    className={cn(\"p-4 align-middle [&:has([role=checkbox])]:pr-0\", className)}\n    {...props}\n  />\n))\nTableCell.displayName = \"TableCell\"\n\nconst TableCaption = React.forwardRef<\n  HTMLTableCaptionElement,\n  React.HTMLAttributes<HTMLTableCaptionElement>\n>(({ className, ...props }, ref) => (\n  <caption\n    ref={ref}\n    className={cn(\"mt-4 text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nTableCaption.displayName = \"TableCaption\"\n\nexport {\n  Table,\n  TableHeader,\n  TableBody,\n  TableFooter,\n  TableHead,\n  TableRow,\n  TableCell,\n  TableCaption,\n}\n","path":null,"size_bytes":2765,"size_tokens":null},"client/src/pages/landing.tsx":{"content":"import { useState } from \"react\";\nimport { useLocation } from \"wouter\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { apiRequest, queryClient } from \"@/lib/queryClient\";\nimport { useMutation } from \"@tanstack/react-query\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { FileText } from \"lucide-react\";\n\nexport default function Landing() {\n  const [, setLocation] = useLocation();\n  const [username, setUsername] = useState(\"\");\n  const { toast } = useToast();\n\n  const loginMutation = useMutation({\n    mutationFn: async (username: string) => {\n      const response = await apiRequest(\"POST\", \"/api/auth/login\", { username });\n      return response;\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/auth/session\"] });\n      setLocation(\"/dashboard\");\n    },\n    onError: () => {\n      toast({\n        title: \"Error\",\n        description: \"Failed to sign in. Please try again.\",\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    if (!username.trim()) {\n      toast({\n        title: \"Username required\",\n        description: \"Please enter your name to continue.\",\n        variant: \"destructive\",\n      });\n      return;\n    }\n    loginMutation.mutate(username.trim());\n  };\n\n  return (\n    <div className=\"min-h-screen flex items-center justify-center bg-background p-6\">\n      <Card className=\"w-full max-w-md mx-auto mt-24\">\n        <CardHeader className=\"text-center space-y-4\">\n          <div className=\"mx-auto w-16 h-16 rounded-lg bg-primary/10 flex items-center justify-center\">\n            <FileText className=\"w-8 h-8 text-primary\" />\n          </div>\n          <div>\n            <CardTitle className=\"text-3xl font-bold\">ResuMatch Pro</CardTitle>\n            <CardDescription className=\"text-base mt-2\">\n              AI-Powered Resume Analysis\n            </CardDescription>\n          </div>\n        </CardHeader>\n        <CardContent className=\"space-y-6\">\n          <form onSubmit={handleSubmit} className=\"space-y-4\">\n            <div className=\"space-y-2\">\n              <label htmlFor=\"username\" className=\"text-sm font-medium\">\n                Enter your name\n              </label>\n              <Input\n                id=\"username\"\n                data-testid=\"input-username\"\n                type=\"text\"\n                placeholder=\"John Doe\"\n                value={username}\n                onChange={(e) => setUsername(e.target.value)}\n                className=\"h-12\"\n                disabled={loginMutation.isPending}\n              />\n            </div>\n            <Button\n              type=\"submit\"\n              data-testid=\"button-continue\"\n              className=\"w-full h-12 font-medium\"\n              disabled={loginMutation.isPending}\n            >\n              {loginMutation.isPending ? \"Signing in...\" : \"Continue\"}\n            </Button>\n          </form>\n          <p className=\"text-xs text-muted-foreground text-center opacity-70\">\n            Demo login (no password). Do not upload sensitive information.\n          </p>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n","path":null,"size_bytes":3300,"size_tokens":null},"client/src/components/ui/sidebar.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, VariantProps } from \"class-variance-authority\"\nimport { PanelLeftIcon } from \"lucide-react\"\n\nimport { useIsMobile } from \"@/hooks/use-mobile\"\nimport { cn } from \"@/lib/utils\"\nimport { Button } from \"@/components/ui/button\"\nimport { Input } from \"@/components/ui/input\"\nimport { Separator } from \"@/components/ui/separator\"\nimport {\n  Sheet,\n  SheetContent,\n  SheetDescription,\n  SheetHeader,\n  SheetTitle,\n} from \"@/components/ui/sheet\"\nimport { Skeleton } from \"@/components/ui/skeleton\"\nimport {\n  Tooltip,\n  TooltipContent,\n  TooltipProvider,\n  TooltipTrigger,\n} from \"@/components/ui/tooltip\"\n\nconst SIDEBAR_COOKIE_NAME = \"sidebar_state\"\nconst SIDEBAR_COOKIE_MAX_AGE = 60 * 60 * 24 * 7\nconst SIDEBAR_WIDTH = \"16rem\"\nconst SIDEBAR_WIDTH_MOBILE = \"18rem\"\nconst SIDEBAR_WIDTH_ICON = \"3rem\"\nconst SIDEBAR_KEYBOARD_SHORTCUT = \"b\"\n\ntype SidebarContextProps = {\n  state: \"expanded\" | \"collapsed\"\n  open: boolean\n  setOpen: (open: boolean) => void\n  openMobile: boolean\n  setOpenMobile: (open: boolean) => void\n  isMobile: boolean\n  toggleSidebar: () => void\n}\n\nconst SidebarContext = React.createContext<SidebarContextProps | null>(null)\n\nfunction useSidebar() {\n  const context = React.useContext(SidebarContext)\n  if (!context) {\n    throw new Error(\"useSidebar must be used within a SidebarProvider.\")\n  }\n\n  return context\n}\n\nfunction SidebarProvider({\n  defaultOpen = true,\n  open: openProp,\n  onOpenChange: setOpenProp,\n  className,\n  style,\n  children,\n  ...props\n}: React.ComponentProps<\"div\"> & {\n  defaultOpen?: boolean\n  open?: boolean\n  onOpenChange?: (open: boolean) => void\n}) {\n  const isMobile = useIsMobile()\n  const [openMobile, setOpenMobile] = React.useState(false)\n\n  // This is the internal state of the sidebar.\n  // We use openProp and setOpenProp for control from outside the component.\n  const [_open, _setOpen] = React.useState(defaultOpen)\n  const open = openProp ?? _open\n  const setOpen = React.useCallback(\n    (value: boolean | ((value: boolean) => boolean)) => {\n      const openState = typeof value === \"function\" ? value(open) : value\n      if (setOpenProp) {\n        setOpenProp(openState)\n      } else {\n        _setOpen(openState)\n      }\n\n      // This sets the cookie to keep the sidebar state.\n      document.cookie = `${SIDEBAR_COOKIE_NAME}=${openState}; path=/; max-age=${SIDEBAR_COOKIE_MAX_AGE}`\n    },\n    [setOpenProp, open]\n  )\n\n  // Helper to toggle the sidebar.\n  const toggleSidebar = React.useCallback(() => {\n    return isMobile ? setOpenMobile((open) => !open) : setOpen((open) => !open)\n  }, [isMobile, setOpen, setOpenMobile])\n\n  // Adds a keyboard shortcut to toggle the sidebar.\n  React.useEffect(() => {\n    const handleKeyDown = (event: KeyboardEvent) => {\n      if (\n        event.key === SIDEBAR_KEYBOARD_SHORTCUT &&\n        (event.metaKey || event.ctrlKey)\n      ) {\n        event.preventDefault()\n        toggleSidebar()\n      }\n    }\n\n    window.addEventListener(\"keydown\", handleKeyDown)\n    return () => window.removeEventListener(\"keydown\", handleKeyDown)\n  }, [toggleSidebar])\n\n  // We add a state so that we can do data-state=\"expanded\" or \"collapsed\".\n  // This makes it easier to style the sidebar with Tailwind classes.\n  const state = open ? \"expanded\" : \"collapsed\"\n\n  const contextValue = React.useMemo<SidebarContextProps>(\n    () => ({\n      state,\n      open,\n      setOpen,\n      isMobile,\n      openMobile,\n      setOpenMobile,\n      toggleSidebar,\n    }),\n    [state, open, setOpen, isMobile, openMobile, setOpenMobile, toggleSidebar]\n  )\n\n  return (\n    <SidebarContext.Provider value={contextValue}>\n      <TooltipProvider delayDuration={0}>\n        <div\n          data-slot=\"sidebar-wrapper\"\n          style={\n            {\n              \"--sidebar-width\": SIDEBAR_WIDTH,\n              \"--sidebar-width-icon\": SIDEBAR_WIDTH_ICON,\n              ...style,\n            } as React.CSSProperties\n          }\n          className={cn(\n            \"group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full\",\n            className\n          )}\n          {...props}\n        >\n          {children}\n        </div>\n      </TooltipProvider>\n    </SidebarContext.Provider>\n  )\n}\n\nfunction Sidebar({\n  side = \"left\",\n  variant = \"sidebar\",\n  collapsible = \"offcanvas\",\n  className,\n  children,\n  ...props\n}: React.ComponentProps<\"div\"> & {\n  side?: \"left\" | \"right\"\n  variant?: \"sidebar\" | \"floating\" | \"inset\"\n  collapsible?: \"offcanvas\" | \"icon\" | \"none\"\n}) {\n  const { isMobile, state, openMobile, setOpenMobile } = useSidebar()\n\n  if (collapsible === \"none\") {\n    return (\n      <div\n        data-slot=\"sidebar\"\n        className={cn(\n          \"bg-sidebar text-sidebar-foreground flex h-full w-[var(--sidebar-width)] flex-col\",\n          className\n        )}\n        {...props}\n      >\n        {children}\n      </div>\n    )\n  }\n\n  if (isMobile) {\n    return (\n      <Sheet open={openMobile} onOpenChange={setOpenMobile} {...props}>\n        <SheetContent\n          data-sidebar=\"sidebar\"\n          data-slot=\"sidebar\"\n          data-mobile=\"true\"\n          className=\"bg-sidebar text-sidebar-foreground w-[var(--sidebar-width)] p-0 [&>button]:hidden\"\n          style={\n            {\n              \"--sidebar-width\": SIDEBAR_WIDTH_MOBILE,\n            } as React.CSSProperties\n          }\n          side={side}\n        >\n          <SheetHeader className=\"sr-only\">\n            <SheetTitle>Sidebar</SheetTitle>\n            <SheetDescription>Displays the mobile sidebar.</SheetDescription>\n          </SheetHeader>\n          <div className=\"flex h-full w-full flex-col\">{children}</div>\n        </SheetContent>\n      </Sheet>\n    )\n  }\n\n  return (\n    <div\n      className=\"group peer text-sidebar-foreground hidden md:block\"\n      data-state={state}\n      data-collapsible={state === \"collapsed\" ? collapsible : \"\"}\n      data-variant={variant}\n      data-side={side}\n      data-slot=\"sidebar\"\n    >\n      {/* This is what handles the sidebar gap on desktop */}\n      <div\n        data-slot=\"sidebar-gap\"\n        className={cn(\n          \"relative w-[var(--sidebar-width)] bg-transparent transition-[width] duration-200 ease-linear\",\n          \"group-data-[collapsible=offcanvas]:w-0\",\n          \"group-data-[side=right]:rotate-180\",\n          variant === \"floating\" || variant === \"inset\"\n            ? \"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+var(--spacing-4))]\"\n            : \"group-data-[collapsible=icon]:w-[var(--sidebar-width-icon)]\"\n        )}\n      />\n      <div\n        data-slot=\"sidebar-container\"\n        className={cn(\n          \"fixed inset-y-0 z-10 hidden h-svh w-[var(--sidebar-width)] transition-[left,right,width] duration-200 ease-linear md:flex\",\n          side === \"left\"\n            ? \"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]\"\n            : \"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]\",\n          // Adjust the padding for floating and inset variants.\n          variant === \"floating\" || variant === \"inset\"\n            ? \"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+var(--spacing-4)+2px)]\"\n            : \"group-data-[collapsible=icon]:w-[var(--sidebar-width-icon)] group-data-[side=left]:border-r group-data-[side=right]:border-l\",\n          className\n        )}\n        {...props}\n      >\n        <div\n          data-sidebar=\"sidebar\"\n          data-slot=\"sidebar-inner\"\n          className=\"bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm\"\n        >\n          {children}\n        </div>\n      </div>\n    </div>\n  )\n}\n\nfunction SidebarTrigger({\n  className,\n  onClick,\n  ...props\n}: React.ComponentProps<typeof Button>) {\n  const { toggleSidebar } = useSidebar()\n\n  return (\n    <Button\n      data-sidebar=\"trigger\"\n      data-slot=\"sidebar-trigger\"\n      variant=\"ghost\"\n      size=\"icon\"\n      className={cn(\"h-7 w-7\", className)}\n      onClick={(event) => {\n        onClick?.(event)\n        toggleSidebar()\n      }}\n      {...props}\n    >\n      <PanelLeftIcon />\n      <span className=\"sr-only\">Toggle Sidebar</span>\n    </Button>\n  )\n}\n\nfunction SidebarRail({ className, ...props }: React.ComponentProps<\"button\">) {\n  const { toggleSidebar } = useSidebar()\n\n  // Note: Tailwind v3.4 doesn't support \"in-\" selectors. So the rail won't work perfectly.\n  return (\n    <button\n      data-sidebar=\"rail\"\n      data-slot=\"sidebar-rail\"\n      aria-label=\"Toggle Sidebar\"\n      tabIndex={-1}\n      onClick={toggleSidebar}\n      title=\"Toggle Sidebar\"\n      className={cn(\n        \"hover:after:bg-sidebar-border absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear group-data-[side=left]:-right-4 group-data-[side=right]:left-0 after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] sm:flex\",\n        \"in-data-[side=left]:cursor-w-resize in-data-[side=right]:cursor-e-resize\",\n        \"[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize\",\n        \"hover:group-data-[collapsible=offcanvas]:bg-sidebar group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full\",\n        \"[[data-side=left][data-collapsible=offcanvas]_&]:-right-2\",\n        \"[[data-side=right][data-collapsible=offcanvas]_&]:-left-2\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarInset({ className, ...props }: React.ComponentProps<\"main\">) {\n  return (\n    <main\n      data-slot=\"sidebar-inset\"\n      className={cn(\n        \"bg-background relative flex w-full flex-1 flex-col\",\n        \"md:peer-data-[variant=inset]:m-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow-sm md:peer-data-[variant=inset]:peer-data-[state=collapsed]:ml-2\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarInput({\n  className,\n  ...props\n}: React.ComponentProps<typeof Input>) {\n  return (\n    <Input\n      data-slot=\"sidebar-input\"\n      data-sidebar=\"input\"\n      className={cn(\"bg-background h-8 w-full shadow-none\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarHeader({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-header\"\n      data-sidebar=\"header\"\n      className={cn(\"flex flex-col gap-2 p-2\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarFooter({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-footer\"\n      data-sidebar=\"footer\"\n      className={cn(\"flex flex-col gap-2 p-2\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarSeparator({\n  className,\n  ...props\n}: React.ComponentProps<typeof Separator>) {\n  return (\n    <Separator\n      data-slot=\"sidebar-separator\"\n      data-sidebar=\"separator\"\n      className={cn(\"bg-sidebar-border mx-2 w-auto\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarContent({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-content\"\n      data-sidebar=\"content\"\n      className={cn(\n        \"flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarGroup({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-group\"\n      data-sidebar=\"group\"\n      className={cn(\"relative flex w-full min-w-0 flex-col p-2\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarGroupLabel({\n  className,\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"div\"> & { asChild?: boolean }) {\n  const Comp = asChild ? Slot : \"div\"\n\n  return (\n    <Comp\n      data-slot=\"sidebar-group-label\"\n      data-sidebar=\"group-label\"\n      className={cn(\n        \"text-sidebar-foreground/70 ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:h-4 [&>svg]:w-4 [&>svg]:shrink-0\",\n        \"group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarGroupAction({\n  className,\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"button\"> & { asChild?: boolean }) {\n  const Comp = asChild ? Slot : \"button\"\n\n  return (\n    <Comp\n      data-slot=\"sidebar-group-action\"\n      data-sidebar=\"group-action\"\n      className={cn(\n        \"text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground absolute top-3.5 right-3 flex aspect-square w-5 items-center justify-center rounded-md p-0 outline-hidden transition-transform focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0\",\n        // Increases the hit area of the button on mobile.\n        \"after:absolute after:-inset-2 md:after:hidden\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarGroupContent({\n  className,\n  ...props\n}: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-group-content\"\n      data-sidebar=\"group-content\"\n      className={cn(\"w-full text-sm\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenu({ className, ...props }: React.ComponentProps<\"ul\">) {\n  return (\n    <ul\n      data-slot=\"sidebar-menu\"\n      data-sidebar=\"menu\"\n      className={cn(\"flex w-full min-w-0 flex-col gap-1\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuItem({ className, ...props }: React.ComponentProps<\"li\">) {\n  return (\n    <li\n      data-slot=\"sidebar-menu-item\"\n      data-sidebar=\"menu-item\"\n      className={cn(\"group/menu-item relative\", className)}\n      {...props}\n    />\n  )\n}\n\nconst sidebarMenuButtonVariants = cva(\n  \"peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-hidden ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:w-8! group-data-[collapsible=icon]:h-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default: \"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground\",\n        outline:\n          \"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]\",\n      },\n      size: {\n        default: \"h-8 text-sm\",\n        sm: \"h-7 text-xs\",\n        lg: \"h-12 text-sm group-data-[collapsible=icon]:p-0!\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nfunction SidebarMenuButton({\n  asChild = false,\n  isActive = false,\n  variant = \"default\",\n  size = \"default\",\n  tooltip,\n  className,\n  ...props\n}: React.ComponentProps<\"button\"> & {\n  asChild?: boolean\n  isActive?: boolean\n  tooltip?: string | React.ComponentProps<typeof TooltipContent>\n} & VariantProps<typeof sidebarMenuButtonVariants>) {\n  const Comp = asChild ? Slot : \"button\"\n  const { isMobile, state } = useSidebar()\n\n  const button = (\n    <Comp\n      data-slot=\"sidebar-menu-button\"\n      data-sidebar=\"menu-button\"\n      data-size={size}\n      data-active={isActive}\n      className={cn(sidebarMenuButtonVariants({ variant, size }), className)}\n      {...props}\n    />\n  )\n\n  if (!tooltip) {\n    return button\n  }\n\n  if (typeof tooltip === \"string\") {\n    tooltip = {\n      children: tooltip,\n    }\n  }\n\n  return (\n    <Tooltip>\n      <TooltipTrigger asChild>{button}</TooltipTrigger>\n      <TooltipContent\n        side=\"right\"\n        align=\"center\"\n        hidden={state !== \"collapsed\" || isMobile}\n        {...tooltip}\n      />\n    </Tooltip>\n  )\n}\n\nfunction SidebarMenuAction({\n  className,\n  asChild = false,\n  showOnHover = false,\n  ...props\n}: React.ComponentProps<\"button\"> & {\n  asChild?: boolean\n  showOnHover?: boolean\n}) {\n  const Comp = asChild ? Slot : \"button\"\n\n  return (\n    <Comp\n      data-slot=\"sidebar-menu-action\"\n      data-sidebar=\"menu-action\"\n      className={cn(\n        \"text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground peer-hover/menu-button:text-sidebar-accent-foreground absolute top-1.5 right-1 flex aspect-square w-5 items-center justify-center rounded-md p-0 outline-hidden transition-transform focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0\",\n        // Increases the hit area of the button on mobile.\n        \"after:absolute after:-inset-2 md:after:hidden\",\n        \"peer-data-[size=sm]/menu-button:top-1\",\n        \"peer-data-[size=default]/menu-button:top-1.5\",\n        \"peer-data-[size=lg]/menu-button:top-2.5\",\n        \"group-data-[collapsible=icon]:hidden\",\n        showOnHover &&\n          \"peer-data-[active=true]/menu-button:text-sidebar-accent-foreground group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 md:opacity-0\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuBadge({\n  className,\n  ...props\n}: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-menu-badge\"\n      data-sidebar=\"menu-badge\"\n      className={cn(\n        \"text-sidebar-foreground pointer-events-none absolute right-1 flex h-5 min-w-5 items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums select-none\",\n        \"peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground\",\n        \"peer-data-[size=sm]/menu-button:top-1\",\n        \"peer-data-[size=default]/menu-button:top-1.5\",\n        \"peer-data-[size=lg]/menu-button:top-2.5\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuSkeleton({\n  className,\n  showIcon = false,\n  ...props\n}: React.ComponentProps<\"div\"> & {\n  showIcon?: boolean\n}) {\n  // Random width between 50 to 90%.\n  const width = React.useMemo(() => {\n    return `${Math.floor(Math.random() * 40) + 50}%`\n  }, [])\n\n  return (\n    <div\n      data-slot=\"sidebar-menu-skeleton\"\n      data-sidebar=\"menu-skeleton\"\n      className={cn(\"flex h-8 items-center gap-2 rounded-md px-2\", className)}\n      {...props}\n    >\n      {showIcon && (\n        <Skeleton\n          className=\"size-4 rounded-md\"\n          data-sidebar=\"menu-skeleton-icon\"\n        />\n      )}\n      <Skeleton\n        className=\"h-4 max-w-[var(--skeleton-width)] flex-1\"\n        data-sidebar=\"menu-skeleton-text\"\n        style={\n          {\n            \"--skeleton-width\": width,\n          } as React.CSSProperties\n        }\n      />\n    </div>\n  )\n}\n\nfunction SidebarMenuSub({ className, ...props }: React.ComponentProps<\"ul\">) {\n  return (\n    <ul\n      data-slot=\"sidebar-menu-sub\"\n      data-sidebar=\"menu-sub\"\n      className={cn(\n        \"border-sidebar-border mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l px-2.5 py-0.5\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuSubItem({\n  className,\n  ...props\n}: React.ComponentProps<\"li\">) {\n  return (\n    <li\n      data-slot=\"sidebar-menu-sub-item\"\n      data-sidebar=\"menu-sub-item\"\n      className={cn(\"group/menu-sub-item relative\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuSubButton({\n  asChild = false,\n  size = \"md\",\n  isActive = false,\n  className,\n  ...props\n}: React.ComponentProps<\"a\"> & {\n  asChild?: boolean\n  size?: \"sm\" | \"md\"\n  isActive?: boolean\n}) {\n  const Comp = asChild ? Slot : \"a\"\n\n  return (\n    <Comp\n      data-slot=\"sidebar-menu-sub-button\"\n      data-sidebar=\"menu-sub-button\"\n      data-size={size}\n      data-active={isActive}\n      className={cn(\n        \"text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground active:bg-sidebar-accent active:text-sidebar-accent-foreground [&>svg]:text-sidebar-accent-foreground flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 outline outline-2 outline-transparent outline-offset-2 focus-visible:ring-2 disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0\",\n        \"data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground\",\n        size === \"sm\" && \"text-xs\",\n        size === \"md\" && \"text-sm\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Sidebar,\n  SidebarContent,\n  SidebarFooter,\n  SidebarGroup,\n  SidebarGroupAction,\n  SidebarGroupContent,\n  SidebarGroupLabel,\n  SidebarHeader,\n  SidebarInput,\n  SidebarInset,\n  SidebarMenu,\n  SidebarMenuAction,\n  SidebarMenuBadge,\n  SidebarMenuButton,\n  SidebarMenuItem,\n  SidebarMenuSkeleton,\n  SidebarMenuSub,\n  SidebarMenuSubButton,\n  SidebarMenuSubItem,\n  SidebarProvider,\n  SidebarRail,\n  SidebarSeparator,\n  SidebarTrigger,\n  useSidebar,\n}\n","path":null,"size_bytes":21846,"size_tokens":null},"client/src/components/ui/carousel.tsx":{"content":"import * as React from \"react\"\nimport useEmblaCarousel, {\n  type UseEmblaCarouselType,\n} from \"embla-carousel-react\"\nimport { ArrowLeft, ArrowRight } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Button } from \"@/components/ui/button\"\n\ntype CarouselApi = UseEmblaCarouselType[1]\ntype UseCarouselParameters = Parameters<typeof useEmblaCarousel>\ntype CarouselOptions = UseCarouselParameters[0]\ntype CarouselPlugin = UseCarouselParameters[1]\n\ntype CarouselProps = {\n  opts?: CarouselOptions\n  plugins?: CarouselPlugin\n  orientation?: \"horizontal\" | \"vertical\"\n  setApi?: (api: CarouselApi) => void\n}\n\ntype CarouselContextProps = {\n  carouselRef: ReturnType<typeof useEmblaCarousel>[0]\n  api: ReturnType<typeof useEmblaCarousel>[1]\n  scrollPrev: () => void\n  scrollNext: () => void\n  canScrollPrev: boolean\n  canScrollNext: boolean\n} & CarouselProps\n\nconst CarouselContext = React.createContext<CarouselContextProps | null>(null)\n\nfunction useCarousel() {\n  const context = React.useContext(CarouselContext)\n\n  if (!context) {\n    throw new Error(\"useCarousel must be used within a <Carousel />\")\n  }\n\n  return context\n}\n\nconst Carousel = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement> & CarouselProps\n>(\n  (\n    {\n      orientation = \"horizontal\",\n      opts,\n      setApi,\n      plugins,\n      className,\n      children,\n      ...props\n    },\n    ref\n  ) => {\n    const [carouselRef, api] = useEmblaCarousel(\n      {\n        ...opts,\n        axis: orientation === \"horizontal\" ? \"x\" : \"y\",\n      },\n      plugins\n    )\n    const [canScrollPrev, setCanScrollPrev] = React.useState(false)\n    const [canScrollNext, setCanScrollNext] = React.useState(false)\n\n    const onSelect = React.useCallback((api: CarouselApi) => {\n      if (!api) {\n        return\n      }\n\n      setCanScrollPrev(api.canScrollPrev())\n      setCanScrollNext(api.canScrollNext())\n    }, [])\n\n    const scrollPrev = React.useCallback(() => {\n      api?.scrollPrev()\n    }, [api])\n\n    const scrollNext = React.useCallback(() => {\n      api?.scrollNext()\n    }, [api])\n\n    const handleKeyDown = React.useCallback(\n      (event: React.KeyboardEvent<HTMLDivElement>) => {\n        if (event.key === \"ArrowLeft\") {\n          event.preventDefault()\n          scrollPrev()\n        } else if (event.key === \"ArrowRight\") {\n          event.preventDefault()\n          scrollNext()\n        }\n      },\n      [scrollPrev, scrollNext]\n    )\n\n    React.useEffect(() => {\n      if (!api || !setApi) {\n        return\n      }\n\n      setApi(api)\n    }, [api, setApi])\n\n    React.useEffect(() => {\n      if (!api) {\n        return\n      }\n\n      onSelect(api)\n      api.on(\"reInit\", onSelect)\n      api.on(\"select\", onSelect)\n\n      return () => {\n        api?.off(\"select\", onSelect)\n      }\n    }, [api, onSelect])\n\n    return (\n      <CarouselContext.Provider\n        value={{\n          carouselRef,\n          api: api,\n          opts,\n          orientation:\n            orientation || (opts?.axis === \"y\" ? \"vertical\" : \"horizontal\"),\n          scrollPrev,\n          scrollNext,\n          canScrollPrev,\n          canScrollNext,\n        }}\n      >\n        <div\n          ref={ref}\n          onKeyDownCapture={handleKeyDown}\n          className={cn(\"relative\", className)}\n          role=\"region\"\n          aria-roledescription=\"carousel\"\n          {...props}\n        >\n          {children}\n        </div>\n      </CarouselContext.Provider>\n    )\n  }\n)\nCarousel.displayName = \"Carousel\"\n\nconst CarouselContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const { carouselRef, orientation } = useCarousel()\n\n  return (\n    <div ref={carouselRef} className=\"overflow-hidden\">\n      <div\n        ref={ref}\n        className={cn(\n          \"flex\",\n          orientation === \"horizontal\" ? \"-ml-4\" : \"-mt-4 flex-col\",\n          className\n        )}\n        {...props}\n      />\n    </div>\n  )\n})\nCarouselContent.displayName = \"CarouselContent\"\n\nconst CarouselItem = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const { orientation } = useCarousel()\n\n  return (\n    <div\n      ref={ref}\n      role=\"group\"\n      aria-roledescription=\"slide\"\n      className={cn(\n        \"min-w-0 shrink-0 grow-0 basis-full\",\n        orientation === \"horizontal\" ? \"pl-4\" : \"pt-4\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nCarouselItem.displayName = \"CarouselItem\"\n\nconst CarouselPrevious = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<typeof Button>\n>(({ className, variant = \"outline\", size = \"icon\", ...props }, ref) => {\n  const { orientation, scrollPrev, canScrollPrev } = useCarousel()\n\n  return (\n    <Button\n      ref={ref}\n      variant={variant}\n      size={size}\n      className={cn(\n        \"absolute  h-8 w-8 rounded-full\",\n        orientation === \"horizontal\"\n          ? \"-left-12 top-1/2 -translate-y-1/2\"\n          : \"-top-12 left-1/2 -translate-x-1/2 rotate-90\",\n        className\n      )}\n      disabled={!canScrollPrev}\n      onClick={scrollPrev}\n      {...props}\n    >\n      <ArrowLeft className=\"h-4 w-4\" />\n      <span className=\"sr-only\">Previous slide</span>\n    </Button>\n  )\n})\nCarouselPrevious.displayName = \"CarouselPrevious\"\n\nconst CarouselNext = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<typeof Button>\n>(({ className, variant = \"outline\", size = \"icon\", ...props }, ref) => {\n  const { orientation, scrollNext, canScrollNext } = useCarousel()\n\n  return (\n    <Button\n      ref={ref}\n      variant={variant}\n      size={size}\n      className={cn(\n        \"absolute h-8 w-8 rounded-full\",\n        orientation === \"horizontal\"\n          ? \"-right-12 top-1/2 -translate-y-1/2\"\n          : \"-bottom-12 left-1/2 -translate-x-1/2 rotate-90\",\n        className\n      )}\n      disabled={!canScrollNext}\n      onClick={scrollNext}\n      {...props}\n    >\n      <ArrowRight className=\"h-4 w-4\" />\n      <span className=\"sr-only\">Next slide</span>\n    </Button>\n  )\n})\nCarouselNext.displayName = \"CarouselNext\"\n\nexport {\n  type CarouselApi,\n  Carousel,\n  CarouselContent,\n  CarouselItem,\n  CarouselPrevious,\n  CarouselNext,\n}\n","path":null,"size_bytes":6210,"size_tokens":null},"tailwind.config.ts":{"content":"import type { Config } from \"tailwindcss\";\n\nexport default {\n  darkMode: [\"class\"],\n  content: [\"./client/index.html\", \"./client/src/**/*.{js,jsx,ts,tsx}\"],\n  theme: {\n    extend: {\n      borderRadius: {\n        lg: \".5625rem\", /* 9px */\n        md: \".375rem\", /* 6px */\n        sm: \".1875rem\", /* 3px */\n      },\n      colors: {\n        // Flat / base colors (regular buttons)\n        background: \"hsl(var(--background) / <alpha-value>)\",\n        foreground: \"hsl(var(--foreground) / <alpha-value>)\",\n        border: \"hsl(var(--border) / <alpha-value>)\",\n        input: \"hsl(var(--input) / <alpha-value>)\",\n        card: {\n          DEFAULT: \"hsl(var(--card) / <alpha-value>)\",\n          foreground: \"hsl(var(--card-foreground) / <alpha-value>)\",\n          border: \"hsl(var(--card-border) / <alpha-value>)\",\n        },\n        popover: {\n          DEFAULT: \"hsl(var(--popover) / <alpha-value>)\",\n          foreground: \"hsl(var(--popover-foreground) / <alpha-value>)\",\n          border: \"hsl(var(--popover-border) / <alpha-value>)\",\n        },\n        primary: {\n          DEFAULT: \"hsl(var(--primary) / <alpha-value>)\",\n          foreground: \"hsl(var(--primary-foreground) / <alpha-value>)\",\n          border: \"var(--primary-border)\",\n        },\n        secondary: {\n          DEFAULT: \"hsl(var(--secondary) / <alpha-value>)\",\n          foreground: \"hsl(var(--secondary-foreground) / <alpha-value>)\",\n          border: \"var(--secondary-border)\",\n        },\n        muted: {\n          DEFAULT: \"hsl(var(--muted) / <alpha-value>)\",\n          foreground: \"hsl(var(--muted-foreground) / <alpha-value>)\",\n          border: \"var(--muted-border)\",\n        },\n        accent: {\n          DEFAULT: \"hsl(var(--accent) / <alpha-value>)\",\n          foreground: \"hsl(var(--accent-foreground) / <alpha-value>)\",\n          border: \"var(--accent-border)\",\n        },\n        destructive: {\n          DEFAULT: \"hsl(var(--destructive) / <alpha-value>)\",\n          foreground: \"hsl(var(--destructive-foreground) / <alpha-value>)\",\n          border: \"var(--destructive-border)\",\n        },\n        ring: \"hsl(var(--ring) / <alpha-value>)\",\n        chart: {\n          \"1\": \"hsl(var(--chart-1) / <alpha-value>)\",\n          \"2\": \"hsl(var(--chart-2) / <alpha-value>)\",\n          \"3\": \"hsl(var(--chart-3) / <alpha-value>)\",\n          \"4\": \"hsl(var(--chart-4) / <alpha-value>)\",\n          \"5\": \"hsl(var(--chart-5) / <alpha-value>)\",\n        },\n        sidebar: {\n          ring: \"hsl(var(--sidebar-ring) / <alpha-value>)\",\n          DEFAULT: \"hsl(var(--sidebar) / <alpha-value>)\",\n          foreground: \"hsl(var(--sidebar-foreground) / <alpha-value>)\",\n          border: \"hsl(var(--sidebar-border) / <alpha-value>)\",\n        },\n        \"sidebar-primary\": {\n          DEFAULT: \"hsl(var(--sidebar-primary) / <alpha-value>)\",\n          foreground: \"hsl(var(--sidebar-primary-foreground) / <alpha-value>)\",\n          border: \"var(--sidebar-primary-border)\",\n        },\n        \"sidebar-accent\": {\n          DEFAULT: \"hsl(var(--sidebar-accent) / <alpha-value>)\",\n          foreground: \"hsl(var(--sidebar-accent-foreground) / <alpha-value>)\",\n          border: \"var(--sidebar-accent-border)\"\n        },\n        status: {\n          online: \"rgb(34 197 94)\",\n          away: \"rgb(245 158 11)\",\n          busy: \"rgb(239 68 68)\",\n          offline: \"rgb(156 163 175)\",\n        },\n      },\n      fontFamily: {\n        sans: [\"Inter\", \"var(--font-sans)\", \"system-ui\", \"sans-serif\"],\n        serif: [\"var(--font-serif)\"],\n        mono: [\"var(--font-mono)\"],\n      },\n      keyframes: {\n        \"accordion-down\": {\n          from: { height: \"0\" },\n          to: { height: \"var(--radix-accordion-content-height)\" },\n        },\n        \"accordion-up\": {\n          from: { height: \"var(--radix-accordion-content-height)\" },\n          to: { height: \"0\" },\n        },\n      },\n      animation: {\n        \"accordion-down\": \"accordion-down 0.2s ease-out\",\n        \"accordion-up\": \"accordion-up 0.2s ease-out\",\n      },\n    },\n  },\n  plugins: [require(\"tailwindcss-animate\"), require(\"@tailwindcss/typography\")],\n} satisfies Config;\n","path":null,"size_bytes":4086,"size_tokens":null},"postcss.config.js":{"content":"export default {\n  plugins: {\n    tailwindcss: {},\n    autoprefixer: {},\n  },\n}\n","path":null,"size_bytes":80,"size_tokens":null},"client/src/components/ui/toggle.tsx":{"content":"import * as React from \"react\"\nimport * as TogglePrimitive from \"@radix-ui/react-toggle\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst toggleVariants = cva(\n  \"inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 gap-2\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-transparent\",\n        outline:\n          \"border border-input bg-transparent hover:bg-accent hover:text-accent-foreground\",\n      },\n      size: {\n        default: \"h-10 px-3 min-w-10\",\n        sm: \"h-9 px-2.5 min-w-9\",\n        lg: \"h-11 px-5 min-w-11\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nconst Toggle = React.forwardRef<\n  React.ElementRef<typeof TogglePrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof TogglePrimitive.Root> &\n    VariantProps<typeof toggleVariants>\n>(({ className, variant, size, ...props }, ref) => (\n  <TogglePrimitive.Root\n    ref={ref}\n    className={cn(toggleVariants({ variant, size, className }))}\n    {...props}\n  />\n))\n\nToggle.displayName = TogglePrimitive.Root.displayName\n\nexport { Toggle, toggleVariants }\n","path":null,"size_bytes":1527,"size_tokens":null},"client/src/components/ui/sheet.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as SheetPrimitive from \"@radix-ui/react-dialog\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Sheet = SheetPrimitive.Root\n\nconst SheetTrigger = SheetPrimitive.Trigger\n\nconst SheetClose = SheetPrimitive.Close\n\nconst SheetPortal = SheetPrimitive.Portal\n\nconst SheetOverlay = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Overlay\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  />\n))\nSheetOverlay.displayName = SheetPrimitive.Overlay.displayName\n\nconst sheetVariants = cva(\n  \"fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500\",\n  {\n    variants: {\n      side: {\n        top: \"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top\",\n        bottom:\n          \"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom\",\n        left: \"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm\",\n        right:\n          \"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm\",\n      },\n    },\n    defaultVariants: {\n      side: \"right\",\n    },\n  }\n)\n\ninterface SheetContentProps\n  extends React.ComponentPropsWithoutRef<typeof SheetPrimitive.Content>,\n    VariantProps<typeof sheetVariants> {}\n\nconst SheetContent = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Content>,\n  SheetContentProps\n>(({ side = \"right\", className, children, ...props }, ref) => (\n  <SheetPortal>\n    <SheetOverlay />\n    <SheetPrimitive.Content\n      ref={ref}\n      className={cn(sheetVariants({ side }), className)}\n      {...props}\n    >\n      {children}\n      <SheetPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </SheetPrimitive.Close>\n    </SheetPrimitive.Content>\n  </SheetPortal>\n))\nSheetContent.displayName = SheetPrimitive.Content.displayName\n\nconst SheetHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-2 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nSheetHeader.displayName = \"SheetHeader\"\n\nconst SheetFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nSheetFooter.displayName = \"SheetFooter\"\n\nconst SheetTitle = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Title\n    ref={ref}\n    className={cn(\"text-lg font-semibold text-foreground\", className)}\n    {...props}\n  />\n))\nSheetTitle.displayName = SheetPrimitive.Title.displayName\n\nconst SheetDescription = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nSheetDescription.displayName = SheetPrimitive.Description.displayName\n\nexport {\n  Sheet,\n  SheetPortal,\n  SheetOverlay,\n  SheetTrigger,\n  SheetClose,\n  SheetContent,\n  SheetHeader,\n  SheetFooter,\n  SheetTitle,\n  SheetDescription,\n}\n","path":null,"size_bytes":4281,"size_tokens":null},"client/src/components/ui/chart.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as RechartsPrimitive from \"recharts\"\n\nimport { cn } from \"@/lib/utils\"\n\n// Format: { THEME_NAME: CSS_SELECTOR }\nconst THEMES = { light: \"\", dark: \".dark\" } as const\n\nexport type ChartConfig = {\n  [k in string]: {\n    label?: React.ReactNode\n    icon?: React.ComponentType\n  } & (\n    | { color?: string; theme?: never }\n    | { color?: never; theme: Record<keyof typeof THEMES, string> }\n  )\n}\n\ntype ChartContextProps = {\n  config: ChartConfig\n}\n\nconst ChartContext = React.createContext<ChartContextProps | null>(null)\n\nfunction useChart() {\n  const context = React.useContext(ChartContext)\n\n  if (!context) {\n    throw new Error(\"useChart must be used within a <ChartContainer />\")\n  }\n\n  return context\n}\n\nconst ChartContainer = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> & {\n    config: ChartConfig\n    children: React.ComponentProps<\n      typeof RechartsPrimitive.ResponsiveContainer\n    >[\"children\"]\n  }\n>(({ id, className, children, config, ...props }, ref) => {\n  const uniqueId = React.useId()\n  const chartId = `chart-${id || uniqueId.replace(/:/g, \"\")}`\n\n  return (\n    <ChartContext.Provider value={{ config }}>\n      <div\n        data-chart={chartId}\n        ref={ref}\n        className={cn(\n          \"flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none\",\n          className\n        )}\n        {...props}\n      >\n        <ChartStyle id={chartId} config={config} />\n        <RechartsPrimitive.ResponsiveContainer>\n          {children}\n        </RechartsPrimitive.ResponsiveContainer>\n      </div>\n    </ChartContext.Provider>\n  )\n})\nChartContainer.displayName = \"Chart\"\n\nconst ChartStyle = ({ id, config }: { id: string; config: ChartConfig }) => {\n  const colorConfig = Object.entries(config).filter(\n    ([, config]) => config.theme || config.color\n  )\n\n  if (!colorConfig.length) {\n    return null\n  }\n\n  return (\n    <style\n      dangerouslySetInnerHTML={{\n        __html: Object.entries(THEMES)\n          .map(\n            ([theme, prefix]) => `\n${prefix} [data-chart=${id}] {\n${colorConfig\n  .map(([key, itemConfig]) => {\n    const color =\n      itemConfig.theme?.[theme as keyof typeof itemConfig.theme] ||\n      itemConfig.color\n    return color ? `  --color-${key}: ${color};` : null\n  })\n  .join(\"\\n\")}\n}\n`\n          )\n          .join(\"\\n\"),\n      }}\n    />\n  )\n}\n\nconst ChartTooltip = RechartsPrimitive.Tooltip\n\nconst ChartTooltipContent = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<typeof RechartsPrimitive.Tooltip> &\n    React.ComponentProps<\"div\"> & {\n      hideLabel?: boolean\n      hideIndicator?: boolean\n      indicator?: \"line\" | \"dot\" | \"dashed\"\n      nameKey?: string\n      labelKey?: string\n    }\n>(\n  (\n    {\n      active,\n      payload,\n      className,\n      indicator = \"dot\",\n      hideLabel = false,\n      hideIndicator = false,\n      label,\n      labelFormatter,\n      labelClassName,\n      formatter,\n      color,\n      nameKey,\n      labelKey,\n    },\n    ref\n  ) => {\n    const { config } = useChart()\n\n    const tooltipLabel = React.useMemo(() => {\n      if (hideLabel || !payload?.length) {\n        return null\n      }\n\n      const [item] = payload\n      const key = `${labelKey || item?.dataKey || item?.name || \"value\"}`\n      const itemConfig = getPayloadConfigFromPayload(config, item, key)\n      const value =\n        !labelKey && typeof label === \"string\"\n          ? config[label as keyof typeof config]?.label || label\n          : itemConfig?.label\n\n      if (labelFormatter) {\n        return (\n          <div className={cn(\"font-medium\", labelClassName)}>\n            {labelFormatter(value, payload)}\n          </div>\n        )\n      }\n\n      if (!value) {\n        return null\n      }\n\n      return <div className={cn(\"font-medium\", labelClassName)}>{value}</div>\n    }, [\n      label,\n      labelFormatter,\n      payload,\n      hideLabel,\n      labelClassName,\n      config,\n      labelKey,\n    ])\n\n    if (!active || !payload?.length) {\n      return null\n    }\n\n    const nestLabel = payload.length === 1 && indicator !== \"dot\"\n\n    return (\n      <div\n        ref={ref}\n        className={cn(\n          \"grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl\",\n          className\n        )}\n      >\n        {!nestLabel ? tooltipLabel : null}\n        <div className=\"grid gap-1.5\">\n          {payload.map((item, index) => {\n            const key = `${nameKey || item.name || item.dataKey || \"value\"}`\n            const itemConfig = getPayloadConfigFromPayload(config, item, key)\n            const indicatorColor = color || item.payload.fill || item.color\n\n            return (\n              <div\n                key={item.dataKey}\n                className={cn(\n                  \"flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground\",\n                  indicator === \"dot\" && \"items-center\"\n                )}\n              >\n                {formatter && item?.value !== undefined && item.name ? (\n                  formatter(item.value, item.name, item, index, item.payload)\n                ) : (\n                  <>\n                    {itemConfig?.icon ? (\n                      <itemConfig.icon />\n                    ) : (\n                      !hideIndicator && (\n                        <div\n                          className={cn(\n                            \"shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]\",\n                            {\n                              \"h-2.5 w-2.5\": indicator === \"dot\",\n                              \"w-1\": indicator === \"line\",\n                              \"w-0 border-[1.5px] border-dashed bg-transparent\":\n                                indicator === \"dashed\",\n                              \"my-0.5\": nestLabel && indicator === \"dashed\",\n                            }\n                          )}\n                          style={\n                            {\n                              \"--color-bg\": indicatorColor,\n                              \"--color-border\": indicatorColor,\n                            } as React.CSSProperties\n                          }\n                        />\n                      )\n                    )}\n                    <div\n                      className={cn(\n                        \"flex flex-1 justify-between leading-none\",\n                        nestLabel ? \"items-end\" : \"items-center\"\n                      )}\n                    >\n                      <div className=\"grid gap-1.5\">\n                        {nestLabel ? tooltipLabel : null}\n                        <span className=\"text-muted-foreground\">\n                          {itemConfig?.label || item.name}\n                        </span>\n                      </div>\n                      {item.value && (\n                        <span className=\"font-mono font-medium tabular-nums text-foreground\">\n                          {item.value.toLocaleString()}\n                        </span>\n                      )}\n                    </div>\n                  </>\n                )}\n              </div>\n            )\n          })}\n        </div>\n      </div>\n    )\n  }\n)\nChartTooltipContent.displayName = \"ChartTooltip\"\n\nconst ChartLegend = RechartsPrimitive.Legend\n\nconst ChartLegendContent = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> &\n    Pick<RechartsPrimitive.LegendProps, \"payload\" | \"verticalAlign\"> & {\n      hideIcon?: boolean\n      nameKey?: string\n    }\n>(\n  (\n    { className, hideIcon = false, payload, verticalAlign = \"bottom\", nameKey },\n    ref\n  ) => {\n    const { config } = useChart()\n\n    if (!payload?.length) {\n      return null\n    }\n\n    return (\n      <div\n        ref={ref}\n        className={cn(\n          \"flex items-center justify-center gap-4\",\n          verticalAlign === \"top\" ? \"pb-3\" : \"pt-3\",\n          className\n        )}\n      >\n        {payload.map((item) => {\n          const key = `${nameKey || item.dataKey || \"value\"}`\n          const itemConfig = getPayloadConfigFromPayload(config, item, key)\n\n          return (\n            <div\n              key={item.value}\n              className={cn(\n                \"flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground\"\n              )}\n            >\n              {itemConfig?.icon && !hideIcon ? (\n                <itemConfig.icon />\n              ) : (\n                <div\n                  className=\"h-2 w-2 shrink-0 rounded-[2px]\"\n                  style={{\n                    backgroundColor: item.color,\n                  }}\n                />\n              )}\n              {itemConfig?.label}\n            </div>\n          )\n        })}\n      </div>\n    )\n  }\n)\nChartLegendContent.displayName = \"ChartLegend\"\n\n// Helper to extract item config from a payload.\nfunction getPayloadConfigFromPayload(\n  config: ChartConfig,\n  payload: unknown,\n  key: string\n) {\n  if (typeof payload !== \"object\" || payload === null) {\n    return undefined\n  }\n\n  const payloadPayload =\n    \"payload\" in payload &&\n    typeof payload.payload === \"object\" &&\n    payload.payload !== null\n      ? payload.payload\n      : undefined\n\n  let configLabelKey: string = key\n\n  if (\n    key in payload &&\n    typeof payload[key as keyof typeof payload] === \"string\"\n  ) {\n    configLabelKey = payload[key as keyof typeof payload] as string\n  } else if (\n    payloadPayload &&\n    key in payloadPayload &&\n    typeof payloadPayload[key as keyof typeof payloadPayload] === \"string\"\n  ) {\n    configLabelKey = payloadPayload[\n      key as keyof typeof payloadPayload\n    ] as string\n  }\n\n  return configLabelKey in config\n    ? config[configLabelKey]\n    : config[key as keyof typeof config]\n}\n\nexport {\n  ChartContainer,\n  ChartTooltip,\n  ChartTooltipContent,\n  ChartLegend,\n  ChartLegendContent,\n  ChartStyle,\n}\n","path":null,"size_bytes":10481,"size_tokens":null},"client/src/components/ui/select.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as SelectPrimitive from \"@radix-ui/react-select\"\nimport { Check, ChevronDown, ChevronUp } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Select = SelectPrimitive.Root\n\nconst SelectGroup = SelectPrimitive.Group\n\nconst SelectValue = SelectPrimitive.Value\n\nconst SelectTrigger = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex h-9 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <SelectPrimitive.Icon asChild>\n      <ChevronDown className=\"h-4 w-4 opacity-50\" />\n    </SelectPrimitive.Icon>\n  </SelectPrimitive.Trigger>\n))\nSelectTrigger.displayName = SelectPrimitive.Trigger.displayName\n\nconst SelectScrollUpButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollUpButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollUpButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollUpButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronUp className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollUpButton>\n))\nSelectScrollUpButton.displayName = SelectPrimitive.ScrollUpButton.displayName\n\nconst SelectScrollDownButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollDownButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollDownButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollDownButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronDown className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollDownButton>\n))\nSelectScrollDownButton.displayName =\n  SelectPrimitive.ScrollDownButton.displayName\n\nconst SelectContent = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Content>\n>(({ className, children, position = \"popper\", ...props }, ref) => (\n  <SelectPrimitive.Portal>\n    <SelectPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]\",\n        position === \"popper\" &&\n          \"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1\",\n        className\n      )}\n      position={position}\n      {...props}\n    >\n      <SelectScrollUpButton />\n      <SelectPrimitive.Viewport\n        className={cn(\n          \"p-1\",\n          position === \"popper\" &&\n            \"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]\"\n        )}\n      >\n        {children}\n      </SelectPrimitive.Viewport>\n      <SelectScrollDownButton />\n    </SelectPrimitive.Content>\n  </SelectPrimitive.Portal>\n))\nSelectContent.displayName = SelectPrimitive.Content.displayName\n\nconst SelectLabel = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Label>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Label\n    ref={ref}\n    className={cn(\"py-1.5 pl-8 pr-2 text-sm font-semibold\", className)}\n    {...props}\n  />\n))\nSelectLabel.displayName = SelectPrimitive.Label.displayName\n\nconst SelectItem = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Item>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <SelectPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </SelectPrimitive.ItemIndicator>\n    </span>\n\n    <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\n  </SelectPrimitive.Item>\n))\nSelectItem.displayName = SelectPrimitive.Item.displayName\n\nconst SelectSeparator = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nSelectSeparator.displayName = SelectPrimitive.Separator.displayName\n\nexport {\n  Select,\n  SelectGroup,\n  SelectValue,\n  SelectTrigger,\n  SelectContent,\n  SelectLabel,\n  SelectItem,\n  SelectSeparator,\n  SelectScrollUpButton,\n  SelectScrollDownButton,\n}\n","path":null,"size_bytes":5741,"size_tokens":null},"client/src/components/ui/input.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Input = React.forwardRef<HTMLInputElement, React.ComponentProps<\"input\">>(\n  ({ className, type, ...props }, ref) => {\n    // h-9 to match icon buttons and default buttons.\n    return (\n      <input\n        type={type}\n        className={cn(\n          \"flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nInput.displayName = \"Input\"\n\nexport { Input }\n","path":null,"size_bytes":844,"size_tokens":null},"client/src/hooks/use-mobile.tsx":{"content":"import * as React from \"react\"\n\nconst MOBILE_BREAKPOINT = 768\n\nexport function useIsMobile() {\n  const [isMobile, setIsMobile] = React.useState<boolean | undefined>(undefined)\n\n  React.useEffect(() => {\n    const mql = window.matchMedia(`(max-width: ${MOBILE_BREAKPOINT - 1}px)`)\n    const onChange = () => {\n      setIsMobile(window.innerWidth < MOBILE_BREAKPOINT)\n    }\n    mql.addEventListener(\"change\", onChange)\n    setIsMobile(window.innerWidth < MOBILE_BREAKPOINT)\n    return () => mql.removeEventListener(\"change\", onChange)\n  }, [])\n\n  return !!isMobile\n}\n","path":null,"size_bytes":565,"size_tokens":null},"client/src/components/ui/badge.tsx":{"content":"import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst badgeVariants = cva(\n  // Whitespace-nowrap: Badges should never wrap.\n  \"whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\" +\n  \" hover-elevate \" ,\n  {\n    variants: {\n      variant: {\n        default:\n          \"border-transparent bg-primary text-primary-foreground shadow-xs\",\n        secondary: \"border-transparent bg-secondary text-secondary-foreground\",\n        destructive:\n          \"border-transparent bg-destructive text-destructive-foreground shadow-xs\",\n\n        outline: \" border [border-color:var(--badge-outline)] shadow-xs\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  },\n)\n\nexport interface BadgeProps\n  extends React.HTMLAttributes<HTMLDivElement>,\n    VariantProps<typeof badgeVariants> {}\n\nfunction Badge({ className, variant, ...props }: BadgeProps) {\n  return (\n    <div className={cn(badgeVariants({ variant }), className)} {...props} />\n  );\n}\n\nexport { Badge, badgeVariants }\n","path":null,"size_bytes":1202,"size_tokens":null},"client/src/components/ui/alert.tsx":{"content":"import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst alertVariants = cva(\n  \"relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-background text-foreground\",\n        destructive:\n          \"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nconst Alert = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement> & VariantProps<typeof alertVariants>\n>(({ className, variant, ...props }, ref) => (\n  <div\n    ref={ref}\n    role=\"alert\"\n    className={cn(alertVariants({ variant }), className)}\n    {...props}\n  />\n))\nAlert.displayName = \"Alert\"\n\nconst AlertTitle = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLHeadingElement>\n>(({ className, ...props }, ref) => (\n  <h5\n    ref={ref}\n    className={cn(\"mb-1 font-medium leading-none tracking-tight\", className)}\n    {...props}\n  />\n))\nAlertTitle.displayName = \"AlertTitle\"\n\nconst AlertDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm [&_p]:leading-relaxed\", className)}\n    {...props}\n  />\n))\nAlertDescription.displayName = \"AlertDescription\"\n\nexport { Alert, AlertTitle, AlertDescription }\n","path":null,"size_bytes":1584,"size_tokens":null},"shared/schema.ts":{"content":"import { sql } from \"drizzle-orm\";\nimport { pgTable, text, varchar, integer, timestamp, jsonb, boolean } from \"drizzle-orm/pg-core\";\nimport { createInsertSchema } from \"drizzle-zod\";\nimport { z } from \"zod\";\n\nexport const users = pgTable(\"users\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  username: text(\"username\").notNull().unique(),\n});\n\nexport const resumes = pgTable(\"resumes\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  userId: varchar(\"user_id\").notNull().references(() => users.id),\n  filename: text(\"filename\").notNull(),\n  filesize: integer(\"filesize\").notNull(),\n  mimeType: text(\"mime_type\").notNull(),\n  extractedText: text(\"extracted_text\").notNull(),\n  createdAt: timestamp(\"created_at\").notNull().defaultNow(),\n});\n\nexport const analyses = pgTable(\"analyses\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  resumeId: varchar(\"resume_id\").notNull().references(() => resumes.id),\n  completenessScore: integer(\"completeness_score\").notNull(),\n  completenessRationale: text(\"completeness_rationale\").notNull(),\n  sectionScores: jsonb(\"section_scores\").notNull().$type<{\n    summary: number;\n    education: number;\n    experience: number;\n    other: number;\n  }>(),\n  suggestions: jsonb(\"suggestions\").notNull().$type<string[]>(),\n  createdAt: timestamp(\"created_at\").notNull().defaultNow(),\n});\n\nexport const insertUserSchema = createInsertSchema(users).omit({ id: true });\nexport type InsertUser = z.infer<typeof insertUserSchema>;\nexport type User = typeof users.$inferSelect;\n\nexport const insertResumeSchema = createInsertSchema(resumes).omit({ \n  id: true, \n  createdAt: true \n});\nexport type InsertResume = z.infer<typeof insertResumeSchema>;\nexport type Resume = typeof resumes.$inferSelect;\n\nexport const insertAnalysisSchema = createInsertSchema(analyses).omit({ \n  id: true, \n  createdAt: true \n});\nexport type InsertAnalysis = z.infer<typeof insertAnalysisSchema>;\nexport type Analysis = typeof analyses.$inferSelect;\n\nexport const jobMatches = pgTable(\"job_matches\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  resumeId: varchar(\"resume_id\").notNull().references(() => resumes.id),\n  jobDescription: text(\"job_description\").notNull(),\n  jobRole: text(\"job_role\"),\n  jobLocation: text(\"job_location\"),\n  alignmentScore: integer(\"alignment_score\").notNull(),\n  alignmentRationale: text(\"alignment_rationale\").notNull(),\n  gaps: jsonb(\"gaps\").notNull().$type<Array<{\n    category: string;\n    description: string;\n    severity: \"high\" | \"medium\" | \"low\";\n  }>>(),\n  strengths: jsonb(\"strengths\").notNull().$type<string[]>(),\n  gapResponses: jsonb(\"gap_responses\").$type<Array<{\n    gapIndex: number;\n    proficiencyLevel: \"none\" | \"basic\" | \"moderate\" | \"advanced\";\n  }>>(),\n  finalVerdict: text(\"final_verdict\"),\n  shouldApply: boolean(\"should_apply\"),\n  changesSummary: text(\"changes_summary\"),\n  tailoredResumeContent: text(\"tailored_resume_content\"),\n  createdAt: timestamp(\"created_at\").notNull().defaultNow(),\n});\n\nexport const insertJobMatchSchema = createInsertSchema(jobMatches).omit({\n  id: true,\n  createdAt: true,\n});\nexport type InsertJobMatch = z.infer<typeof insertJobMatchSchema>;\nexport type JobMatch = typeof jobMatches.$inferSelect;\n\nexport const careerRoadmaps = pgTable(\"career_roadmaps\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  userId: varchar(\"user_id\").notNull().references(() => users.id),\n  resumeId: varchar(\"resume_id\").notNull().references(() => resumes.id),\n  dreamRole: text(\"dream_role\").notNull(),\n  dreamLocation: text(\"dream_location\").notNull(),\n  timeframe: text(\"timeframe\").notNull(),\n  currentGaps: jsonb(\"current_gaps\").notNull().$type<string[]>(),\n  skillsToAcquire: jsonb(\"skills_to_acquire\").notNull().$type<string[]>(),\n  actionPlan: jsonb(\"action_plan\").notNull().$type<Array<{\n    phase: string;\n    duration: string;\n    actions: string[];\n  }>>(),\n  resources: jsonb(\"resources\").notNull().$type<string[]>(),\n  milestones: jsonb(\"milestones\").notNull().$type<string[]>(),\n  createdAt: timestamp(\"created_at\").notNull().defaultNow(),\n});\n\nexport const insertCareerRoadmapSchema = createInsertSchema(careerRoadmaps).omit({\n  id: true,\n  createdAt: true,\n});\nexport type InsertCareerRoadmap = z.infer<typeof insertCareerRoadmapSchema>;\nexport type CareerRoadmap = typeof careerRoadmaps.$inferSelect;\n","path":null,"size_bytes":4401,"size_tokens":null},"client/src/hooks/use-toast.ts":{"content":"import * as React from \"react\"\n\nimport type {\n  ToastActionElement,\n  ToastProps,\n} from \"@/components/ui/toast\"\n\nconst TOAST_LIMIT = 1\nconst TOAST_REMOVE_DELAY = 1000000\n\ntype ToasterToast = ToastProps & {\n  id: string\n  title?: React.ReactNode\n  description?: React.ReactNode\n  action?: ToastActionElement\n}\n\nconst actionTypes = {\n  ADD_TOAST: \"ADD_TOAST\",\n  UPDATE_TOAST: \"UPDATE_TOAST\",\n  DISMISS_TOAST: \"DISMISS_TOAST\",\n  REMOVE_TOAST: \"REMOVE_TOAST\",\n} as const\n\nlet count = 0\n\nfunction genId() {\n  count = (count + 1) % Number.MAX_SAFE_INTEGER\n  return count.toString()\n}\n\ntype ActionType = typeof actionTypes\n\ntype Action =\n  | {\n      type: ActionType[\"ADD_TOAST\"]\n      toast: ToasterToast\n    }\n  | {\n      type: ActionType[\"UPDATE_TOAST\"]\n      toast: Partial<ToasterToast>\n    }\n  | {\n      type: ActionType[\"DISMISS_TOAST\"]\n      toastId?: ToasterToast[\"id\"]\n    }\n  | {\n      type: ActionType[\"REMOVE_TOAST\"]\n      toastId?: ToasterToast[\"id\"]\n    }\n\ninterface State {\n  toasts: ToasterToast[]\n}\n\nconst toastTimeouts = new Map<string, ReturnType<typeof setTimeout>>()\n\nconst addToRemoveQueue = (toastId: string) => {\n  if (toastTimeouts.has(toastId)) {\n    return\n  }\n\n  const timeout = setTimeout(() => {\n    toastTimeouts.delete(toastId)\n    dispatch({\n      type: \"REMOVE_TOAST\",\n      toastId: toastId,\n    })\n  }, TOAST_REMOVE_DELAY)\n\n  toastTimeouts.set(toastId, timeout)\n}\n\nexport const reducer = (state: State, action: Action): State => {\n  switch (action.type) {\n    case \"ADD_TOAST\":\n      return {\n        ...state,\n        toasts: [action.toast, ...state.toasts].slice(0, TOAST_LIMIT),\n      }\n\n    case \"UPDATE_TOAST\":\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === action.toast.id ? { ...t, ...action.toast } : t\n        ),\n      }\n\n    case \"DISMISS_TOAST\": {\n      const { toastId } = action\n\n      // ! Side effects ! - This could be extracted into a dismissToast() action,\n      // but I'll keep it here for simplicity\n      if (toastId) {\n        addToRemoveQueue(toastId)\n      } else {\n        state.toasts.forEach((toast) => {\n          addToRemoveQueue(toast.id)\n        })\n      }\n\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === toastId || toastId === undefined\n            ? {\n                ...t,\n                open: false,\n              }\n            : t\n        ),\n      }\n    }\n    case \"REMOVE_TOAST\":\n      if (action.toastId === undefined) {\n        return {\n          ...state,\n          toasts: [],\n        }\n      }\n      return {\n        ...state,\n        toasts: state.toasts.filter((t) => t.id !== action.toastId),\n      }\n  }\n}\n\nconst listeners: Array<(state: State) => void> = []\n\nlet memoryState: State = { toasts: [] }\n\nfunction dispatch(action: Action) {\n  memoryState = reducer(memoryState, action)\n  listeners.forEach((listener) => {\n    listener(memoryState)\n  })\n}\n\ntype Toast = Omit<ToasterToast, \"id\">\n\nfunction toast({ ...props }: Toast) {\n  const id = genId()\n\n  const update = (props: ToasterToast) =>\n    dispatch({\n      type: \"UPDATE_TOAST\",\n      toast: { ...props, id },\n    })\n  const dismiss = () => dispatch({ type: \"DISMISS_TOAST\", toastId: id })\n\n  dispatch({\n    type: \"ADD_TOAST\",\n    toast: {\n      ...props,\n      id,\n      open: true,\n      onOpenChange: (open) => {\n        if (!open) dismiss()\n      },\n    },\n  })\n\n  return {\n    id: id,\n    dismiss,\n    update,\n  }\n}\n\nfunction useToast() {\n  const [state, setState] = React.useState<State>(memoryState)\n\n  React.useEffect(() => {\n    listeners.push(setState)\n    return () => {\n      const index = listeners.indexOf(setState)\n      if (index > -1) {\n        listeners.splice(index, 1)\n      }\n    }\n  }, [state])\n\n  return {\n    ...state,\n    toast,\n    dismiss: (toastId?: string) => dispatch({ type: \"DISMISS_TOAST\", toastId }),\n  }\n}\n\nexport { useToast, toast }\n","path":null,"size_bytes":3895,"size_tokens":null},"client/src/components/ui/dropdown-menu.tsx":{"content":"import * as React from \"react\"\nimport * as DropdownMenuPrimitive from \"@radix-ui/react-dropdown-menu\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst DropdownMenu = DropdownMenuPrimitive.Root\n\nconst DropdownMenuTrigger = DropdownMenuPrimitive.Trigger\n\nconst DropdownMenuGroup = DropdownMenuPrimitive.Group\n\nconst DropdownMenuPortal = DropdownMenuPrimitive.Portal\n\nconst DropdownMenuSub = DropdownMenuPrimitive.Sub\n\nconst DropdownMenuRadioGroup = DropdownMenuPrimitive.RadioGroup\n\nconst DropdownMenuSubTrigger = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto\" />\n  </DropdownMenuPrimitive.SubTrigger>\n))\nDropdownMenuSubTrigger.displayName =\n  DropdownMenuPrimitive.SubTrigger.displayName\n\nconst DropdownMenuSubContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuSubContent.displayName =\n  DropdownMenuPrimitive.SubContent.displayName\n\nconst DropdownMenuContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <DropdownMenuPrimitive.Portal>\n    <DropdownMenuPrimitive.Content\n      ref={ref}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]\",\n        className\n      )}\n      {...props}\n    />\n  </DropdownMenuPrimitive.Portal>\n))\nDropdownMenuContent.displayName = DropdownMenuPrimitive.Content.displayName\n\nconst DropdownMenuItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuItem.displayName = DropdownMenuPrimitive.Item.displayName\n\nconst DropdownMenuCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <DropdownMenuPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.CheckboxItem>\n))\nDropdownMenuCheckboxItem.displayName =\n  DropdownMenuPrimitive.CheckboxItem.displayName\n\nconst DropdownMenuRadioItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.RadioItem>\n))\nDropdownMenuRadioItem.displayName = DropdownMenuPrimitive.RadioItem.displayName\n\nconst DropdownMenuLabel = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuLabel.displayName = DropdownMenuPrimitive.Label.displayName\n\nconst DropdownMenuSeparator = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nDropdownMenuSeparator.displayName = DropdownMenuPrimitive.Separator.displayName\n\nconst DropdownMenuShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\"ml-auto text-xs tracking-widest opacity-60\", className)}\n      {...props}\n    />\n  )\n}\nDropdownMenuShortcut.displayName = \"DropdownMenuShortcut\"\n\nexport {\n  DropdownMenu,\n  DropdownMenuTrigger,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuCheckboxItem,\n  DropdownMenuRadioItem,\n  DropdownMenuLabel,\n  DropdownMenuSeparator,\n  DropdownMenuShortcut,\n  DropdownMenuGroup,\n  DropdownMenuPortal,\n  DropdownMenuSub,\n  DropdownMenuSubContent,\n  DropdownMenuSubTrigger,\n  DropdownMenuRadioGroup,\n}\n","path":null,"size_bytes":7609,"size_tokens":null},"client/src/components/ui/command.tsx":{"content":"import * as React from \"react\"\nimport { type DialogProps } from \"@radix-ui/react-dialog\"\nimport { Command as CommandPrimitive } from \"cmdk\"\nimport { Search } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Dialog, DialogContent } from \"@/components/ui/dialog\"\n\nconst Command = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive\n    ref={ref}\n    className={cn(\n      \"flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nCommand.displayName = CommandPrimitive.displayName\n\nconst CommandDialog = ({ children, ...props }: DialogProps) => {\n  return (\n    <Dialog {...props}>\n      <DialogContent className=\"overflow-hidden p-0 shadow-lg\">\n        <Command className=\"[&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-group]]:px-2 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5\">\n          {children}\n        </Command>\n      </DialogContent>\n    </Dialog>\n  )\n}\n\nconst CommandInput = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Input>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Input>\n>(({ className, ...props }, ref) => (\n  <div className=\"flex items-center border-b px-3\" cmdk-input-wrapper=\"\">\n    <Search className=\"mr-2 h-4 w-4 shrink-0 opacity-50\" />\n    <CommandPrimitive.Input\n      ref={ref}\n      className={cn(\n        \"flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    />\n  </div>\n))\n\nCommandInput.displayName = CommandPrimitive.Input.displayName\n\nconst CommandList = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.List\n    ref={ref}\n    className={cn(\"max-h-[300px] overflow-y-auto overflow-x-hidden\", className)}\n    {...props}\n  />\n))\n\nCommandList.displayName = CommandPrimitive.List.displayName\n\nconst CommandEmpty = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Empty>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Empty>\n>((props, ref) => (\n  <CommandPrimitive.Empty\n    ref={ref}\n    className=\"py-6 text-center text-sm\"\n    {...props}\n  />\n))\n\nCommandEmpty.displayName = CommandPrimitive.Empty.displayName\n\nconst CommandGroup = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Group>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Group>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Group\n    ref={ref}\n    className={cn(\n      \"overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\n\nCommandGroup.displayName = CommandPrimitive.Group.displayName\n\nconst CommandSeparator = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 h-px bg-border\", className)}\n    {...props}\n  />\n))\nCommandSeparator.displayName = CommandPrimitive.Separator.displayName\n\nconst CommandItem = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Item>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      className\n    )}\n    {...props}\n  />\n))\n\nCommandItem.displayName = CommandPrimitive.Item.displayName\n\nconst CommandShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\n        \"ml-auto text-xs tracking-widest text-muted-foreground\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\nCommandShortcut.displayName = \"CommandShortcut\"\n\nexport {\n  Command,\n  CommandDialog,\n  CommandInput,\n  CommandList,\n  CommandEmpty,\n  CommandGroup,\n  CommandItem,\n  CommandShortcut,\n  CommandSeparator,\n}\n","path":null,"size_bytes":4885,"size_tokens":null},"client/src/components/ui/toast.tsx":{"content":"import * as React from \"react\"\nimport * as ToastPrimitives from \"@radix-ui/react-toast\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ToastProvider = ToastPrimitives.Provider\n\nconst ToastViewport = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Viewport>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Viewport>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Viewport\n    ref={ref}\n    className={cn(\n      \"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]\",\n      className\n    )}\n    {...props}\n  />\n))\nToastViewport.displayName = ToastPrimitives.Viewport.displayName\n\nconst toastVariants = cva(\n  \"group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full\",\n  {\n    variants: {\n      variant: {\n        default: \"border bg-background text-foreground\",\n        destructive:\n          \"destructive group border-destructive bg-destructive text-destructive-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nconst Toast = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Root>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Root> &\n    VariantProps<typeof toastVariants>\n>(({ className, variant, ...props }, ref) => {\n  return (\n    <ToastPrimitives.Root\n      ref={ref}\n      className={cn(toastVariants({ variant }), className)}\n      {...props}\n    />\n  )\n})\nToast.displayName = ToastPrimitives.Root.displayName\n\nconst ToastAction = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Action>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Action>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Action\n    ref={ref}\n    className={cn(\n      \"inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive\",\n      className\n    )}\n    {...props}\n  />\n))\nToastAction.displayName = ToastPrimitives.Action.displayName\n\nconst ToastClose = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Close>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Close>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Close\n    ref={ref}\n    className={cn(\n      \"absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600\",\n      className\n    )}\n    toast-close=\"\"\n    {...props}\n  >\n    <X className=\"h-4 w-4\" />\n  </ToastPrimitives.Close>\n))\nToastClose.displayName = ToastPrimitives.Close.displayName\n\nconst ToastTitle = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Title>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Title>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Title\n    ref={ref}\n    className={cn(\"text-sm font-semibold\", className)}\n    {...props}\n  />\n))\nToastTitle.displayName = ToastPrimitives.Title.displayName\n\nconst ToastDescription = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Description>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Description>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Description\n    ref={ref}\n    className={cn(\"text-sm opacity-90\", className)}\n    {...props}\n  />\n))\nToastDescription.displayName = ToastPrimitives.Description.displayName\n\ntype ToastProps = React.ComponentPropsWithoutRef<typeof Toast>\n\ntype ToastActionElement = React.ReactElement<typeof ToastAction>\n\nexport {\n  type ToastProps,\n  type ToastActionElement,\n  ToastProvider,\n  ToastViewport,\n  Toast,\n  ToastTitle,\n  ToastDescription,\n  ToastClose,\n  ToastAction,\n}\n","path":null,"size_bytes":4845,"size_tokens":null},"client/src/pages/dashboard.tsx":{"content":"import { useState, useRef } from \"react\";\nimport { useLocation } from \"wouter\";\nimport { useQuery, useMutation } from \"@tanstack/react-query\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent, CardHeader, CardTitle, CardDescription } from \"@/components/ui/card\";\nimport { apiRequest, queryClient } from \"@/lib/queryClient\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { \n  Upload, \n  FileText, \n  Loader2, \n  Calendar,\n  Sparkles,\n  AlertCircle,\n} from \"lucide-react\";\nimport type { Resume } from \"@shared/schema\";\nimport { formatBytes, formatDate } from \"@/lib/utils\";\n\nexport default function Dashboard() {\n  const [, setLocation] = useLocation();\n  const { toast } = useToast();\n  const fileInputRef = useRef<HTMLInputElement>(null);\n  const [isDragging, setIsDragging] = useState(false);\n  const [uploadingFile, setUploadingFile] = useState<File | null>(null);\n\n  const { data: allResumes, isLoading } = useQuery<Resume[]>({\n    queryKey: [\"/api/resumes\"],\n  });\n\n  const resumes = allResumes && allResumes.length > 0 ? [allResumes[0]] : [];\n\n  const uploadMutation = useMutation({\n    mutationFn: async (file: File) => {\n      const formData = new FormData();\n      formData.append(\"file\", file);\n      const response = await fetch(\"/api/resumes/upload\", {\n        method: \"POST\",\n        body: formData,\n        credentials: \"include\",\n      });\n      if (!response.ok) {\n        const error = await response.json();\n        throw new Error(error.message || \"Upload failed\");\n      }\n      return response.json();\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/resumes\"] });\n      setUploadingFile(null);\n      toast({\n        title: \"Success\",\n        description: \"Resume uploaded and text extracted successfully!\",\n      });\n    },\n    onError: (error: Error) => {\n      setUploadingFile(null);\n      toast({\n        title: \"Upload failed\",\n        description: error.message,\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  const analyzeMutation = useMutation({\n    mutationFn: async (resumeId: string) => {\n      const response = await apiRequest(\"POST\", `/api/resumes/${resumeId}/analyze`, {});\n      return await response.json();\n    },\n    onSuccess: (data) => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/resumes\"] });\n      setLocation(`/results/${data.id}`);\n    },\n    onError: () => {\n      toast({\n        title: \"Analysis failed\",\n        description: \"Failed to analyze resume. Please try again.\",\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  const handleFileSelect = (file: File) => {\n    const allowedTypes = [\n      \"application/pdf\",\n      \"application/vnd.openxmlformats-officedocument.wordprocessingml.document\",\n      \"application/msword\",\n      \"image/png\",\n      \"image/jpeg\",\n      \"image/jpg\",\n      \"text/plain\",\n    ];\n\n    if (!allowedTypes.includes(file.type)) {\n      toast({\n        title: \"Invalid file type\",\n        description: \"Please upload a PDF, DOCX, PNG, JPG, or TXT file.\",\n        variant: \"destructive\",\n      });\n      return;\n    }\n\n    if (file.size > 10 * 1024 * 1024) {\n      toast({\n        title: \"File too large\",\n        description: \"Please upload a file smaller than 10MB.\",\n        variant: \"destructive\",\n      });\n      return;\n    }\n\n    setUploadingFile(file);\n    uploadMutation.mutate(file);\n  };\n\n  const handleDrop = (e: React.DragEvent) => {\n    e.preventDefault();\n    setIsDragging(false);\n    const file = e.dataTransfer.files[0];\n    if (file) handleFileSelect(file);\n  };\n\n  const handleDragOver = (e: React.DragEvent) => {\n    e.preventDefault();\n    setIsDragging(true);\n  };\n\n  const handleDragLeave = () => {\n    setIsDragging(false);\n  };\n\n  return (\n    <div className=\"min-h-full bg-background\">\n      <div className=\"max-w-6xl mx-auto p-6 lg:p-12 space-y-8\">\n        <div>\n          <h1 className=\"text-2xl font-semibold mb-2\">Dashboard</h1>\n          <p className=\"text-muted-foreground\">\n            Upload your resume to get AI-powered analysis and improvement suggestions.\n          </p>\n        </div>\n\n        <Card\n          className={`border-2 border-dashed transition-colors ${\n            isDragging ? \"border-primary bg-primary/5\" : \"border-border\"\n          } rounded-xl`}\n          onDrop={handleDrop}\n          onDragOver={handleDragOver}\n          onDragLeave={handleDragLeave}\n          data-testid=\"card-upload-zone\"\n        >\n          <CardContent className=\"p-12\">\n            <button\n              type=\"button\"\n              onClick={() => !uploadMutation.isPending && fileInputRef.current?.click()}\n              onKeyDown={(e) => {\n                if ((e.key === \"Enter\" || e.key === \" \") && !uploadMutation.isPending) {\n                  e.preventDefault();\n                  fileInputRef.current?.click();\n                }\n              }}\n              disabled={uploadMutation.isPending}\n              className=\"w-full flex flex-col items-center justify-center text-center space-y-4 hover-elevate active-elevate-2 rounded-lg p-4 focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-70 disabled:cursor-not-allowed\"\n              aria-label=\"Upload resume file - click to browse or drag and drop\"\n            >\n              {uploadMutation.isPending ? (\n                <>\n                  <Loader2 className=\"w-16 h-16 text-primary animate-spin\" />\n                  <div>\n                    <p className=\"text-lg font-medium\">Uploading and extracting text...</p>\n                    {uploadingFile && (\n                      <p className=\"text-sm text-muted-foreground mt-1\">\n                        {uploadingFile.name} ({formatBytes(uploadingFile.size)})\n                      </p>\n                    )}\n                  </div>\n                </>\n              ) : (\n                <>\n                  <div className=\"w-16 h-16 rounded-lg bg-primary/10 flex items-center justify-center\">\n                    <Upload className=\"w-8 h-8 text-primary\" />\n                  </div>\n                  <div>\n                    <p className=\"text-lg font-medium mb-1\">Upload your resume</p>\n                    <p className=\"text-sm text-muted-foreground\">\n                      Drag and drop or click to browse\n                    </p>\n                  </div>\n                  <p className=\"text-xs text-muted-foreground\">\n                    Supports PDF, DOCX, PNG, JPG, TXT (max 10MB)\n                  </p>\n                </>\n              )}\n            </button>\n            <input\n              ref={fileInputRef}\n              type=\"file\"\n              className=\"sr-only\"\n              accept=\".pdf,.doc,.docx,.png,.jpg,.jpeg,.txt\"\n              onChange={(e) => {\n                const file = e.target.files?.[0];\n                if (file) handleFileSelect(file);\n              }}\n              aria-label=\"Resume file input\"\n              data-testid=\"input-file-upload\"\n            />\n          </CardContent>\n        </Card>\n\n        <div className=\"space-y-4\">\n          <h2 className=\"text-xl font-semibold\">Your Resumes</h2>\n          {isLoading ? (\n            <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n              {[1, 2].map((i) => (\n                <Card key={i} className=\"animate-pulse\">\n                  <CardHeader>\n                    <div className=\"h-5 bg-muted rounded w-3/4 mb-2\" />\n                    <div className=\"h-4 bg-muted rounded w-1/2\" />\n                  </CardHeader>\n                  <CardContent>\n                    <div className=\"h-10 bg-muted rounded\" />\n                  </CardContent>\n                </Card>\n              ))}\n            </div>\n          ) : resumes && resumes.length > 0 ? (\n            <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n              {resumes.map((resume) => (\n                <Card key={resume.id} className=\"hover-elevate\" data-testid={`card-resume-${resume.id}`}>\n                  <CardHeader>\n                    <div className=\"flex items-start justify-between gap-4\">\n                      <div className=\"flex-1 min-w-0\">\n                        <CardTitle className=\"text-lg truncate\">{resume.filename}</CardTitle>\n                        <CardDescription className=\"flex items-center gap-4 mt-2\">\n                          <span className=\"flex items-center gap-1\">\n                            <FileText className=\"w-3 h-3\" />\n                            {formatBytes(resume.filesize)}\n                          </span>\n                          <span className=\"flex items-center gap-1\">\n                            <Calendar className=\"w-3 h-3\" />\n                            {formatDate(resume.createdAt)}\n                          </span>\n                        </CardDescription>\n                      </div>\n                    </div>\n                  </CardHeader>\n                  <CardContent>\n                    <Button\n                      onClick={() => analyzeMutation.mutate(resume.id)}\n                      disabled={analyzeMutation.isPending}\n                      className=\"w-full\"\n                      data-testid={`button-analyze-${resume.id}`}\n                    >\n                      {analyzeMutation.isPending ? (\n                        <>\n                          <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" />\n                          Analyzing...\n                        </>\n                      ) : (\n                        <>\n                          <Sparkles className=\"w-4 h-4 mr-2\" />\n                          Analyze with AI\n                        </>\n                      )}\n                    </Button>\n                  </CardContent>\n                </Card>\n              ))}\n            </div>\n          ) : (\n            <Card className=\"border-dashed\">\n              <CardContent className=\"p-12 flex flex-col items-center justify-center text-center space-y-4\">\n                <div className=\"w-20 h-20 rounded-lg bg-muted flex items-center justify-center\">\n                  <AlertCircle className=\"w-10 h-10 text-muted-foreground\" />\n                </div>\n                <div>\n                  <p className=\"text-lg font-medium text-muted-foreground\">No resumes yet</p>\n                  <p className=\"text-base text-muted-foreground mt-1\">\n                    Upload your first resume to get started\n                  </p>\n                </div>\n              </CardContent>\n            </Card>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n","path":null,"size_bytes":10516,"size_tokens":null},"client/src/components/ui/checkbox.tsx":{"content":"import * as React from \"react\"\nimport * as CheckboxPrimitive from \"@radix-ui/react-checkbox\"\nimport { Check } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Checkbox = React.forwardRef<\n  React.ElementRef<typeof CheckboxPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof CheckboxPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <CheckboxPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground\",\n      className\n    )}\n    {...props}\n  >\n    <CheckboxPrimitive.Indicator\n      className={cn(\"flex items-center justify-center text-current\")}\n    >\n      <Check className=\"h-4 w-4\" />\n    </CheckboxPrimitive.Indicator>\n  </CheckboxPrimitive.Root>\n))\nCheckbox.displayName = CheckboxPrimitive.Root.displayName\n\nexport { Checkbox }\n","path":null,"size_bytes":1056,"size_tokens":null},"drizzle.config.ts":{"content":"import { defineConfig } from \"drizzle-kit\";\n\nif (!process.env.DATABASE_URL) {\n  throw new Error(\"DATABASE_URL, ensure the database is provisioned\");\n}\n\nexport default defineConfig({\n  out: \"./migrations\",\n  schema: \"./shared/schema.ts\",\n  dialect: \"postgresql\",\n  dbCredentials: {\n    url: process.env.DATABASE_URL,\n  },\n});\n","path":null,"size_bytes":325,"size_tokens":null},"server/routes.ts":{"content":"import type { Express } from \"express\";\nimport { createServer, type Server } from \"http\";\nimport session from \"express-session\";\nimport multer from \"multer\";\nimport { storage } from \"./storage\";\nimport { extractText } from \"./fileExtractor\";\nimport { analyzeResume, analyzeJobMatch, generateJobDescription, generateCareerRoadmap } from \"./gemini\";\nimport { insertUserSchema } from \"@shared/schema\";\n\nconst upload = multer({\n  storage: multer.memoryStorage(),\n  limits: {\n    fileSize: 10 * 1024 * 1024,\n  },\n});\n\ndeclare module \"express-session\" {\n  interface SessionData {\n    userId: string;\n  }\n}\n\nexport async function registerRoutes(app: Express): Promise<Server> {\n  app.use(\n    session({\n      secret: process.env.SESSION_SECRET || \"resumatch-pro-secret-key\",\n      resave: false,\n      saveUninitialized: false,\n      cookie: {\n        httpOnly: true,\n        secure: process.env.NODE_ENV === \"production\",\n        maxAge: 1000 * 60 * 60 * 24 * 7,\n      },\n    })\n  );\n\n  app.post(\"/api/auth/login\", async (req, res) => {\n    try {\n      const { username } = insertUserSchema.parse(req.body);\n      \n      let user = await storage.getUserByUsername(username);\n      if (!user) {\n        user = await storage.createUser({ username });\n      }\n      \n      req.session.userId = user.id;\n      res.json({ user });\n    } catch (error: any) {\n      res.status(400).json({ message: error.message || \"Login failed\" });\n    }\n  });\n\n  app.get(\"/api/auth/session\", async (req, res) => {\n    if (!req.session.userId) {\n      return res.status(401).json({ message: \"Not authenticated\" });\n    }\n    \n    const user = await storage.getUser(req.session.userId);\n    if (!user) {\n      return res.status(401).json({ message: \"User not found\" });\n    }\n    \n    res.json({ user });\n  });\n\n  app.post(\"/api/auth/logout\", async (req, res) => {\n    req.session.destroy(() => {\n      res.json({ message: \"Logged out\" });\n    });\n  });\n\n  const detectMimeType = (buffer: Buffer, filename: string, reportedMime: string): string => {\n    const header = buffer.slice(0, 10);\n    \n    // Check for PDF signature\n    if (header.slice(0, 5).toString() === '%PDF-') {\n      return 'application/pdf';\n    }\n    \n    // Check for PNG signature\n    if (header[0] === 0x89 && header[1] === 0x50 && header[2] === 0x4E && header[3] === 0x47) {\n      return 'image/png';\n    }\n    \n    // Check for JPEG signature\n    if (header[0] === 0xFF && header[1] === 0xD8 && header[2] === 0xFF) {\n      return 'image/jpeg';\n    }\n    \n    // Check for DOCX (ZIP-based) signature\n    if (header[0] === 0x50 && header[1] === 0x4B && header[2] === 0x03 && header[3] === 0x04) {\n      if (filename.toLowerCase().endsWith('.docx')) {\n        return 'application/vnd.openxmlformats-officedocument.wordprocessingml.document';\n      }\n    }\n    \n    // Fall back to reported MIME type\n    return reportedMime;\n  };\n\n  app.post(\"/api/resumes/upload\", upload.single(\"file\"), async (req, res) => {\n    try {\n      if (!req.session.userId) {\n        return res.status(401).json({ message: \"Not authenticated\" });\n      }\n\n      if (!req.file) {\n        return res.status(400).json({ message: \"No file uploaded\" });\n      }\n\n      // Detect actual MIME type from file content\n      const actualMimeType = detectMimeType(req.file.buffer, req.file.originalname, req.file.mimetype);\n      \n      console.log(`Upload: ${req.file.originalname}, reported MIME: ${req.file.mimetype}, detected MIME: ${actualMimeType}, size: ${req.file.size}`);\n\n      const extractedText = await extractText(req.file.buffer, actualMimeType);\n\n      if (!extractedText || extractedText.length < 50) {\n        return res.status(400).json({ \n          message: \"Could not extract sufficient text from the file. Please ensure the file contains readable text.\" \n        });\n      }\n\n      const resume = await storage.createResume({\n        userId: req.session.userId,\n        filename: req.file.originalname,\n        filesize: req.file.size,\n        mimeType: actualMimeType,\n        extractedText,\n      });\n\n      res.json(resume);\n    } catch (error: any) {\n      console.error(\"Upload error:\", error);\n      res.status(500).json({ message: error.message || \"Failed to upload resume\" });\n    }\n  });\n\n  app.get(\"/api/resumes\", async (req, res) => {\n    try {\n      if (!req.session.userId) {\n        return res.status(401).json({ message: \"Not authenticated\" });\n      }\n\n      const resumes = await storage.getResumesByUserId(req.session.userId);\n      res.json(resumes);\n    } catch (error: any) {\n      res.status(500).json({ message: error.message || \"Failed to fetch resumes\" });\n    }\n  });\n\n  app.get(\"/api/resumes/:id\", async (req, res) => {\n    try {\n      if (!req.session.userId) {\n        return res.status(401).json({ message: \"Not authenticated\" });\n      }\n\n      const resume = await storage.getResume(req.params.id);\n      if (!resume) {\n        return res.status(404).json({ message: \"Resume not found\" });\n      }\n\n      if (resume.userId !== req.session.userId) {\n        return res.status(403).json({ message: \"Unauthorized\" });\n      }\n\n      res.json(resume);\n    } catch (error: any) {\n      res.status(500).json({ message: error.message || \"Failed to fetch resume\" });\n    }\n  });\n\n  app.post(\"/api/resumes/:id/analyze\", async (req, res) => {\n    try {\n      if (!req.session.userId) {\n        return res.status(401).json({ message: \"Not authenticated\" });\n      }\n\n      const resume = await storage.getResume(req.params.id);\n      if (!resume) {\n        return res.status(404).json({ message: \"Resume not found\" });\n      }\n\n      if (resume.userId !== req.session.userId) {\n        return res.status(403).json({ message: \"Unauthorized\" });\n      }\n\n      const analysisResult = await analyzeResume(resume.extractedText);\n\n      const analysis = await storage.createAnalysis({\n        resumeId: resume.id,\n        completenessScore: analysisResult.completenessScore,\n        completenessRationale: analysisResult.completenessRationale,\n        sectionScores: analysisResult.sectionScores,\n        suggestions: analysisResult.suggestions,\n      });\n\n      res.json(analysis);\n    } catch (error: any) {\n      console.error(\"Analysis error:\", error);\n      res.status(500).json({ message: error.message || \"Failed to analyze resume\" });\n    }\n  });\n\n  app.get(\"/api/analyses/:id\", async (req, res) => {\n    try {\n      if (!req.session.userId) {\n        return res.status(401).json({ message: \"Not authenticated\" });\n      }\n\n      const analysis = await storage.getAnalysis(req.params.id);\n      if (!analysis) {\n        return res.status(404).json({ message: \"Analysis not found\" });\n      }\n\n      const resume = await storage.getResume(analysis.resumeId);\n      if (!resume || resume.userId !== req.session.userId) {\n        return res.status(403).json({ message: \"Unauthorized\" });\n      }\n\n      res.json(analysis);\n    } catch (error: any) {\n      res.status(500).json({ message: error.message || \"Failed to fetch analysis\" });\n    }\n  });\n\n  app.post(\"/api/job-matches/analyze\", async (req, res) => {\n    try {\n      console.log(\"[Job Match] Starting analysis request...\");\n      \n      if (!req.session.userId) {\n        console.log(\"[Job Match] No user session\");\n        return res.status(401).json({ message: \"Not authenticated\" });\n      }\n\n      const { jobDescription, jobRole, jobLocation } = req.body;\n      console.log(`[Job Match] Request params - Role: ${jobRole}, Location: ${jobLocation}, Custom JD: ${jobDescription ? 'Yes' : 'No'}`);\n\n      const resumes = await storage.getResumesByUserId(req.session.userId);\n      if (!resumes || resumes.length === 0) {\n        console.log(\"[Job Match] No resumes found for user\");\n        return res.status(400).json({ message: \"Please upload a resume first\" });\n      }\n\n      const resume = resumes[0];\n      console.log(`[Job Match] Using resume: ${resume.filename}, text length: ${resume.extractedText?.length || 0}`);\n      \n      let finalJobDescription = jobDescription;\n\n      if (!finalJobDescription && jobRole && jobLocation) {\n        console.log(\"[Job Match] Generating job description from role+location...\");\n        finalJobDescription = await generateJobDescription(jobRole, jobLocation);\n        console.log(`[Job Match] Generated JD length: ${finalJobDescription?.length || 0}`);\n      }\n\n      if (!finalJobDescription) {\n        console.log(\"[Job Match] No job description provided\");\n        return res.status(400).json({ message: \"Job description is required\" });\n      }\n\n      console.log(\"[Job Match] Calling AI to analyze match...\");\n      const matchResult = await analyzeJobMatch(resume.extractedText, finalJobDescription);\n      console.log(`[Job Match] AI analysis complete - Score: ${matchResult.alignmentScore}, Gaps: ${matchResult.gaps.length}, Strengths: ${matchResult.strengths.length}`);\n\n      const jobMatch = await storage.createJobMatch({\n        resumeId: resume.id,\n        jobDescription: finalJobDescription,\n        jobRole: jobRole || null,\n        jobLocation: jobLocation || null,\n        alignmentScore: matchResult.alignmentScore,\n        alignmentRationale: matchResult.alignmentRationale,\n        gaps: matchResult.gaps,\n        strengths: matchResult.strengths,\n      });\n\n      console.log(`[Job Match] Created job match with ID: ${jobMatch.id}`);\n      res.json(jobMatch);\n    } catch (error: any) {\n      console.error(\"[Job Match] Analysis error:\", error);\n      console.error(\"[Job Match] Error stack:\", error.stack);\n      res.status(500).json({ message: error.message || \"Failed to analyze job match\" });\n    }\n  });\n\n  app.get(\"/api/job-matches/:id\", async (req, res) => {\n    try {\n      if (!req.session.userId) {\n        return res.status(401).json({ message: \"Not authenticated\" });\n      }\n\n      const jobMatch = await storage.getJobMatch(req.params.id);\n      if (!jobMatch) {\n        return res.status(404).json({ message: \"Job match not found\" });\n      }\n\n      const resume = await storage.getResume(jobMatch.resumeId);\n      if (!resume || resume.userId !== req.session.userId) {\n        return res.status(403).json({ message: \"Unauthorized\" });\n      }\n\n      res.json(jobMatch);\n    } catch (error: any) {\n      res.status(500).json({ message: error.message || \"Failed to fetch job match\" });\n    }\n  });\n\n  app.post(\"/api/job-matches/:id/submit-responses\", async (req, res) => {\n    try {\n      if (!req.session.userId) {\n        return res.status(401).json({ message: \"Not authenticated\" });\n      }\n\n      const jobMatch = await storage.getJobMatch(req.params.id);\n      if (!jobMatch) {\n        return res.status(404).json({ message: \"Job match not found\" });\n      }\n\n      const resume = await storage.getResume(jobMatch.resumeId);\n      if (!resume || resume.userId !== req.session.userId) {\n        return res.status(403).json({ message: \"Unauthorized\" });\n      }\n\n      const { gapResponses } = req.body;\n      if (!Array.isArray(gapResponses)) {\n        return res.status(400).json({ message: \"Gap responses must be an array\" });\n      }\n\n      const validProficiencyLevels = [\"none\", \"basic\", \"moderate\", \"advanced\"];\n      for (const response of gapResponses) {\n        if (typeof response.gapIndex !== \"number\" || \n            !validProficiencyLevels.includes(response.proficiencyLevel)) {\n          return res.status(400).json({ message: \"Invalid gap response format\" });\n        }\n      }\n\n      const { generateFinalVerdict } = await import(\"./gemini.js\");\n      const verdict = await generateFinalVerdict(\n        resume.extractedText,\n        jobMatch.jobDescription,\n        jobMatch.alignmentScore,\n        jobMatch.gaps,\n        gapResponses\n      );\n\n      const updated = await storage.updateJobMatchResponses(\n        req.params.id,\n        gapResponses,\n        verdict.verdict,\n        verdict.shouldApply\n      );\n\n      res.json(updated);\n    } catch (error: any) {\n      console.error(\"Submit responses error:\", error);\n      res.status(500).json({ message: error.message || \"Failed to submit responses\" });\n    }\n  });\n\n  app.post(\"/api/job-matches/:id/generate-resume\", async (req, res) => {\n    try {\n      if (!req.session.userId) {\n        return res.status(401).json({ message: \"Not authenticated\" });\n      }\n\n      const jobMatch = await storage.getJobMatch(req.params.id);\n      if (!jobMatch) {\n        return res.status(404).json({ message: \"Job match not found\" });\n      }\n\n      const resume = await storage.getResume(jobMatch.resumeId);\n      if (!resume || resume.userId !== req.session.userId) {\n        return res.status(403).json({ message: \"Unauthorized\" });\n      }\n\n      if (!jobMatch.gapResponses || jobMatch.gapResponses.length === 0) {\n        return res.status(400).json({ message: \"Please submit gap responses first\" });\n      }\n\n      const { generateTailoredResume } = await import(\"./gemini.js\");\n      const { changesSummary, resumeMarkdown } = await generateTailoredResume(\n        resume.extractedText,\n        jobMatch.jobDescription,\n        jobMatch.strengths,\n        jobMatch.gaps,\n        jobMatch.gapResponses\n      );\n\n      const updated = await storage.updateJobMatchResume(req.params.id, changesSummary, resumeMarkdown);\n\n      res.json(updated);\n    } catch (error: any) {\n      console.error(\"Generate resume error:\", error);\n      res.status(500).json({ message: error.message || \"Failed to generate tailored resume\" });\n    }\n  });\n\n  app.post(\"/api/career-roadmaps\", async (req, res) => {\n    try {\n      if (!req.session.userId) {\n        return res.status(401).json({ message: \"Not authenticated\" });\n      }\n\n      const { dreamRole, dreamLocation, timeframe } = req.body;\n\n      if (!dreamRole || !dreamLocation || !timeframe) {\n        return res.status(400).json({ message: \"Dream role, location, and timeframe are required\" });\n      }\n\n      const resumes = await storage.getResumesByUserId(req.session.userId);\n      if (resumes.length === 0) {\n        return res.status(400).json({ message: \"Please upload a resume first\" });\n      }\n\n      const latestResume = resumes[0];\n\n      const roadmapData = await generateCareerRoadmap(\n        latestResume.extractedText,\n        dreamRole,\n        dreamLocation,\n        timeframe\n      );\n\n      const careerRoadmap = await storage.createCareerRoadmap({\n        userId: req.session.userId,\n        resumeId: latestResume.id,\n        dreamRole,\n        dreamLocation,\n        timeframe,\n        currentGaps: roadmapData.currentGaps,\n        skillsToAcquire: roadmapData.skillsToAcquire,\n        actionPlan: roadmapData.actionPlan,\n        resources: roadmapData.resources,\n        milestones: roadmapData.milestones,\n      });\n\n      res.json(careerRoadmap);\n    } catch (error: any) {\n      console.error(\"Career roadmap generation error:\", error);\n      res.status(500).json({ message: error.message || \"Failed to generate career roadmap\" });\n    }\n  });\n\n  app.get(\"/api/career-roadmaps/:id\", async (req, res) => {\n    try {\n      if (!req.session.userId) {\n        return res.status(401).json({ message: \"Not authenticated\" });\n      }\n\n      const careerRoadmap = await storage.getCareerRoadmap(req.params.id);\n      if (!careerRoadmap) {\n        return res.status(404).json({ message: \"Career roadmap not found\" });\n      }\n\n      if (careerRoadmap.userId !== req.session.userId) {\n        return res.status(403).json({ message: \"Unauthorized\" });\n      }\n\n      res.json(careerRoadmap);\n    } catch (error: any) {\n      console.error(\"Get career roadmap error:\", error);\n      res.status(500).json({ message: error.message || \"Failed to retrieve career roadmap\" });\n    }\n  });\n\n  app.get(\"/api/career-roadmaps\", async (req, res) => {\n    try {\n      if (!req.session.userId) {\n        return res.status(401).json({ message: \"Not authenticated\" });\n      }\n\n      const careerRoadmaps = await storage.getCareerRoadmapsByUserId(req.session.userId);\n      res.json(careerRoadmaps);\n    } catch (error: any) {\n      console.error(\"Get career roadmaps error:\", error);\n      res.status(500).json({ message: error.message || \"Failed to retrieve career roadmaps\" });\n    }\n  });\n\n  const httpServer = createServer(app);\n\n  return httpServer;\n}\n","path":null,"size_bytes":16171,"size_tokens":null},"client/src/components/ui/skeleton.tsx":{"content":"import { cn } from \"@/lib/utils\"\n\nfunction Skeleton({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) {\n  return (\n    <div\n      className={cn(\"animate-pulse rounded-md bg-muted\", className)}\n      {...props}\n    />\n  )\n}\n\nexport { Skeleton }\n","path":null,"size_bytes":261,"size_tokens":null},"client/src/components/ui/label.tsx":{"content":"import * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst labelVariants = cva(\n  \"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\"\n)\n\nconst Label = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root> &\n    VariantProps<typeof labelVariants>\n>(({ className, ...props }, ref) => (\n  <LabelPrimitive.Root\n    ref={ref}\n    className={cn(labelVariants(), className)}\n    {...props}\n  />\n))\nLabel.displayName = LabelPrimitive.Root.displayName\n\nexport { Label }\n","path":null,"size_bytes":710,"size_tokens":null},"client/src/components/ui/menubar.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as MenubarPrimitive from \"@radix-ui/react-menubar\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction MenubarMenu({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Menu>) {\n  return <MenubarPrimitive.Menu {...props} />\n}\n\nfunction MenubarGroup({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Group>) {\n  return <MenubarPrimitive.Group {...props} />\n}\n\nfunction MenubarPortal({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Portal>) {\n  return <MenubarPrimitive.Portal {...props} />\n}\n\nfunction MenubarRadioGroup({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.RadioGroup>) {\n  return <MenubarPrimitive.RadioGroup {...props} />\n}\n\nfunction MenubarSub({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Sub>) {\n  return <MenubarPrimitive.Sub data-slot=\"menubar-sub\" {...props} />\n}\n\nconst Menubar = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"flex h-10 items-center space-x-1 rounded-md border bg-background p-1\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubar.displayName = MenubarPrimitive.Root.displayName\n\nconst MenubarTrigger = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Trigger>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-3 py-1.5 text-sm font-medium outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarTrigger.displayName = MenubarPrimitive.Trigger.displayName\n\nconst MenubarSubTrigger = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <MenubarPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto h-4 w-4\" />\n  </MenubarPrimitive.SubTrigger>\n))\nMenubarSubTrigger.displayName = MenubarPrimitive.SubTrigger.displayName\n\nconst MenubarSubContent = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-menubar-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarSubContent.displayName = MenubarPrimitive.SubContent.displayName\n\nconst MenubarContent = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Content>\n>(\n  (\n    { className, align = \"start\", alignOffset = -4, sideOffset = 8, ...props },\n    ref\n  ) => (\n    <MenubarPrimitive.Portal>\n      <MenubarPrimitive.Content\n        ref={ref}\n        align={align}\n        alignOffset={alignOffset}\n        sideOffset={sideOffset}\n        className={cn(\n          \"z-50 min-w-[12rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-menubar-content-transform-origin]\",\n          className\n        )}\n        {...props}\n      />\n    </MenubarPrimitive.Portal>\n  )\n)\nMenubarContent.displayName = MenubarPrimitive.Content.displayName\n\nconst MenubarItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <MenubarPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarItem.displayName = MenubarPrimitive.Item.displayName\n\nconst MenubarCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <MenubarPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <MenubarPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </MenubarPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </MenubarPrimitive.CheckboxItem>\n))\nMenubarCheckboxItem.displayName = MenubarPrimitive.CheckboxItem.displayName\n\nconst MenubarRadioItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <MenubarPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <MenubarPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </MenubarPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </MenubarPrimitive.RadioItem>\n))\nMenubarRadioItem.displayName = MenubarPrimitive.RadioItem.displayName\n\nconst MenubarLabel = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <MenubarPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarLabel.displayName = MenubarPrimitive.Label.displayName\n\nconst MenubarSeparator = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nMenubarSeparator.displayName = MenubarPrimitive.Separator.displayName\n\nconst MenubarShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\n        \"ml-auto text-xs tracking-widest text-muted-foreground\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\nMenubarShortcut.displayname = \"MenubarShortcut\"\n\nexport {\n  Menubar,\n  MenubarMenu,\n  MenubarTrigger,\n  MenubarContent,\n  MenubarItem,\n  MenubarSeparator,\n  MenubarLabel,\n  MenubarCheckboxItem,\n  MenubarRadioGroup,\n  MenubarRadioItem,\n  MenubarPortal,\n  MenubarSubContent,\n  MenubarSubTrigger,\n  MenubarGroup,\n  MenubarSub,\n  MenubarShortcut,\n}\n","path":null,"size_bytes":8605,"size_tokens":null},"client/src/components/ui/scroll-area.tsx":{"content":"import * as React from \"react\"\nimport * as ScrollAreaPrimitive from \"@radix-ui/react-scroll-area\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ScrollArea = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.Root>\n>(({ className, children, ...props }, ref) => (\n  <ScrollAreaPrimitive.Root\n    ref={ref}\n    className={cn(\"relative overflow-hidden\", className)}\n    {...props}\n  >\n    <ScrollAreaPrimitive.Viewport className=\"h-full w-full rounded-[inherit]\">\n      {children}\n    </ScrollAreaPrimitive.Viewport>\n    <ScrollBar />\n    <ScrollAreaPrimitive.Corner />\n  </ScrollAreaPrimitive.Root>\n))\nScrollArea.displayName = ScrollAreaPrimitive.Root.displayName\n\nconst ScrollBar = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>\n>(({ className, orientation = \"vertical\", ...props }, ref) => (\n  <ScrollAreaPrimitive.ScrollAreaScrollbar\n    ref={ref}\n    orientation={orientation}\n    className={cn(\n      \"flex touch-none select-none transition-colors\",\n      orientation === \"vertical\" &&\n        \"h-full w-2.5 border-l border-l-transparent p-[1px]\",\n      orientation === \"horizontal\" &&\n        \"h-2.5 flex-col border-t border-t-transparent p-[1px]\",\n      className\n    )}\n    {...props}\n  >\n    <ScrollAreaPrimitive.ScrollAreaThumb className=\"relative flex-1 rounded-full bg-border\" />\n  </ScrollAreaPrimitive.ScrollAreaScrollbar>\n))\nScrollBar.displayName = ScrollAreaPrimitive.ScrollAreaScrollbar.displayName\n\nexport { ScrollArea, ScrollBar }\n","path":null,"size_bytes":1642,"size_tokens":null},"client/src/components/ui/breadcrumb.tsx":{"content":"import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { ChevronRight, MoreHorizontal } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Breadcrumb = React.forwardRef<\n  HTMLElement,\n  React.ComponentPropsWithoutRef<\"nav\"> & {\n    separator?: React.ReactNode\n  }\n>(({ ...props }, ref) => <nav ref={ref} aria-label=\"breadcrumb\" {...props} />)\nBreadcrumb.displayName = \"Breadcrumb\"\n\nconst BreadcrumbList = React.forwardRef<\n  HTMLOListElement,\n  React.ComponentPropsWithoutRef<\"ol\">\n>(({ className, ...props }, ref) => (\n  <ol\n    ref={ref}\n    className={cn(\n      \"flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5\",\n      className\n    )}\n    {...props}\n  />\n))\nBreadcrumbList.displayName = \"BreadcrumbList\"\n\nconst BreadcrumbItem = React.forwardRef<\n  HTMLLIElement,\n  React.ComponentPropsWithoutRef<\"li\">\n>(({ className, ...props }, ref) => (\n  <li\n    ref={ref}\n    className={cn(\"inline-flex items-center gap-1.5\", className)}\n    {...props}\n  />\n))\nBreadcrumbItem.displayName = \"BreadcrumbItem\"\n\nconst BreadcrumbLink = React.forwardRef<\n  HTMLAnchorElement,\n  React.ComponentPropsWithoutRef<\"a\"> & {\n    asChild?: boolean\n  }\n>(({ asChild, className, ...props }, ref) => {\n  const Comp = asChild ? Slot : \"a\"\n\n  return (\n    <Comp\n      ref={ref}\n      className={cn(\"transition-colors hover:text-foreground\", className)}\n      {...props}\n    />\n  )\n})\nBreadcrumbLink.displayName = \"BreadcrumbLink\"\n\nconst BreadcrumbPage = React.forwardRef<\n  HTMLSpanElement,\n  React.ComponentPropsWithoutRef<\"span\">\n>(({ className, ...props }, ref) => (\n  <span\n    ref={ref}\n    role=\"link\"\n    aria-disabled=\"true\"\n    aria-current=\"page\"\n    className={cn(\"font-normal text-foreground\", className)}\n    {...props}\n  />\n))\nBreadcrumbPage.displayName = \"BreadcrumbPage\"\n\nconst BreadcrumbSeparator = ({\n  children,\n  className,\n  ...props\n}: React.ComponentProps<\"li\">) => (\n  <li\n    role=\"presentation\"\n    aria-hidden=\"true\"\n    className={cn(\"[&>svg]:w-3.5 [&>svg]:h-3.5\", className)}\n    {...props}\n  >\n    {children ?? <ChevronRight />}\n  </li>\n)\nBreadcrumbSeparator.displayName = \"BreadcrumbSeparator\"\n\nconst BreadcrumbEllipsis = ({\n  className,\n  ...props\n}: React.ComponentProps<\"span\">) => (\n  <span\n    role=\"presentation\"\n    aria-hidden=\"true\"\n    className={cn(\"flex h-9 w-9 items-center justify-center\", className)}\n    {...props}\n  >\n    <MoreHorizontal className=\"h-4 w-4\" />\n    <span className=\"sr-only\">More</span>\n  </span>\n)\nBreadcrumbEllipsis.displayName = \"BreadcrumbElipssis\"\n\nexport {\n  Breadcrumb,\n  BreadcrumbList,\n  BreadcrumbItem,\n  BreadcrumbLink,\n  BreadcrumbPage,\n  BreadcrumbSeparator,\n  BreadcrumbEllipsis,\n}\n","path":null,"size_bytes":2712,"size_tokens":null},"client/src/lib/queryClient.ts":{"content":"import { QueryClient, QueryFunction } from \"@tanstack/react-query\";\n\nasync function throwIfResNotOk(res: Response) {\n  if (!res.ok) {\n    const text = (await res.text()) || res.statusText;\n    throw new Error(`${res.status}: ${text}`);\n  }\n}\n\nexport async function apiRequest(\n  method: string,\n  url: string,\n  data?: unknown | undefined,\n): Promise<Response> {\n  const res = await fetch(url, {\n    method,\n    headers: data ? { \"Content-Type\": \"application/json\" } : {},\n    body: data ? JSON.stringify(data) : undefined,\n    credentials: \"include\",\n  });\n\n  await throwIfResNotOk(res);\n  return res;\n}\n\ntype UnauthorizedBehavior = \"returnNull\" | \"throw\";\nexport const getQueryFn: <T>(options: {\n  on401: UnauthorizedBehavior;\n}) => QueryFunction<T> =\n  ({ on401: unauthorizedBehavior }) =>\n  async ({ queryKey }) => {\n    const res = await fetch(queryKey.join(\"/\") as string, {\n      credentials: \"include\",\n    });\n\n    if (unauthorizedBehavior === \"returnNull\" && res.status === 401) {\n      return null;\n    }\n\n    await throwIfResNotOk(res);\n    return await res.json();\n  };\n\nexport const queryClient = new QueryClient({\n  defaultOptions: {\n    queries: {\n      queryFn: getQueryFn({ on401: \"throw\" }),\n      refetchInterval: false,\n      refetchOnWindowFocus: false,\n      staleTime: Infinity,\n      retry: false,\n    },\n    mutations: {\n      retry: false,\n    },\n  },\n});\n","path":null,"size_bytes":1383,"size_tokens":null},"client/src/components/ui/radio-group.tsx":{"content":"import * as React from \"react\"\nimport * as RadioGroupPrimitive from \"@radix-ui/react-radio-group\"\nimport { Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst RadioGroup = React.forwardRef<\n  React.ElementRef<typeof RadioGroupPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Root>\n>(({ className, ...props }, ref) => {\n  return (\n    <RadioGroupPrimitive.Root\n      className={cn(\"grid gap-2\", className)}\n      {...props}\n      ref={ref}\n    />\n  )\n})\nRadioGroup.displayName = RadioGroupPrimitive.Root.displayName\n\nconst RadioGroupItem = React.forwardRef<\n  React.ElementRef<typeof RadioGroupPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Item>\n>(({ className, ...props }, ref) => {\n  return (\n    <RadioGroupPrimitive.Item\n      ref={ref}\n      className={cn(\n        \"aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    >\n      <RadioGroupPrimitive.Indicator className=\"flex items-center justify-center\">\n        <Circle className=\"h-2.5 w-2.5 fill-current text-current\" />\n      </RadioGroupPrimitive.Indicator>\n    </RadioGroupPrimitive.Item>\n  )\n})\nRadioGroupItem.displayName = RadioGroupPrimitive.Item.displayName\n\nexport { RadioGroup, RadioGroupItem }\n","path":null,"size_bytes":1467,"size_tokens":null},"client/src/components/ui/button.tsx":{"content":"import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\" +\n  \" hover-elevate active-elevate-2\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"bg-primary text-primary-foreground border border-primary-border\",\n        destructive:\n          \"bg-destructive text-destructive-foreground border border-destructive-border\",\n        outline:\n          // Shows the background color of whatever card / sidebar / accent background it is inside of.\n          // Inherits the current text color.\n          \" border [border-color:var(--button-outline)]  shadow-xs active:shadow-none \",\n        secondary: \"border bg-secondary text-secondary-foreground border border-secondary-border \",\n        // Add a transparent border so that when someone toggles a border on later, it doesn't shift layout/size.\n        ghost: \"border border-transparent\",\n      },\n      // Heights are set as \"min\" heights, because sometimes Ai will place large amount of content\n      // inside buttons. With a min-height they will look appropriate with small amounts of content,\n      // but will expand to fit large amounts of content.\n      size: {\n        default: \"min-h-9 px-4 py-2\",\n        sm: \"min-h-8 rounded-md px-3 text-xs\",\n        lg: \"min-h-10 rounded-md px-8\",\n        icon: \"h-9 w-9\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  },\n)\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : \"button\"\n    return (\n      <Comp\n        className={cn(buttonVariants({ variant, size, className }))}\n        ref={ref}\n        {...props}\n      />\n    )\n  },\n)\nButton.displayName = \"Button\"\n\nexport { Button, buttonVariants }\n","path":null,"size_bytes":2359,"size_tokens":null},"client/src/components/ui/calendar.tsx":{"content":"import * as React from \"react\"\nimport { ChevronLeft, ChevronRight } from \"lucide-react\"\nimport { DayPicker } from \"react-day-picker\"\n\nimport { cn } from \"@/lib/utils\"\nimport { buttonVariants } from \"@/components/ui/button\"\n\nexport type CalendarProps = React.ComponentProps<typeof DayPicker>\n\nfunction Calendar({\n  className,\n  classNames,\n  showOutsideDays = true,\n  ...props\n}: CalendarProps) {\n  return (\n    <DayPicker\n      showOutsideDays={showOutsideDays}\n      className={cn(\"p-3\", className)}\n      classNames={{\n        months: \"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0\",\n        month: \"space-y-4\",\n        caption: \"flex justify-center pt-1 relative items-center\",\n        caption_label: \"text-sm font-medium\",\n        nav: \"space-x-1 flex items-center\",\n        nav_button: cn(\n          buttonVariants({ variant: \"outline\" }),\n          \"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100\"\n        ),\n        nav_button_previous: \"absolute left-1\",\n        nav_button_next: \"absolute right-1\",\n        table: \"w-full border-collapse space-y-1\",\n        head_row: \"flex\",\n        head_cell:\n          \"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]\",\n        row: \"flex w-full mt-2\",\n        cell: \"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20\",\n        day: cn(\n          buttonVariants({ variant: \"ghost\" }),\n          \"h-9 w-9 p-0 font-normal aria-selected:opacity-100\"\n        ),\n        day_range_end: \"day-range-end\",\n        day_selected:\n          \"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground\",\n        day_today: \"bg-accent text-accent-foreground\",\n        day_outside:\n          \"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground\",\n        day_disabled: \"text-muted-foreground opacity-50\",\n        day_range_middle:\n          \"aria-selected:bg-accent aria-selected:text-accent-foreground\",\n        day_hidden: \"invisible\",\n        ...classNames,\n      }}\n      components={{\n        IconLeft: ({ className, ...props }) => (\n          <ChevronLeft className={cn(\"h-4 w-4\", className)} {...props} />\n        ),\n        IconRight: ({ className, ...props }) => (\n          <ChevronRight className={cn(\"h-4 w-4\", className)} {...props} />\n        ),\n      }}\n      {...props}\n    />\n  )\n}\nCalendar.displayName = \"Calendar\"\n\nexport { Calendar }\n","path":null,"size_bytes":2695,"size_tokens":null},"client/src/pages/results.tsx":{"content":"import { useParams, useLocation } from \"wouter\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent, CardHeader, CardTitle, CardDescription } from \"@/components/ui/card\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Skeleton } from \"@/components/ui/skeleton\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\nimport { Progress } from \"@/components/ui/progress\";\nimport { ScrollArea } from \"@/components/ui/scroll-area\";\nimport { ArrowLeft, Lightbulb, FileText, BarChart3, Copy } from \"lucide-react\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport type { Analysis, Resume } from \"@shared/schema\";\n\nconst SCORE_LABELS: Record<number, { label: string; variant: \"default\" | \"secondary\" | \"destructive\" | \"outline\" }> = {\n  0: { label: \"Missing\", variant: \"destructive\" },\n  1: { label: \"Weak\", variant: \"destructive\" },\n  2: { label: \"Weak\", variant: \"destructive\" },\n  3: { label: \"Fair\", variant: \"secondary\" },\n  4: { label: \"Strong\", variant: \"default\" },\n  5: { label: \"Perfect\", variant: \"default\" },\n};\n\nconst SECTION_NAMES: Record<string, string> = {\n  summary: \"Summary\",\n  education: \"Education\",\n  experience: \"Experience\",\n  other: \"Other\",\n};\n\nexport default function Results() {\n  const { id } = useParams<{ id: string }>();\n  const [, setLocation] = useLocation();\n  const { toast } = useToast();\n\n  const { data: analysis, isLoading: analysisLoading } = useQuery<Analysis>({\n    queryKey: [`/api/analyses/${id}`],\n    enabled: !!id,\n  });\n\n  const { data: resume, isLoading: resumeLoading } = useQuery<Resume>({\n    queryKey: [`/api/resumes/${analysis?.resumeId}`],\n    enabled: !!analysis?.resumeId,\n  });\n\n  const isLoading = analysisLoading || resumeLoading;\n\n  const copyToClipboard = async (text: string) => {\n    try {\n      await navigator.clipboard.writeText(text);\n      toast({\n        title: \"Copied!\",\n        description: \"Resume text copied to clipboard\",\n      });\n    } catch (err) {\n      toast({\n        title: \"Failed to copy\",\n        description: \"Could not copy text to clipboard\",\n        variant: \"destructive\",\n      });\n    }\n  };\n\n  if (isLoading) {\n    return (\n      <div className=\"min-h-screen bg-background\">\n        <nav className=\"h-16 border-b flex items-center px-6 lg:px-12 gap-4\">\n          <Skeleton className=\"h-10 w-10\" />\n          <Skeleton className=\"h-6 w-48\" />\n        </nav>\n        <main className=\"max-w-7xl mx-auto p-6 lg:p-12 space-y-12\">\n          <div className=\"flex flex-col items-center space-y-8\">\n            <Skeleton className=\"w-48 h-48 rounded-full\" />\n            <Skeleton className=\"h-8 w-64\" />\n          </div>\n          <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n            <div className=\"lg:col-span-2 space-y-4\">\n              <Skeleton className=\"h-32\" />\n              <Skeleton className=\"h-32\" />\n            </div>\n            <Skeleton className=\"h-64\" />\n          </div>\n        </main>\n      </div>\n    );\n  }\n\n  if (!analysis) {\n    return (\n      <div className=\"min-h-screen bg-background flex items-center justify-center\">\n        <Card className=\"max-w-md\">\n          <CardContent className=\"p-12 text-center space-y-4\">\n            <p className=\"text-lg font-medium\">Analysis not found</p>\n            <Button onClick={() => setLocation(\"/dashboard\")}>\n              Return to Dashboard\n            </Button>\n          </CardContent>\n        </Card>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-full bg-background\">\n      <div className=\"max-w-7xl mx-auto p-6 lg:p-12 pb-2\">\n        <div className=\"flex items-center gap-4 mb-6\">\n          <Button\n            variant=\"ghost\"\n            size=\"icon\"\n            onClick={() => setLocation(\"/dashboard\")}\n            data-testid=\"button-back\"\n          >\n            <ArrowLeft className=\"w-5 h-5\" />\n          </Button>\n          <div className=\"min-w-0 flex-1\">\n            <h1 className=\"text-lg font-semibold truncate\">\n              {resume?.filename || \"Analysis Results\"}\n            </h1>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"max-w-7xl mx-auto px-6 lg:px-12 pb-12\">\n        <Tabs defaultValue=\"overview\" className=\"w-full\">\n          <TabsList className=\"grid w-full max-w-md mx-auto grid-cols-3 mb-8\" data-testid=\"tabs-list\">\n            <TabsTrigger value=\"overview\" data-testid=\"tab-overview\">\n              <BarChart3 className=\"w-4 h-4 mr-2\" />\n              Overview\n            </TabsTrigger>\n            <TabsTrigger value=\"details\" data-testid=\"tab-details\">\n              <Lightbulb className=\"w-4 h-4 mr-2\" />\n              Details\n            </TabsTrigger>\n            <TabsTrigger value=\"resume\" data-testid=\"tab-resume\">\n              <FileText className=\"w-4 h-4 mr-2\" />\n              Resume\n            </TabsTrigger>\n          </TabsList>\n\n          <TabsContent value=\"overview\" className=\"space-y-8\" data-testid=\"content-overview\">\n            <Card className=\"max-w-2xl mx-auto\">\n              <CardHeader className=\"text-center pb-4\">\n                <CardTitle className=\"text-2xl font-semibold mb-2\">Resume Completeness Score</CardTitle>\n                <div className=\"flex items-center justify-center gap-2 mb-4\">\n                  <span className=\"text-6xl font-bold\" data-testid=\"text-completeness-score\">\n                    {analysis.completenessScore}\n                  </span>\n                  <span className=\"text-2xl text-muted-foreground\">/100</span>\n                </div>\n                <Progress value={analysis.completenessScore} className=\"h-3 mb-4\" />\n                <CardDescription className=\"text-base leading-relaxed\">\n                  {analysis.completenessRationale}\n                </CardDescription>\n              </CardHeader>\n            </Card>\n\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 max-w-4xl mx-auto\">\n              {Object.entries(analysis.sectionScores).map(([key, score]) => {\n                const scoreInfo = SCORE_LABELS[score] || SCORE_LABELS[0];\n                return (\n                  <Card key={key}>\n                    <CardContent className=\"p-6\">\n                      <div className=\"flex items-center justify-between mb-2\">\n                        <h3 className=\"text-lg font-semibold\">{SECTION_NAMES[key] || key}</h3>\n                        <Badge variant={scoreInfo.variant}>{scoreInfo.label}</Badge>\n                      </div>\n                      <div className=\"flex items-center gap-2\">\n                        <Progress value={(score / 5) * 100} className=\"h-2\" />\n                        <span className=\"text-sm text-muted-foreground whitespace-nowrap\">\n                          {score}/5\n                        </span>\n                      </div>\n                    </CardContent>\n                  </Card>\n                );\n              })}\n            </div>\n          </TabsContent>\n\n          <TabsContent value=\"details\" className=\"space-y-6\" data-testid=\"content-details\">\n            <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n              <div className=\"lg:col-span-2\">\n                <Card>\n                  <CardHeader>\n                    <CardTitle className=\"text-xl font-semibold\">Section Quality Breakdown</CardTitle>\n                  </CardHeader>\n                  <CardContent>\n                    <div className=\"space-y-0\">\n                      {Object.entries(analysis.sectionScores).map(([key, score], index, array) => {\n                        const scoreInfo = SCORE_LABELS[score] || SCORE_LABELS[0];\n                        return (\n                          <div\n                            key={key}\n                            className={`flex items-center justify-between px-4 py-3 ${\n                              index < array.length - 1 ? \"border-b\" : \"\"\n                            }`}\n                            data-testid={`section-${key}`}\n                          >\n                            <span className=\"text-base font-medium\">\n                              {SECTION_NAMES[key] || key}\n                            </span>\n                            <div className=\"flex items-center gap-3\">\n                              <span className=\"text-sm text-muted-foreground\">\n                                {score}/5\n                              </span>\n                              <Badge variant={scoreInfo.variant} className=\"min-w-[80px] justify-center\">\n                                {scoreInfo.label}\n                              </Badge>\n                            </div>\n                          </div>\n                        );\n                      })}\n                    </div>\n                  </CardContent>\n                </Card>\n              </div>\n\n              <div className=\"lg:col-span-1\">\n                <Card>\n                  <CardHeader>\n                    <CardTitle className=\"text-xl font-semibold flex items-center gap-2\">\n                      <Lightbulb className=\"w-5 h-5 text-primary\" />\n                      Improvement Suggestions\n                    </CardTitle>\n                  </CardHeader>\n                  <CardContent>\n                    <ul className=\"space-y-3\" data-testid=\"suggestions-list\">\n                      {analysis.suggestions.map((suggestion, index) => (\n                        <li key={index} className=\"flex gap-3\" data-testid={`suggestion-${index}`}>\n                          <div className=\"mt-1 flex-shrink-0\">\n                            <div className=\"w-1.5 h-1.5 rounded-full bg-primary\" />\n                          </div>\n                          <p className=\"text-base leading-relaxed\">{suggestion}</p>\n                        </li>\n                      ))}\n                    </ul>\n                  </CardContent>\n                </Card>\n              </div>\n            </div>\n          </TabsContent>\n\n          <TabsContent value=\"resume\" className=\"space-y-6\" data-testid=\"content-resume\">\n            <Card className=\"max-w-4xl mx-auto\">\n              <CardHeader>\n                <div className=\"flex items-center justify-between gap-4\">\n                  <div>\n                    <CardTitle className=\"text-xl font-semibold\">Extracted Resume Text</CardTitle>\n                    <CardDescription className=\"mt-1\">\n                      This is the text extracted from your uploaded resume file\n                    </CardDescription>\n                  </div>\n                  <Button\n                    variant=\"outline\"\n                    size=\"sm\"\n                    onClick={() => copyToClipboard(resume?.extractedText || \"\")}\n                    data-testid=\"button-copy-text\"\n                  >\n                    <Copy className=\"w-4 h-4 mr-2\" />\n                    Copy\n                  </Button>\n                </div>\n              </CardHeader>\n              <CardContent>\n                <ScrollArea className=\"h-[600px] w-full rounded-md border p-4\">\n                  <pre className=\"whitespace-pre-wrap font-mono text-sm leading-relaxed\" data-testid=\"resume-text\">\n                    {resume?.extractedText || \"No text available\"}\n                  </pre>\n                </ScrollArea>\n              </CardContent>\n            </Card>\n          </TabsContent>\n        </Tabs>\n      </div>\n    </div>\n  );\n}\n","path":null,"size_bytes":11363,"size_tokens":null},"client/src/components/ui/toaster.tsx":{"content":"import { useToast } from \"@/hooks/use-toast\"\nimport {\n  Toast,\n  ToastClose,\n  ToastDescription,\n  ToastProvider,\n  ToastTitle,\n  ToastViewport,\n} from \"@/components/ui/toast\"\n\nexport function Toaster() {\n  const { toasts } = useToast()\n\n  return (\n    <ToastProvider>\n      {toasts.map(function ({ id, title, description, action, ...props }) {\n        return (\n          <Toast key={id} {...props}>\n            <div className=\"grid gap-1\">\n              {title && <ToastTitle>{title}</ToastTitle>}\n              {description && (\n                <ToastDescription>{description}</ToastDescription>\n              )}\n            </div>\n            {action}\n            <ToastClose />\n          </Toast>\n        )\n      })}\n      <ToastViewport />\n    </ToastProvider>\n  )\n}\n","path":null,"size_bytes":772,"size_tokens":null},"client/src/components/ui/tooltip.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as TooltipPrimitive from \"@radix-ui/react-tooltip\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst TooltipProvider = TooltipPrimitive.Provider\n\nconst Tooltip = TooltipPrimitive.Root\n\nconst TooltipTrigger = TooltipPrimitive.Trigger\n\nconst TooltipContent = React.forwardRef<\n  React.ElementRef<typeof TooltipPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TooltipPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <TooltipPrimitive.Content\n    ref={ref}\n    sideOffset={sideOffset}\n    className={cn(\n      \"z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nTooltipContent.displayName = TooltipPrimitive.Content.displayName\n\nexport { Tooltip, TooltipTrigger, TooltipContent, TooltipProvider }\n","path":null,"size_bytes":1209,"size_tokens":null},"client/src/components/ui/accordion.tsx":{"content":"import * as React from \"react\"\nimport * as AccordionPrimitive from \"@radix-ui/react-accordion\"\nimport { ChevronDown } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Accordion = AccordionPrimitive.Root\n\nconst AccordionItem = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Item>\n>(({ className, ...props }, ref) => (\n  <AccordionPrimitive.Item\n    ref={ref}\n    className={cn(\"border-b\", className)}\n    {...props}\n  />\n))\nAccordionItem.displayName = \"AccordionItem\"\n\nconst AccordionTrigger = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <AccordionPrimitive.Header className=\"flex\">\n    <AccordionPrimitive.Trigger\n      ref={ref}\n      className={cn(\n        \"flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <ChevronDown className=\"h-4 w-4 shrink-0 transition-transform duration-200\" />\n    </AccordionPrimitive.Trigger>\n  </AccordionPrimitive.Header>\n))\nAccordionTrigger.displayName = AccordionPrimitive.Trigger.displayName\n\nconst AccordionContent = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <AccordionPrimitive.Content\n    ref={ref}\n    className=\"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down\"\n    {...props}\n  >\n    <div className={cn(\"pb-4 pt-0\", className)}>{children}</div>\n  </AccordionPrimitive.Content>\n))\n\nAccordionContent.displayName = AccordionPrimitive.Content.displayName\n\nexport { Accordion, AccordionItem, AccordionTrigger, AccordionContent }\n","path":null,"size_bytes":1977,"size_tokens":null},"client/src/components/ui/tabs.tsx":{"content":"import * as React from \"react\"\nimport * as TabsPrimitive from \"@radix-ui/react-tabs\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Tabs = TabsPrimitive.Root\n\nconst TabsList = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.List\n    ref={ref}\n    className={cn(\n      \"inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsList.displayName = TabsPrimitive.List.displayName\n\nconst TabsTrigger = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Trigger>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsTrigger.displayName = TabsPrimitive.Trigger.displayName\n\nconst TabsContent = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Content\n    ref={ref}\n    className={cn(\n      \"mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsContent.displayName = TabsPrimitive.Content.displayName\n\nexport { Tabs, TabsList, TabsTrigger, TabsContent }\n","path":null,"size_bytes":1883,"size_tokens":null},"server/index.ts":{"content":"import { spawn } from 'child_process';\nimport path from 'path';\n\n// ResuMatch Pro Flask Microservices Application\n// This starts the Python Flask application instead of Node.js Express\n\nconsole.log('Starting ResuMatch Pro Flask application...');\n\nconst pythonProcess = spawn('python', ['run.py'], {\n  cwd: process.cwd(),\n  stdio: 'inherit',\n  env: { ...process.env }\n});\n\npythonProcess.on('error', (error) => {\n  console.error('Failed to start Flask application:', error);\n  process.exit(1);\n});\n\npythonProcess.on('exit', (code) => {\n  console.log(`Flask application exited with code ${code}`);\n  process.exit(code || 0);\n});\n\n// Handle termination signals\nprocess.on('SIGINT', () => {\n  pythonProcess.kill('SIGINT');\n});\n\nprocess.on('SIGTERM', () => {\n  pythonProcess.kill('SIGTERM');\n});\n","path":null,"size_bytes":790,"size_tokens":null},"client/src/components/ui/hover-card.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as HoverCardPrimitive from \"@radix-ui/react-hover-card\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst HoverCard = HoverCardPrimitive.Root\n\nconst HoverCardTrigger = HoverCardPrimitive.Trigger\n\nconst HoverCardContent = React.forwardRef<\n  React.ElementRef<typeof HoverCardPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof HoverCardPrimitive.Content>\n>(({ className, align = \"center\", sideOffset = 4, ...props }, ref) => (\n  <HoverCardPrimitive.Content\n    ref={ref}\n    align={align}\n    sideOffset={sideOffset}\n    className={cn(\n      \"z-50 w-64 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-hover-card-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nHoverCardContent.displayName = HoverCardPrimitive.Content.displayName\n\nexport { HoverCard, HoverCardTrigger, HoverCardContent }\n","path":null,"size_bytes":1251,"size_tokens":null},"client/src/components/ui/slider.tsx":{"content":"import * as React from \"react\"\nimport * as SliderPrimitive from \"@radix-ui/react-slider\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Slider = React.forwardRef<\n  React.ElementRef<typeof SliderPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof SliderPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <SliderPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative flex w-full touch-none select-none items-center\",\n      className\n    )}\n    {...props}\n  >\n    <SliderPrimitive.Track className=\"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary\">\n      <SliderPrimitive.Range className=\"absolute h-full bg-primary\" />\n    </SliderPrimitive.Track>\n    <SliderPrimitive.Thumb className=\"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50\" />\n  </SliderPrimitive.Root>\n))\nSlider.displayName = SliderPrimitive.Root.displayName\n\nexport { Slider }\n","path":null,"size_bytes":1077,"size_tokens":null},"client/src/components/ui/alert-dialog.tsx":{"content":"import * as React from \"react\"\nimport * as AlertDialogPrimitive from \"@radix-ui/react-alert-dialog\"\n\nimport { cn } from \"@/lib/utils\"\nimport { buttonVariants } from \"@/components/ui/button\"\n\nconst AlertDialog = AlertDialogPrimitive.Root\n\nconst AlertDialogTrigger = AlertDialogPrimitive.Trigger\n\nconst AlertDialogPortal = AlertDialogPrimitive.Portal\n\nconst AlertDialogOverlay = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Overlay\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  />\n))\nAlertDialogOverlay.displayName = AlertDialogPrimitive.Overlay.displayName\n\nconst AlertDialogContent = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPortal>\n    <AlertDialogOverlay />\n    <AlertDialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    />\n  </AlertDialogPortal>\n))\nAlertDialogContent.displayName = AlertDialogPrimitive.Content.displayName\n\nconst AlertDialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-2 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nAlertDialogHeader.displayName = \"AlertDialogHeader\"\n\nconst AlertDialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nAlertDialogFooter.displayName = \"AlertDialogFooter\"\n\nconst AlertDialogTitle = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Title\n    ref={ref}\n    className={cn(\"text-lg font-semibold\", className)}\n    {...props}\n  />\n))\nAlertDialogTitle.displayName = AlertDialogPrimitive.Title.displayName\n\nconst AlertDialogDescription = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nAlertDialogDescription.displayName =\n  AlertDialogPrimitive.Description.displayName\n\nconst AlertDialogAction = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Action>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Action>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Action\n    ref={ref}\n    className={cn(buttonVariants(), className)}\n    {...props}\n  />\n))\nAlertDialogAction.displayName = AlertDialogPrimitive.Action.displayName\n\nconst AlertDialogCancel = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Cancel>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Cancel>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Cancel\n    ref={ref}\n    className={cn(\n      buttonVariants({ variant: \"outline\" }),\n      \"mt-2 sm:mt-0\",\n      className\n    )}\n    {...props}\n  />\n))\nAlertDialogCancel.displayName = AlertDialogPrimitive.Cancel.displayName\n\nexport {\n  AlertDialog,\n  AlertDialogPortal,\n  AlertDialogOverlay,\n  AlertDialogTrigger,\n  AlertDialogContent,\n  AlertDialogHeader,\n  AlertDialogFooter,\n  AlertDialogTitle,\n  AlertDialogDescription,\n  AlertDialogAction,\n  AlertDialogCancel,\n}\n","path":null,"size_bytes":4420,"size_tokens":null},"client/src/App.tsx":{"content":"import { Switch, Route, useLocation } from \"wouter\";\nimport { queryClient } from \"./lib/queryClient\";\nimport { QueryClientProvider } from \"@tanstack/react-query\";\nimport { Toaster } from \"@/components/ui/toaster\";\nimport { TooltipProvider } from \"@/components/ui/tooltip\";\nimport { SidebarProvider, SidebarTrigger } from \"@/components/ui/sidebar\";\nimport { AppSidebar } from \"@/components/app-sidebar\";\nimport NotFound from \"@/pages/not-found\";\n\nimport Landing from \"@/pages/landing\";\nimport Dashboard from \"@/pages/dashboard\";\nimport Results from \"@/pages/results\";\nimport JobMatch from \"@/pages/job-match\";\nimport JobMatchResults from \"@/pages/job-match-results\";\nimport CareerRoadmap from \"@/pages/career-roadmap\";\n\nfunction Router() {\n  return (\n    <Switch>\n      <Route path=\"/\" component={Landing} />\n      <Route path=\"/dashboard\" component={Dashboard} />\n      <Route path=\"/job-match\" component={JobMatch} />\n      <Route path=\"/job-matches/:id\" component={JobMatchResults} />\n      <Route path=\"/career-roadmap\" component={CareerRoadmap} />\n      <Route path=\"/results/:id\" component={Results} />\n      <Route component={NotFound} />\n    </Switch>\n  );\n}\n\nfunction AppContent() {\n  const [location] = useLocation();\n  const showSidebar = location !== \"/\";\n\n  if (!showSidebar) {\n    return <Router />;\n  }\n\n  return (\n    <SidebarProvider>\n      <div className=\"flex h-screen w-full\">\n        <AppSidebar />\n        <div className=\"flex flex-col flex-1 overflow-hidden\">\n          <header className=\"flex items-center justify-between p-2 border-b\">\n            <SidebarTrigger data-testid=\"button-sidebar-toggle\" />\n          </header>\n          <main className=\"flex-1 overflow-auto\">\n            <Router />\n          </main>\n        </div>\n      </div>\n    </SidebarProvider>\n  );\n}\n\nfunction App() {\n  return (\n    <QueryClientProvider client={queryClient}>\n      <TooltipProvider>\n        <Toaster />\n        <AppContent />\n      </TooltipProvider>\n    </QueryClientProvider>\n  );\n}\n\nexport default App;\n","path":null,"size_bytes":2019,"size_tokens":null},"client/src/components/ui/separator.tsx":{"content":"import * as React from \"react\"\nimport * as SeparatorPrimitive from \"@radix-ui/react-separator\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Separator = React.forwardRef<\n  React.ElementRef<typeof SeparatorPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof SeparatorPrimitive.Root>\n>(\n  (\n    { className, orientation = \"horizontal\", decorative = true, ...props },\n    ref\n  ) => (\n    <SeparatorPrimitive.Root\n      ref={ref}\n      decorative={decorative}\n      orientation={orientation}\n      className={cn(\n        \"shrink-0 bg-border\",\n        orientation === \"horizontal\" ? \"h-[1px] w-full\" : \"h-full w-[1px]\",\n        className\n      )}\n      {...props}\n    />\n  )\n)\nSeparator.displayName = SeparatorPrimitive.Root.displayName\n\nexport { Separator }\n","path":null,"size_bytes":756,"size_tokens":null},"client/src/components/score-dial.tsx":{"content":"interface ScoreDialProps {\n  score: number;\n}\n\nexport function ScoreDial({ score }: ScoreDialProps) {\n  const size = 192;\n  const strokeWidth = 12;\n  const radius = (size - strokeWidth) / 2;\n  const circumference = 2 * Math.PI * radius;\n  const offset = circumference - (score / 100) * circumference;\n\n  const getScoreColor = (score: number) => {\n    if (score >= 80) return \"hsl(var(--chart-2))\";\n    if (score >= 60) return \"hsl(var(--chart-3))\";\n    if (score >= 40) return \"hsl(var(--chart-4))\";\n    return \"hsl(var(--destructive))\";\n  };\n\n  return (\n    <div className=\"relative w-48 h-48 md:w-64 md:h-64\" data-testid=\"score-dial\">\n      <svg\n        width={size}\n        height={size}\n        className=\"transform -rotate-90 w-full h-full\"\n      >\n        <circle\n          cx={size / 2}\n          cy={size / 2}\n          r={radius}\n          stroke=\"hsl(var(--border))\"\n          strokeWidth={strokeWidth}\n          fill=\"none\"\n        />\n        <circle\n          cx={size / 2}\n          cy={size / 2}\n          r={radius}\n          stroke={getScoreColor(score)}\n          strokeWidth={strokeWidth}\n          fill=\"none\"\n          strokeLinecap=\"round\"\n          strokeDasharray={circumference}\n          strokeDashoffset={offset}\n          className=\"transition-all duration-1000 ease-out\"\n        />\n      </svg>\n      <div className=\"absolute inset-0 flex flex-col items-center justify-center\">\n        <span className=\"text-5xl md:text-6xl font-bold\" data-testid=\"score-value\">\n          {score}\n        </span>\n        <span className=\"text-sm text-muted-foreground mt-1\">out of 100</span>\n      </div>\n    </div>\n  );\n}\n","path":null,"size_bytes":1634,"size_tokens":null},"client/src/lib/utils.ts":{"content":"import { clsx, type ClassValue } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n\nexport function formatBytes(bytes: number): string {\n  if (bytes === 0) return \"0 Bytes\";\n  const k = 1024;\n  const sizes = [\"Bytes\", \"KB\", \"MB\"];\n  const i = Math.floor(Math.log(bytes) / Math.log(k));\n  return Math.round(bytes / Math.pow(k, i) * 10) / 10 + \" \" + sizes[i];\n}\n\nexport function formatDate(date: string | Date): string {\n  const d = typeof date === \"string\" ? new Date(date) : date;\n  const now = new Date();\n  const diffInMs = now.getTime() - d.getTime();\n  const diffInDays = Math.floor(diffInMs / (1000 * 60 * 60 * 24));\n  \n  if (diffInDays === 0) return \"Today\";\n  if (diffInDays === 1) return \"Yesterday\";\n  if (diffInDays < 7) return `${diffInDays} days ago`;\n  \n  return d.toLocaleDateString(\"en-US\", { \n    month: \"short\", \n    day: \"numeric\", \n    year: d.getFullYear() !== now.getFullYear() ? \"numeric\" : undefined \n  });\n}\n","path":null,"size_bytes":1015,"size_tokens":null},"server/storage.ts":{"content":"import { \n  type User, \n  type InsertUser, \n  type Resume, \n  type InsertResume,\n  type Analysis,\n  type InsertAnalysis,\n  type JobMatch,\n  type InsertJobMatch,\n  type CareerRoadmap,\n  type InsertCareerRoadmap,\n  users,\n  resumes,\n  analyses,\n  jobMatches,\n  careerRoadmaps\n} from \"@shared/schema\";\nimport { randomUUID } from \"crypto\";\nimport { drizzle } from \"drizzle-orm/neon-serverless\";\nimport { eq, desc } from \"drizzle-orm\";\nimport { Pool, neonConfig } from \"@neondatabase/serverless\";\nimport ws from \"ws\";\n\nexport interface IStorage {\n  getUser(id: string): Promise<User | undefined>;\n  getUserByUsername(username: string): Promise<User | undefined>;\n  createUser(user: InsertUser): Promise<User>;\n  \n  getResume(id: string): Promise<Resume | undefined>;\n  getResumesByUserId(userId: string): Promise<Resume[]>;\n  createResume(resume: InsertResume): Promise<Resume>;\n  \n  getAnalysis(id: string): Promise<Analysis | undefined>;\n  getAnalysisByResumeId(resumeId: string): Promise<Analysis | undefined>;\n  createAnalysis(analysis: InsertAnalysis): Promise<Analysis>;\n  \n  getJobMatch(id: string): Promise<JobMatch | undefined>;\n  getJobMatchesByResumeId(resumeId: string): Promise<JobMatch[]>;\n  createJobMatch(jobMatch: InsertJobMatch): Promise<JobMatch>;\n  updateJobMatchResponses(\n    id: string,\n    gapResponses: Array<{ gapIndex: number; proficiencyLevel: string }>,\n    finalVerdict: string,\n    shouldApply: boolean\n  ): Promise<JobMatch | undefined>;\n  updateJobMatchResume(id: string, changesSummary: string, tailoredResumeContent: string): Promise<JobMatch | undefined>;\n  \n  getCareerRoadmap(id: string): Promise<CareerRoadmap | undefined>;\n  getCareerRoadmapsByUserId(userId: string): Promise<CareerRoadmap[]>;\n  createCareerRoadmap(careerRoadmap: InsertCareerRoadmap): Promise<CareerRoadmap>;\n}\n\nexport class MemStorage implements IStorage {\n  private users: Map<string, User>;\n  private resumes: Map<string, Resume>;\n  private analyses: Map<string, Analysis>;\n  private jobMatches: Map<string, JobMatch>;\n  private careerRoadmaps: Map<string, CareerRoadmap>;\n\n  constructor() {\n    this.users = new Map();\n    this.resumes = new Map();\n    this.analyses = new Map();\n    this.jobMatches = new Map();\n    this.careerRoadmaps = new Map();\n  }\n\n  async getUser(id: string): Promise<User | undefined> {\n    return this.users.get(id);\n  }\n\n  async getUserByUsername(username: string): Promise<User | undefined> {\n    return Array.from(this.users.values()).find(\n      (user) => user.username === username,\n    );\n  }\n\n  async createUser(insertUser: InsertUser): Promise<User> {\n    const id = randomUUID();\n    const user: User = { ...insertUser, id };\n    this.users.set(id, user);\n    return user;\n  }\n\n  async getResume(id: string): Promise<Resume | undefined> {\n    return this.resumes.get(id);\n  }\n\n  async getResumesByUserId(userId: string): Promise<Resume[]> {\n    return Array.from(this.resumes.values())\n      .filter((resume) => resume.userId === userId)\n      .sort((a, b) => new Date(b.createdAt).getTime() - new Date(a.createdAt).getTime());\n  }\n\n  async createResume(insertResume: InsertResume): Promise<Resume> {\n    const id = randomUUID();\n    const resume: Resume = { \n      ...insertResume, \n      id,\n      createdAt: new Date()\n    };\n    this.resumes.set(id, resume);\n    return resume;\n  }\n\n  async getAnalysis(id: string): Promise<Analysis | undefined> {\n    return this.analyses.get(id);\n  }\n\n  async getAnalysisByResumeId(resumeId: string): Promise<Analysis | undefined> {\n    return Array.from(this.analyses.values()).find(\n      (analysis) => analysis.resumeId === resumeId\n    );\n  }\n\n  async createAnalysis(insertAnalysis: InsertAnalysis): Promise<Analysis> {\n    const id = randomUUID();\n    const analysis: Analysis = { \n      id,\n      resumeId: insertAnalysis.resumeId,\n      completenessScore: insertAnalysis.completenessScore,\n      completenessRationale: insertAnalysis.completenessRationale,\n      sectionScores: insertAnalysis.sectionScores,\n      suggestions: insertAnalysis.suggestions,\n      createdAt: new Date()\n    };\n    this.analyses.set(id, analysis);\n    return analysis;\n  }\n\n  async getJobMatch(id: string): Promise<JobMatch | undefined> {\n    return this.jobMatches.get(id);\n  }\n\n  async getJobMatchesByResumeId(resumeId: string): Promise<JobMatch[]> {\n    return Array.from(this.jobMatches.values())\n      .filter((match) => match.resumeId === resumeId)\n      .sort((a, b) => new Date(b.createdAt).getTime() - new Date(a.createdAt).getTime());\n  }\n\n  async createJobMatch(insertJobMatch: InsertJobMatch): Promise<JobMatch> {\n    const id = randomUUID();\n    const jobMatch: JobMatch = {\n      id,\n      ...insertJobMatch,\n      createdAt: new Date()\n    };\n    this.jobMatches.set(id, jobMatch);\n    return jobMatch;\n  }\n\n  async updateJobMatchResponses(\n    id: string,\n    gapResponses: Array<{ gapIndex: number; proficiencyLevel: string }>,\n    finalVerdict: string,\n    shouldApply: boolean\n  ): Promise<JobMatch | undefined> {\n    const jobMatch = this.jobMatches.get(id);\n    if (!jobMatch) return undefined;\n\n    const updated: JobMatch = {\n      ...jobMatch,\n      gapResponses: gapResponses as any,\n      finalVerdict,\n      shouldApply,\n    };\n    this.jobMatches.set(id, updated);\n    return updated;\n  }\n\n  async updateJobMatchResume(id: string, changesSummary: string, tailoredResumeContent: string): Promise<JobMatch | undefined> {\n    const jobMatch = this.jobMatches.get(id);\n    if (!jobMatch) return undefined;\n\n    const updated: JobMatch = {\n      ...jobMatch,\n      changesSummary,\n      tailoredResumeContent,\n    };\n    this.jobMatches.set(id, updated);\n    return updated;\n  }\n\n  async getCareerRoadmap(id: string): Promise<CareerRoadmap | undefined> {\n    return this.careerRoadmaps.get(id);\n  }\n\n  async getCareerRoadmapsByUserId(userId: string): Promise<CareerRoadmap[]> {\n    return Array.from(this.careerRoadmaps.values())\n      .filter((roadmap) => roadmap.userId === userId)\n      .sort((a, b) => new Date(b.createdAt).getTime() - new Date(a.createdAt).getTime());\n  }\n\n  async createCareerRoadmap(insertCareerRoadmap: InsertCareerRoadmap): Promise<CareerRoadmap> {\n    const id = randomUUID();\n    const careerRoadmap: CareerRoadmap = {\n      id,\n      ...insertCareerRoadmap,\n      createdAt: new Date()\n    };\n    this.careerRoadmaps.set(id, careerRoadmap);\n    return careerRoadmap;\n  }\n}\n\nexport class DbStorage implements IStorage {\n  private db;\n\n  constructor(connectionString: string) {\n    neonConfig.webSocketConstructor = ws;\n    const pool = new Pool({ connectionString });\n    this.db = drizzle(pool);\n  }\n\n  async getUser(id: string): Promise<User | undefined> {\n    const result = await this.db.select().from(users).where(eq(users.id, id)).limit(1);\n    return result[0];\n  }\n\n  async getUserByUsername(username: string): Promise<User | undefined> {\n    const result = await this.db.select().from(users).where(eq(users.username, username)).limit(1);\n    return result[0];\n  }\n\n  async createUser(insertUser: InsertUser): Promise<User> {\n    const result = await this.db.insert(users).values(insertUser).returning();\n    return result[0];\n  }\n\n  async getResume(id: string): Promise<Resume | undefined> {\n    const result = await this.db.select().from(resumes).where(eq(resumes.id, id)).limit(1);\n    return result[0];\n  }\n\n  async getResumesByUserId(userId: string): Promise<Resume[]> {\n    return await this.db\n      .select()\n      .from(resumes)\n      .where(eq(resumes.userId, userId))\n      .orderBy(desc(resumes.createdAt));\n  }\n\n  async createResume(insertResume: InsertResume): Promise<Resume> {\n    const result = await this.db.insert(resumes).values(insertResume).returning();\n    return result[0];\n  }\n\n  async getAnalysis(id: string): Promise<Analysis | undefined> {\n    const result = await this.db.select().from(analyses).where(eq(analyses.id, id)).limit(1);\n    return result[0];\n  }\n\n  async getAnalysisByResumeId(resumeId: string): Promise<Analysis | undefined> {\n    const result = await this.db.select().from(analyses).where(eq(analyses.resumeId, resumeId)).limit(1);\n    return result[0];\n  }\n\n  async createAnalysis(insertAnalysis: InsertAnalysis): Promise<Analysis> {\n    const result = await this.db.insert(analyses).values(insertAnalysis).returning();\n    return result[0];\n  }\n\n  async getJobMatch(id: string): Promise<JobMatch | undefined> {\n    const result = await this.db.select().from(jobMatches).where(eq(jobMatches.id, id)).limit(1);\n    return result[0];\n  }\n\n  async getJobMatchesByResumeId(resumeId: string): Promise<JobMatch[]> {\n    return await this.db\n      .select()\n      .from(jobMatches)\n      .where(eq(jobMatches.resumeId, resumeId))\n      .orderBy(desc(jobMatches.createdAt));\n  }\n\n  async createJobMatch(insertJobMatch: InsertJobMatch): Promise<JobMatch> {\n    const result = await this.db.insert(jobMatches).values(insertJobMatch).returning();\n    return result[0];\n  }\n\n  async updateJobMatchResponses(\n    id: string,\n    gapResponses: Array<{ gapIndex: number; proficiencyLevel: string }>,\n    finalVerdict: string,\n    shouldApply: boolean\n  ): Promise<JobMatch | undefined> {\n    const result = await this.db\n      .update(jobMatches)\n      .set({\n        gapResponses: gapResponses as any,\n        finalVerdict,\n        shouldApply,\n      })\n      .where(eq(jobMatches.id, id))\n      .returning();\n    return result[0];\n  }\n\n  async updateJobMatchResume(id: string, changesSummary: string, tailoredResumeContent: string): Promise<JobMatch | undefined> {\n    const result = await this.db\n      .update(jobMatches)\n      .set({ changesSummary, tailoredResumeContent })\n      .where(eq(jobMatches.id, id))\n      .returning();\n    return result[0];\n  }\n\n  async getCareerRoadmap(id: string): Promise<CareerRoadmap | undefined> {\n    const result = await this.db.select().from(careerRoadmaps).where(eq(careerRoadmaps.id, id)).limit(1);\n    return result[0];\n  }\n\n  async getCareerRoadmapsByUserId(userId: string): Promise<CareerRoadmap[]> {\n    return await this.db\n      .select()\n      .from(careerRoadmaps)\n      .where(eq(careerRoadmaps.userId, userId))\n      .orderBy(desc(careerRoadmaps.createdAt));\n  }\n\n  async createCareerRoadmap(insertCareerRoadmap: InsertCareerRoadmap): Promise<CareerRoadmap> {\n    const result = await this.db.insert(careerRoadmaps).values(insertCareerRoadmap).returning();\n    return result[0];\n  }\n}\n\nconst dbUrl = process.env.DATABASE_URL;\nexport const storage = dbUrl ? new DbStorage(dbUrl) : new MemStorage();\n","path":null,"size_bytes":10509,"size_tokens":null},"client/src/components/ui/progress.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as ProgressPrimitive from \"@radix-ui/react-progress\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Progress = React.forwardRef<\n  React.ElementRef<typeof ProgressPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ProgressPrimitive.Root>\n>(({ className, value, ...props }, ref) => (\n  <ProgressPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative h-4 w-full overflow-hidden rounded-full bg-secondary\",\n      className\n    )}\n    {...props}\n  >\n    <ProgressPrimitive.Indicator\n      className=\"h-full w-full flex-1 bg-primary transition-all\"\n      style={{ transform: `translateX(-${100 - (value || 0)}%)` }}\n    />\n  </ProgressPrimitive.Root>\n))\nProgress.displayName = ProgressPrimitive.Root.displayName\n\nexport { Progress }\n","path":null,"size_bytes":791,"size_tokens":null},"client/src/components/ui/switch.tsx":{"content":"import * as React from \"react\"\nimport * as SwitchPrimitives from \"@radix-ui/react-switch\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Switch = React.forwardRef<\n  React.ElementRef<typeof SwitchPrimitives.Root>,\n  React.ComponentPropsWithoutRef<typeof SwitchPrimitives.Root>\n>(({ className, ...props }, ref) => (\n  <SwitchPrimitives.Root\n    className={cn(\n      \"peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  >\n    <SwitchPrimitives.Thumb\n      className={cn(\n        \"pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0\"\n      )}\n    />\n  </SwitchPrimitives.Root>\n))\nSwitch.displayName = SwitchPrimitives.Root.displayName\n\nexport { Switch }\n","path":null,"size_bytes":1139,"size_tokens":null},"client/src/components/ui/input-otp.tsx":{"content":"import * as React from \"react\"\nimport { OTPInput, OTPInputContext } from \"input-otp\"\nimport { Dot } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst InputOTP = React.forwardRef<\n  React.ElementRef<typeof OTPInput>,\n  React.ComponentPropsWithoutRef<typeof OTPInput>\n>(({ className, containerClassName, ...props }, ref) => (\n  <OTPInput\n    ref={ref}\n    containerClassName={cn(\n      \"flex items-center gap-2 has-[:disabled]:opacity-50\",\n      containerClassName\n    )}\n    className={cn(\"disabled:cursor-not-allowed\", className)}\n    {...props}\n  />\n))\nInputOTP.displayName = \"InputOTP\"\n\nconst InputOTPGroup = React.forwardRef<\n  React.ElementRef<\"div\">,\n  React.ComponentPropsWithoutRef<\"div\">\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"flex items-center\", className)} {...props} />\n))\nInputOTPGroup.displayName = \"InputOTPGroup\"\n\nconst InputOTPSlot = React.forwardRef<\n  React.ElementRef<\"div\">,\n  React.ComponentPropsWithoutRef<\"div\"> & { index: number }\n>(({ index, className, ...props }, ref) => {\n  const inputOTPContext = React.useContext(OTPInputContext)\n  const { char, hasFakeCaret, isActive } = inputOTPContext.slots[index]\n\n  return (\n    <div\n      ref={ref}\n      className={cn(\n        \"relative flex h-10 w-10 items-center justify-center border-y border-r border-input text-sm transition-all first:rounded-l-md first:border-l last:rounded-r-md\",\n        isActive && \"z-10 ring-2 ring-ring ring-offset-background\",\n        className\n      )}\n      {...props}\n    >\n      {char}\n      {hasFakeCaret && (\n        <div className=\"pointer-events-none absolute inset-0 flex items-center justify-center\">\n          <div className=\"h-4 w-px animate-caret-blink bg-foreground duration-1000\" />\n        </div>\n      )}\n    </div>\n  )\n})\nInputOTPSlot.displayName = \"InputOTPSlot\"\n\nconst InputOTPSeparator = React.forwardRef<\n  React.ElementRef<\"div\">,\n  React.ComponentPropsWithoutRef<\"div\">\n>(({ ...props }, ref) => (\n  <div ref={ref} role=\"separator\" {...props}>\n    <Dot />\n  </div>\n))\nInputOTPSeparator.displayName = \"InputOTPSeparator\"\n\nexport { InputOTP, InputOTPGroup, InputOTPSlot, InputOTPSeparator }\n","path":null,"size_bytes":2154,"size_tokens":null},"client/src/components/ui/form.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport {\n  Controller,\n  FormProvider,\n  useFormContext,\n  type ControllerProps,\n  type FieldPath,\n  type FieldValues,\n} from \"react-hook-form\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Label } from \"@/components/ui/label\"\n\nconst Form = FormProvider\n\ntype FormFieldContextValue<\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>\n> = {\n  name: TName\n}\n\nconst FormFieldContext = React.createContext<FormFieldContextValue>(\n  {} as FormFieldContextValue\n)\n\nconst FormField = <\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>\n>({\n  ...props\n}: ControllerProps<TFieldValues, TName>) => {\n  return (\n    <FormFieldContext.Provider value={{ name: props.name }}>\n      <Controller {...props} />\n    </FormFieldContext.Provider>\n  )\n}\n\nconst useFormField = () => {\n  const fieldContext = React.useContext(FormFieldContext)\n  const itemContext = React.useContext(FormItemContext)\n  const { getFieldState, formState } = useFormContext()\n\n  const fieldState = getFieldState(fieldContext.name, formState)\n\n  if (!fieldContext) {\n    throw new Error(\"useFormField should be used within <FormField>\")\n  }\n\n  const { id } = itemContext\n\n  return {\n    id,\n    name: fieldContext.name,\n    formItemId: `${id}-form-item`,\n    formDescriptionId: `${id}-form-item-description`,\n    formMessageId: `${id}-form-item-message`,\n    ...fieldState,\n  }\n}\n\ntype FormItemContextValue = {\n  id: string\n}\n\nconst FormItemContext = React.createContext<FormItemContextValue>(\n  {} as FormItemContextValue\n)\n\nconst FormItem = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const id = React.useId()\n\n  return (\n    <FormItemContext.Provider value={{ id }}>\n      <div ref={ref} className={cn(\"space-y-2\", className)} {...props} />\n    </FormItemContext.Provider>\n  )\n})\nFormItem.displayName = \"FormItem\"\n\nconst FormLabel = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root>\n>(({ className, ...props }, ref) => {\n  const { error, formItemId } = useFormField()\n\n  return (\n    <Label\n      ref={ref}\n      className={cn(error && \"text-destructive\", className)}\n      htmlFor={formItemId}\n      {...props}\n    />\n  )\n})\nFormLabel.displayName = \"FormLabel\"\n\nconst FormControl = React.forwardRef<\n  React.ElementRef<typeof Slot>,\n  React.ComponentPropsWithoutRef<typeof Slot>\n>(({ ...props }, ref) => {\n  const { error, formItemId, formDescriptionId, formMessageId } = useFormField()\n\n  return (\n    <Slot\n      ref={ref}\n      id={formItemId}\n      aria-describedby={\n        !error\n          ? `${formDescriptionId}`\n          : `${formDescriptionId} ${formMessageId}`\n      }\n      aria-invalid={!!error}\n      {...props}\n    />\n  )\n})\nFormControl.displayName = \"FormControl\"\n\nconst FormDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => {\n  const { formDescriptionId } = useFormField()\n\n  return (\n    <p\n      ref={ref}\n      id={formDescriptionId}\n      className={cn(\"text-sm text-muted-foreground\", className)}\n      {...props}\n    />\n  )\n})\nFormDescription.displayName = \"FormDescription\"\n\nconst FormMessage = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, children, ...props }, ref) => {\n  const { error, formMessageId } = useFormField()\n  const body = error ? String(error?.message ?? \"\") : children\n\n  if (!body) {\n    return null\n  }\n\n  return (\n    <p\n      ref={ref}\n      id={formMessageId}\n      className={cn(\"text-sm font-medium text-destructive\", className)}\n      {...props}\n    >\n      {body}\n    </p>\n  )\n})\nFormMessage.displayName = \"FormMessage\"\n\nexport {\n  useFormField,\n  Form,\n  FormItem,\n  FormLabel,\n  FormControl,\n  FormDescription,\n  FormMessage,\n  FormField,\n}\n","path":null,"size_bytes":4120,"size_tokens":null},"client/src/index.css":{"content":"@tailwind base;\n@tailwind components;\n@tailwind utilities;\n\n/* LIGHT MODE */\n:root {\n  --button-outline: rgba(0,0,0, .10);\n  --badge-outline: rgba(0,0,0, .05);\n  --opaque-button-border-intensity: -8;\n  --elevate-1: rgba(0,0,0, .03);\n  --elevate-2: rgba(0,0,0, .08);\n  --background: 0 0% 100%;\n  --foreground: 0 0% 9%;\n  --border: 0 0% 90%;\n  --card: 0 0% 98%;\n  --card-foreground: 0 0% 9%;\n  --card-border: 0 0% 94%;\n  --sidebar: 0 0% 96%;\n  --sidebar-foreground: 0 0% 9%;\n  --sidebar-border: 0 0% 92%;\n  --sidebar-primary: 217 91% 45%;\n  --sidebar-primary-foreground: 0 0% 98%;\n  --sidebar-accent: 0 0% 92%;\n  --sidebar-accent-foreground: 0 0% 9%;\n  --sidebar-ring: 217 91% 45%;\n  --popover: 0 0% 94%;\n  --popover-foreground: 0 0% 9%;\n  --popover-border: 0 0% 88%;\n  --primary: 217 91% 45%;\n  --primary-foreground: 0 0% 98%;\n  --secondary: 0 0% 90%;\n  --secondary-foreground: 0 0% 9%;\n  --muted: 0 0% 92%;\n  --muted-foreground: 0 0% 35%;\n  --accent: 217 20% 90%;\n  --accent-foreground: 0 0% 9%;\n  --destructive: 0 84% 42%;\n  --destructive-foreground: 0 0% 98%;\n  --input: 0 0% 70%;\n  --ring: 217 91% 45%;\n  --chart-1: 217 91% 35%;\n  --chart-2: 173 58% 32%;\n  --chart-3: 43 74% 35%;\n  --chart-4: 27 87% 38%;\n  --chart-5: 280 65% 35%;\n  --font-sans: Open Sans, sans-serif;\n  --font-serif: Georgia, serif;\n  --font-mono: Menlo, monospace;\n  --radius: .5rem;\n  --shadow-2xs: 0px 2px 0px 0px hsl(0 0% 0% / 0.00);\n  --shadow-xs: 0px 2px 0px 0px hsl(0 0% 0% / 0.00);\n  --shadow-sm: 0px 2px 0px 0px hsl(0 0% 0% / 0.00), 0px 1px 2px -1px hsl(0 0% 0% / 0.00);\n  --shadow: 0px 2px 0px 0px hsl(0 0% 0% / 0.00), 0px 1px 2px -1px hsl(0 0% 0% / 0.00);\n  --shadow-md: 0px 2px 0px 0px hsl(0 0% 0% / 0.00), 0px 2px 4px -1px hsl(0 0% 0% / 0.00);\n  --shadow-lg: 0px 2px 0px 0px hsl(0 0% 0% / 0.00), 0px 4px 6px -1px hsl(0 0% 0% / 0.00);\n  --shadow-xl: 0px 2px 0px 0px hsl(0 0% 0% / 0.00), 0px 8px 10px -1px hsl(0 0% 0% / 0.00);\n  --shadow-2xl: 0px 2px 0px 0px hsl(0 0% 0% / 0.00);\n  --tracking-normal: 0em;\n  --spacing: 0.25rem;\n\n/* Fallback for older browsers */\n  --sidebar-primary-border: hsl(var(--sidebar-primary));\n  --sidebar-primary-border: hsl(from hsl(var(--sidebar-primary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --sidebar-accent-border: hsl(var(--sidebar-accent));\n  --sidebar-accent-border: hsl(from hsl(var(--sidebar-accent)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --primary-border: hsl(var(--primary));\n  --primary-border: hsl(from hsl(var(--primary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --secondary-border: hsl(var(--secondary));\n  --secondary-border: hsl(from hsl(var(--secondary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --muted-border: hsl(var(--muted));\n  --muted-border: hsl(from hsl(var(--muted)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --accent-border: hsl(var(--accent));\n  --accent-border: hsl(from hsl(var(--accent)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --destructive-border: hsl(var(--destructive));\n  --destructive-border: hsl(from hsl(var(--destructive)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n}\n\n.dark {\n  --button-outline: rgba(255,255,255, .10);\n  --badge-outline: rgba(255,255,255, .05);\n  --opaque-button-border-intensity: 9;\n  --elevate-1: rgba(255,255,255, .04);\n  --elevate-2: rgba(255,255,255, .09);\n  --background: 0 0% 9%;\n  --foreground: 0 0% 98%;\n  --border: 0 0% 18%;\n  --card: 0 0% 11%;\n  --card-foreground: 0 0% 98%;\n  --card-border: 0 0% 14%;\n  --sidebar: 0 0% 13%;\n  --sidebar-foreground: 0 0% 98%;\n  --sidebar-border: 0 0% 16%;\n  --sidebar-primary: 217 91% 55%;\n  --sidebar-primary-foreground: 0 0% 98%;\n  --sidebar-accent: 0 0% 16%;\n  --sidebar-accent-foreground: 0 0% 98%;\n  --sidebar-ring: 217 91% 55%;\n  --popover: 0 0% 15%;\n  --popover-foreground: 0 0% 98%;\n  --popover-border: 0 0% 18%;\n  --primary: 217 91% 35%;\n  --primary-foreground: 0 0% 98%;\n  --secondary: 0 0% 18%;\n  --secondary-foreground: 0 0% 98%;\n  --muted: 0 0% 17%;\n  --muted-foreground: 0 0% 65%;\n  --accent: 217 15% 17%;\n  --accent-foreground: 0 0% 98%;\n  --destructive: 0 84% 32%;\n  --destructive-foreground: 0 0% 98%;\n  --input: 0 0% 30%;\n  --ring: 217 91% 55%;\n  --chart-1: 217 91% 65%;\n  --chart-2: 173 58% 68%;\n  --chart-3: 43 74% 68%;\n  --chart-4: 27 87% 68%;\n  --chart-5: 280 65% 68%;\n  --shadow-2xs: 0px 2px 0px 0px hsl(0 0% 0% / 0.00);\n  --shadow-xs: 0px 2px 0px 0px hsl(0 0% 0% / 0.00);\n  --shadow-sm: 0px 2px 0px 0px hsl(0 0% 0% / 0.00), 0px 1px 2px -1px hsl(0 0% 0% / 0.00);\n  --shadow: 0px 2px 0px 0px hsl(0 0% 0% / 0.00), 0px 1px 2px -1px hsl(0 0% 0% / 0.00);\n  --shadow-md: 0px 2px 0px 0px hsl(0 0% 0% / 0.00), 0px 2px 4px -1px hsl(0 0% 0% / 0.00);\n  --shadow-lg: 0px 2px 0px 0px hsl(0 0% 0% / 0.00), 0px 4px 6px -1px hsl(0 0% 0% / 0.00);\n  --shadow-xl: 0px 2px 0px 0px hsl(0 0% 0% / 0.00), 0px 8px 10px -1px hsl(0 0% 0% / 0.00);\n  --shadow-2xl: 0px 2px 0px 0px hsl(0 0% 0% / 0.00);\n\n/* Fallback for older browsers */\n  --sidebar-primary-border: hsl(var(--sidebar-primary));\n  --sidebar-primary-border: hsl(from hsl(var(--sidebar-primary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --sidebar-accent-border: hsl(var(--sidebar-accent));\n  --sidebar-accent-border: hsl(from hsl(var(--sidebar-accent)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --primary-border: hsl(var(--primary));\n  --primary-border: hsl(from hsl(var(--primary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --secondary-border: hsl(var(--secondary));\n  --secondary-border: hsl(from hsl(var(--secondary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --muted-border: hsl(var(--muted));\n  --muted-border: hsl(from hsl(var(--muted)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --accent-border: hsl(var(--accent));\n  --accent-border: hsl(from hsl(var(--accent)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --destructive-border: hsl(var(--destructive));\n  --destructive-border: hsl(from hsl(var(--destructive)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n}\n\n@layer base {\n  * {\n    @apply border-border;\n  }\n\n  body {\n    @apply font-sans antialiased bg-background text-foreground;\n  }\n}\n\n/**\n * Using the elevate system.\n * Automatic contrast adjustment.\n *\n * <element className=\"hover-elevate\" />\n * <element className=\"active-elevate-2\" />\n *\n * // Using the tailwind utility when a data attribute is \"on\"\n * <element className=\"toggle-elevate data-[state=on]:toggle-elevated\" />\n * // Or manually controlling the toggle state\n * <element className=\"toggle-elevate toggle-elevated\" />\n *\n * Elevation systems have to handle many states.\n * - not-hovered, vs. hovered vs. active  (three mutually exclusive states)\n * - toggled or not\n * - focused or not (this is not handled with these utilities)\n *\n * Even without handling focused or not, this is six possible combinations that\n * need to be distinguished from eachother visually.\n */\n@layer utilities {\n\n  /* Hide ugly search cancel button in Chrome until we can style it properly */\n  input[type=\"search\"]::-webkit-search-cancel-button {\n    @apply hidden;\n  }\n\n  /* Placeholder styling for contentEditable div */\n  [contenteditable][data-placeholder]:empty::before {\n    content: attr(data-placeholder);\n    color: hsl(var(--muted-foreground));\n    pointer-events: none;\n  }\n\n  /* .no-default-hover-elevate/no-default-active-elevate is an escape hatch so consumers of\n   * buttons/badges can remove the automatic brightness adjustment on interactions\n   * and program their own. */\n  .no-default-hover-elevate {}\n\n  .no-default-active-elevate {}\n\n\n  /**\n   * Toggleable backgrounds go behind the content. Hoverable/active goes on top.\n   * This way they can stack/compound. Both will overlap the parent's borders!\n   * So borders will be automatically adjusted both on toggle, and hover/active,\n   * and they will be compounded.\n   */\n  .toggle-elevate::before,\n  .toggle-elevate-2::before {\n    content: \"\";\n    pointer-events: none;\n    position: absolute;\n    inset: 0px;\n    /*border-radius: inherit;   match rounded corners */\n    border-radius: inherit;\n    z-index: -1;\n    /* sits behind content but above backdrop */\n  }\n\n  .toggle-elevate.toggle-elevated::before {\n    background-color: var(--elevate-2);\n  }\n\n  /* If there's a 1px border, adjust the inset so that it covers that parent's border */\n  .border.toggle-elevate::before {\n    inset: -1px;\n  }\n\n  /* Does not work on elements with overflow:hidden! */\n  .hover-elevate:not(.no-default-hover-elevate),\n  .active-elevate:not(.no-default-active-elevate),\n  .hover-elevate-2:not(.no-default-hover-elevate),\n  .active-elevate-2:not(.no-default-active-elevate) {\n    position: relative;\n    z-index: 0;\n  }\n\n  .hover-elevate:not(.no-default-hover-elevate)::after,\n  .active-elevate:not(.no-default-active-elevate)::after,\n  .hover-elevate-2:not(.no-default-hover-elevate)::after,\n  .active-elevate-2:not(.no-default-active-elevate)::after {\n    content: \"\";\n    pointer-events: none;\n    position: absolute;\n    inset: 0px;\n    /*border-radius: inherit;   match rounded corners */\n    border-radius: inherit;\n    z-index: 999;\n    /* sits in front of content */\n  }\n\n  .hover-elevate:hover:not(.no-default-hover-elevate)::after,\n  .active-elevate:active:not(.no-default-active-elevate)::after {\n    background-color: var(--elevate-1);\n  }\n\n  .hover-elevate-2:hover:not(.no-default-hover-elevate)::after,\n  .active-elevate-2:active:not(.no-default-active-elevate)::after {\n    background-color: var(--elevate-2);\n  }\n\n  /* If there's a 1px border, adjust the inset so that it covers that parent's border */\n  .border.hover-elevate:not(.no-hover-interaction-elevate)::after,\n  .border.active-elevate:not(.no-active-interaction-elevate)::after,\n  .border.hover-elevate-2:not(.no-hover-interaction-elevate)::after,\n  .border.active-elevate-2:not(.no-active-interaction-elevate)::after,\n  .border.hover-elevate:not(.no-hover-interaction-elevate)::after {\n    inset: -1px;\n  }\n}\n","path":null,"size_bytes":10530,"size_tokens":null},"client/src/pages/not-found.tsx":{"content":"import { Card, CardContent } from \"@/components/ui/card\";\nimport { AlertCircle } from \"lucide-react\";\n\nexport default function NotFound() {\n  return (\n    <div className=\"min-h-screen w-full flex items-center justify-center bg-gray-50\">\n      <Card className=\"w-full max-w-md mx-4\">\n        <CardContent className=\"pt-6\">\n          <div className=\"flex mb-4 gap-2\">\n            <AlertCircle className=\"h-8 w-8 text-red-500\" />\n            <h1 className=\"text-2xl font-bold text-gray-900\">404 Page Not Found</h1>\n          </div>\n\n          <p className=\"mt-4 text-sm text-gray-600\">\n            Did you forget to add the page to the router?\n          </p>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n","path":null,"size_bytes":711,"size_tokens":null},"vite.config.ts":{"content":"import { defineConfig } from \"vite\";\nimport react from \"@vitejs/plugin-react\";\nimport path from \"path\";\nimport runtimeErrorOverlay from \"@replit/vite-plugin-runtime-error-modal\";\n\nexport default defineConfig({\n  plugins: [\n    react(),\n    runtimeErrorOverlay(),\n    ...(process.env.NODE_ENV !== \"production\" &&\n    process.env.REPL_ID !== undefined\n      ? [\n          await import(\"@replit/vite-plugin-cartographer\").then((m) =>\n            m.cartographer(),\n          ),\n          await import(\"@replit/vite-plugin-dev-banner\").then((m) =>\n            m.devBanner(),\n          ),\n        ]\n      : []),\n  ],\n  resolve: {\n    alias: {\n      \"@\": path.resolve(import.meta.dirname, \"client\", \"src\"),\n      \"@shared\": path.resolve(import.meta.dirname, \"shared\"),\n      \"@assets\": path.resolve(import.meta.dirname, \"attached_assets\"),\n    },\n  },\n  root: path.resolve(import.meta.dirname, \"client\"),\n  build: {\n    outDir: path.resolve(import.meta.dirname, \"dist/public\"),\n    emptyOutDir: true,\n  },\n  server: {\n    fs: {\n      strict: true,\n      deny: [\"**/.*\"],\n    },\n  },\n});\n","path":null,"size_bytes":1080,"size_tokens":null},"client/src/components/ui/drawer.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport { Drawer as DrawerPrimitive } from \"vaul\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Drawer = ({\n  shouldScaleBackground = true,\n  ...props\n}: React.ComponentProps<typeof DrawerPrimitive.Root>) => (\n  <DrawerPrimitive.Root\n    shouldScaleBackground={shouldScaleBackground}\n    {...props}\n  />\n)\nDrawer.displayName = \"Drawer\"\n\nconst DrawerTrigger = DrawerPrimitive.Trigger\n\nconst DrawerPortal = DrawerPrimitive.Portal\n\nconst DrawerClose = DrawerPrimitive.Close\n\nconst DrawerOverlay = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Overlay\n    ref={ref}\n    className={cn(\"fixed inset-0 z-50 bg-black/80\", className)}\n    {...props}\n  />\n))\nDrawerOverlay.displayName = DrawerPrimitive.Overlay.displayName\n\nconst DrawerContent = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DrawerPortal>\n    <DrawerOverlay />\n    <DrawerPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background\",\n        className\n      )}\n      {...props}\n    >\n      <div className=\"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted\" />\n      {children}\n    </DrawerPrimitive.Content>\n  </DrawerPortal>\n))\nDrawerContent.displayName = \"DrawerContent\"\n\nconst DrawerHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\"grid gap-1.5 p-4 text-center sm:text-left\", className)}\n    {...props}\n  />\n)\nDrawerHeader.displayName = \"DrawerHeader\"\n\nconst DrawerFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\"mt-auto flex flex-col gap-2 p-4\", className)}\n    {...props}\n  />\n)\nDrawerFooter.displayName = \"DrawerFooter\"\n\nconst DrawerTitle = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Title\n    ref={ref}\n    className={cn(\n      \"text-lg font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nDrawerTitle.displayName = DrawerPrimitive.Title.displayName\n\nconst DrawerDescription = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nDrawerDescription.displayName = DrawerPrimitive.Description.displayName\n\nexport {\n  Drawer,\n  DrawerPortal,\n  DrawerOverlay,\n  DrawerTrigger,\n  DrawerClose,\n  DrawerContent,\n  DrawerHeader,\n  DrawerFooter,\n  DrawerTitle,\n  DrawerDescription,\n}\n","path":null,"size_bytes":3021,"size_tokens":null},"services/gateway/app.py":{"content":"from flask import Flask, render_template, request, redirect, url_for, session, flash, jsonify, send_file\nfrom functools import wraps\nimport os\nimport sys\nimport json\n\nsys.path.insert(0, os.path.dirname(os.path.dirname(os.path.abspath(__file__))))\n\nfrom shared.models import db, User, Resume, Analysis, JobMatch, CareerRoadmap\nfrom shared.config import Config\nfrom auth_service.auth import hash_password, verify_password\nfrom resume_service.file_processor import extract_text_from_file, get_mime_type\nfrom ai_service.gemini import (\n    analyze_resume,\n    analyze_job_match,\n    generate_job_description,\n    generate_final_verdict,\n    generate_tailored_resume,\n    generate_career_roadmap\n)\n\nfrom reportlab.lib.pagesizes import letter\nfrom reportlab.platypus import SimpleDocTemplate, Paragraph, Spacer\nfrom reportlab.lib.styles import getSampleStyleSheet, ParagraphStyle\nfrom reportlab.lib.enums import TA_LEFT\nfrom reportlab.lib import colors\nimport io\nimport re\n\n\ndef create_app():\n    app = Flask(__name__, template_folder='templates', static_folder='static')\n    app.config['SECRET_KEY'] = Config.SECRET_KEY\n    app.config['SQLALCHEMY_DATABASE_URI'] = Config.DATABASE_URL\n    app.config['SQLALCHEMY_TRACK_MODIFICATIONS'] = False\n    app.config['MAX_CONTENT_LENGTH'] = Config.MAX_UPLOAD_SIZE\n    app.config['SQLALCHEMY_ENGINE_OPTIONS'] = {\n        'pool_pre_ping': True,\n        'pool_recycle': 300,\n        'pool_size': 5,\n        'max_overflow': 10,\n    }\n    \n    db.init_app(app)\n    \n    with app.app_context():\n        db.create_all()\n    \n    return app\n\n\napp = create_app()\n\n\ndef login_required(f):\n    @wraps(f)\n    def decorated_function(*args, **kwargs):\n        if 'user_id' not in session:\n            flash('Please log in to access this page.', 'error')\n            return redirect(url_for('login'))\n        return f(*args, **kwargs)\n    return decorated_function\n\n\ndef get_current_user():\n    if 'user_id' in session:\n        return User.query.get(session['user_id'])\n    return None\n\n\n@app.route('/')\ndef index():\n    if 'user_id' in session:\n        return redirect(url_for('dashboard'))\n    return render_template('index.html')\n\n\n@app.route('/register', methods=['GET', 'POST'])\ndef register():\n    if request.method == 'POST':\n        username = request.form.get('username', '').strip()\n        password = request.form.get('password', '')\n        confirm_password = request.form.get('confirm_password', '')\n        \n        if not username or not password:\n            flash('Username and password are required.', 'error')\n            return render_template('register.html')\n        \n        if password != confirm_password:\n            flash('Passwords do not match.', 'error')\n            return render_template('register.html')\n        \n        if len(password) < 6:\n            flash('Password must be at least 6 characters.', 'error')\n            return render_template('register.html')\n        \n        existing_user = User.query.filter_by(username=username).first()\n        if existing_user:\n            flash('Username already exists.', 'error')\n            return render_template('register.html')\n        \n        user = User(username=username, password_hash=hash_password(password))\n        db.session.add(user)\n        db.session.commit()\n        \n        session['user_id'] = user.id\n        flash('Account created successfully!', 'success')\n        return redirect(url_for('dashboard'))\n    \n    return render_template('register.html')\n\n\n@app.route('/login', methods=['GET', 'POST'])\ndef login():\n    if request.method == 'POST':\n        username = request.form.get('username', '').strip()\n        password = request.form.get('password', '')\n        \n        user = User.query.filter_by(username=username).first()\n        \n        if user and verify_password(password, user.password_hash):\n            session['user_id'] = user.id\n            flash('Logged in successfully!', 'success')\n            return redirect(url_for('dashboard'))\n        \n        flash('Invalid username or password.', 'error')\n    \n    return render_template('login.html')\n\n\n@app.route('/logout')\ndef logout():\n    session.pop('user_id', None)\n    flash('Logged out successfully.', 'success')\n    return redirect(url_for('index'))\n\n\n@app.route('/dashboard')\n@login_required\ndef dashboard():\n    user = get_current_user()\n    resumes = Resume.query.filter_by(user_id=user.id).order_by(Resume.created_at.desc()).all()\n    latest_resume = resumes[0] if resumes else None\n    latest_analysis = None\n    if latest_resume:\n        latest_analysis = Analysis.query.filter_by(resume_id=latest_resume.id).first()\n    return render_template('dashboard.html', user=user, resumes=resumes, \n                         latest_resume=latest_resume, latest_analysis=latest_analysis)\n\n\n@app.route('/upload-resume', methods=['POST'])\n@login_required\ndef upload_resume():\n    user = get_current_user()\n    \n    if 'file' not in request.files:\n        flash('No file uploaded.', 'error')\n        return redirect(url_for('dashboard'))\n    \n    file = request.files['file']\n    if file.filename == '':\n        flash('No file selected.', 'error')\n        return redirect(url_for('dashboard'))\n    \n    if not Config.allowed_file(file.filename):\n        flash('Invalid file type. Please upload PDF, DOCX, PNG, JPG, or TXT.', 'error')\n        return redirect(url_for('dashboard'))\n    \n    try:\n        file_content = file.read()\n        mime_type = get_mime_type(file.filename)\n        extracted_text = extract_text_from_file(file_content, mime_type)\n        \n        if not extracted_text or len(extracted_text.strip()) < 50:\n            flash('Could not extract sufficient text from the file.', 'error')\n            return redirect(url_for('dashboard'))\n        \n        resume = Resume(\n            user_id=user.id,\n            filename=file.filename,\n            filesize=len(file_content),\n            mime_type=mime_type,\n            extracted_text=extracted_text\n        )\n        db.session.add(resume)\n        db.session.commit()\n        \n        flash('Resume uploaded successfully!', 'success')\n        return redirect(url_for('dashboard'))\n    \n    except Exception as e:\n        flash(f'Error processing file: {str(e)}', 'error')\n        return redirect(url_for('dashboard'))\n\n\n@app.route('/analyze-resume/<resume_id>')\n@login_required\ndef analyze_resume_route(resume_id):\n    user = get_current_user()\n    resume = Resume.query.filter_by(id=resume_id, user_id=user.id).first()\n    \n    if not resume:\n        flash('Resume not found.', 'error')\n        return redirect(url_for('dashboard'))\n    \n    existing_analysis = Analysis.query.filter_by(resume_id=resume_id).first()\n    if existing_analysis:\n        return redirect(url_for('analysis_results', analysis_id=existing_analysis.id))\n    \n    try:\n        result = analyze_resume(resume.extracted_text)\n        \n        analysis = Analysis(\n            resume_id=resume_id,\n            completeness_score=result['completenessScore'],\n            completeness_rationale=result['completenessRationale'],\n            section_scores=result['sectionScores'],\n            suggestions=result['suggestions']\n        )\n        db.session.add(analysis)\n        db.session.commit()\n        \n        return redirect(url_for('analysis_results', analysis_id=analysis.id))\n    \n    except Exception as e:\n        flash(f'Error analyzing resume: {str(e)}', 'error')\n        return redirect(url_for('dashboard'))\n\n\n@app.route('/analysis/<analysis_id>')\n@login_required\ndef analysis_results(analysis_id):\n    user = get_current_user()\n    analysis = Analysis.query.get(analysis_id)\n    \n    if not analysis:\n        flash('Analysis not found.', 'error')\n        return redirect(url_for('dashboard'))\n    \n    resume = Resume.query.get(analysis.resume_id)\n    if resume.user_id != user.id:\n        flash('Access denied.', 'error')\n        return redirect(url_for('dashboard'))\n    \n    return render_template('analysis.html', analysis=analysis, resume=resume, user=user)\n\n\n@app.route('/job-match')\n@login_required\ndef job_match():\n    user = get_current_user()\n    resumes = Resume.query.filter_by(user_id=user.id).order_by(Resume.created_at.desc()).all()\n    return render_template('job_match.html', user=user, resumes=resumes)\n\n\n@app.route('/job-match/analyze', methods=['POST'])\n@login_required\ndef job_match_analyze():\n    user = get_current_user()\n    \n    mode = request.form.get('mode', 'custom')\n    job_description = request.form.get('job_description', '')\n    job_role = request.form.get('job_role', '')\n    job_location = request.form.get('job_location', '')\n    \n    latest_resume = Resume.query.filter_by(user_id=user.id).order_by(Resume.created_at.desc()).first()\n    \n    if not latest_resume:\n        flash('Please upload a resume first.', 'error')\n        return redirect(url_for('job_match'))\n    \n    try:\n        if mode == 'curated' and job_role and job_location:\n            job_description = generate_job_description(job_role, job_location)\n        \n        if not job_description:\n            flash('Please provide a job description.', 'error')\n            return redirect(url_for('job_match'))\n        \n        result = analyze_job_match(latest_resume.extracted_text, job_description)\n        \n        job_match_record = JobMatch(\n            resume_id=latest_resume.id,\n            job_description=job_description,\n            job_role=job_role if mode == 'curated' else None,\n            job_location=job_location if mode == 'curated' else None,\n            alignment_score=result['alignmentScore'],\n            alignment_rationale=result['alignmentRationale'],\n            gaps=result['gaps'],\n            strengths=result['strengths']\n        )\n        db.session.add(job_match_record)\n        db.session.commit()\n        \n        return redirect(url_for('job_match_results', match_id=job_match_record.id))\n    \n    except Exception as e:\n        flash(f'Error analyzing job match: {str(e)}', 'error')\n        return redirect(url_for('job_match'))\n\n\n@app.route('/job-match/<match_id>')\n@login_required\ndef job_match_results(match_id):\n    user = get_current_user()\n    match = JobMatch.query.get(match_id)\n    \n    if not match:\n        flash('Job match not found.', 'error')\n        return redirect(url_for('job_match'))\n    \n    resume = Resume.query.get(match.resume_id)\n    if resume.user_id != user.id:\n        flash('Access denied.', 'error')\n        return redirect(url_for('job_match'))\n    \n    return render_template('job_match_results.html', match=match, resume=resume, user=user)\n\n\n@app.route('/job-match/<match_id>/submit-gaps', methods=['POST'])\n@login_required\ndef submit_gap_responses(match_id):\n    user = get_current_user()\n    match = JobMatch.query.get(match_id)\n    \n    if not match:\n        return jsonify({'error': 'Job match not found'}), 404\n    \n    resume = Resume.query.get(match.resume_id)\n    if resume.user_id != user.id:\n        return jsonify({'error': 'Access denied'}), 403\n    \n    try:\n        gap_responses = request.json.get('gapResponses', [])\n        \n        verdict_result = generate_final_verdict(\n            resume.extracted_text,\n            match.job_description,\n            match.alignment_score,\n            match.gaps,\n            gap_responses\n        )\n        \n        match.gap_responses = gap_responses\n        match.final_verdict = verdict_result['verdict']\n        match.should_apply = verdict_result['shouldApply']\n        db.session.commit()\n        \n        return jsonify({\n            'success': True,\n            'finalVerdict': verdict_result['verdict'],\n            'shouldApply': verdict_result['shouldApply']\n        })\n    \n    except Exception as e:\n        return jsonify({'error': str(e)}), 500\n\n\n@app.route('/job-match/<match_id>/generate-resume', methods=['POST'])\n@login_required\ndef generate_tailored_resume_route(match_id):\n    user = get_current_user()\n    match = JobMatch.query.get(match_id)\n    \n    if not match:\n        return jsonify({'error': 'Job match not found'}), 404\n    \n    resume = Resume.query.get(match.resume_id)\n    if resume.user_id != user.id:\n        return jsonify({'error': 'Access denied'}), 403\n    \n    try:\n        result = generate_tailored_resume(\n            resume.extracted_text,\n            match.job_description,\n            match.strengths,\n            match.gaps,\n            match.gap_responses or []\n        )\n        \n        match.changes_summary = result['changesSummary']\n        match.tailored_resume_content = result['resumeMarkdown']\n        db.session.commit()\n        \n        return jsonify({\n            'success': True,\n            'changesSummary': result['changesSummary'],\n            'resumeContent': result['resumeMarkdown']\n        })\n    \n    except Exception as e:\n        return jsonify({'error': str(e)}), 500\n\n\n@app.route('/job-match/<match_id>/download-pdf')\n@login_required\ndef download_tailored_resume_pdf(match_id):\n    user = get_current_user()\n    match = JobMatch.query.get(match_id)\n    \n    if not match or not match.tailored_resume_content:\n        flash('Tailored resume not found.', 'error')\n        return redirect(url_for('job_match'))\n    \n    resume = Resume.query.get(match.resume_id)\n    if resume.user_id != user.id:\n        flash('Access denied.', 'error')\n        return redirect(url_for('job_match'))\n    \n    content = match.tailored_resume_content\n    \n    try:\n        resume_data = json.loads(content)\n        return generate_pdf_from_json(resume_data)\n    except json.JSONDecodeError:\n        return generate_pdf_from_text(content)\n\n\ndef generate_pdf_from_json(data):\n    from reportlab.lib.units import inch\n    from reportlab.platypus import Spacer\n    \n    header = data.get('header', {})\n    sections = data.get('sections', [])\n    \n    name = header.get('name', 'Resume')\n    safe_name = re.sub(r'[^\\w\\s-]', '', name).replace(' ', '_')\n    filename = f\"{safe_name}_tailored_resume.pdf\"\n    \n    buffer = io.BytesIO()\n    doc = SimpleDocTemplate(buffer, pagesize=letter, rightMargin=50, leftMargin=50, topMargin=36, bottomMargin=36)\n    \n    styles = getSampleStyleSheet()\n    styles.add(ParagraphStyle(name='ResumeName', fontSize=16, spaceAfter=0, alignment=1, fontName='Helvetica-Bold'))\n    styles.add(ParagraphStyle(name='ResumeTitle', fontSize=10, spaceAfter=4, alignment=1, fontName='Helvetica', textColor=colors.HexColor('#555555')))\n    styles.add(ParagraphStyle(name='ContactLine', fontSize=9, spaceAfter=2, alignment=1, textColor=colors.HexColor('#333333')))\n    styles.add(ParagraphStyle(name='LinksLine', fontSize=9, spaceAfter=6, alignment=1, textColor=colors.HexColor('#0066cc')))\n    styles.add(ParagraphStyle(name='SectionHeader', fontSize=10, spaceAfter=4, spaceBefore=10, fontName='Helvetica-Bold'))\n    styles.add(ParagraphStyle(name='ResumeBody', fontSize=9, leading=12, fontName='Helvetica'))\n    styles.add(ParagraphStyle(name='BulletItem', fontSize=9, leading=12, leftIndent=15, fontName='Helvetica'))\n    styles.add(ParagraphStyle(name='JobTitleLine', fontSize=9, leading=12, fontName='Helvetica-Bold', spaceBefore=6))\n    styles.add(ParagraphStyle(name='SkillLine', fontSize=9, leading=12, fontName='Helvetica'))\n    \n    story = []\n    \n    if name:\n        story.append(Paragraph(name, styles['ResumeName']))\n        story.append(Spacer(1, 8))\n    \n    titles = header.get('titles', [])\n    if titles:\n        story.append(Paragraph(' | '.join(titles), styles['ResumeTitle']))\n    \n    contact_parts = []\n    if header.get('email'):\n        contact_parts.append(header['email'])\n    if header.get('phone'):\n        contact_parts.append(header['phone'])\n    if header.get('location'):\n        contact_parts.append(header['location'])\n    if contact_parts:\n        story.append(Paragraph(' | '.join(contact_parts), styles['ContactLine']))\n    \n    link_html = []\n    if header.get('linkedin'):\n        url = make_url(header['linkedin'])\n        link_html.append(f'<a href=\"{url}\" color=\"#0066cc\">LinkedIn</a>')\n    if header.get('github'):\n        url = make_url(header['github'])\n        link_html.append(f'<a href=\"{url}\" color=\"#0066cc\">GitHub</a>')\n    if header.get('kaggle'):\n        url = make_url(header['kaggle'])\n        link_html.append(f'<a href=\"{url}\" color=\"#0066cc\">Kaggle</a>')\n    if header.get('medium'):\n        url = make_url(header['medium'])\n        link_html.append(f'<a href=\"{url}\" color=\"#0066cc\">Medium</a>')\n    if header.get('google_scholar'):\n        url = make_url(header['google_scholar'])\n        link_html.append(f'<a href=\"{url}\" color=\"#0066cc\">Google Scholar</a>')\n    \n    if link_html:\n        story.append(Paragraph(' | '.join(link_html), styles['LinksLine']))\n    \n    for section in sections:\n        title = section.get('title', '')\n        section_type = section.get('type', 'paragraph')\n        content = section.get('content', '')\n        \n        story.append(Paragraph(title.upper(), styles['SectionHeader']))\n        \n        if section_type == 'paragraph':\n            text = content.replace('L ATEX', 'LaTeX') if isinstance(content, str) else str(content)\n            story.append(Paragraph(text, styles['ResumeBody']))\n        \n        elif section_type == 'skills':\n            if isinstance(content, list):\n                for skill in content:\n                    cat = skill.get('category', '')\n                    items = skill.get('items', '')\n                    items = items.replace('L ATEX', 'LaTeX') if isinstance(items, str) else str(items)\n                    story.append(Paragraph(f\"<b>{cat}:</b> {items}\", styles['SkillLine']))\n        \n        elif section_type == 'inline':\n            text = content.replace('L ATEX', 'LaTeX') if isinstance(content, str) else str(content)\n            story.append(Paragraph(text, styles['ResumeBody']))\n        \n        elif section_type == 'jobs':\n            if isinstance(content, list):\n                for job in content:\n                    job_title = job.get('job_title', '')\n                    company = job.get('company', '')\n                    location = job.get('location', '')\n                    dates = job.get('dates', '')\n                    header_line = f\"{job_title} | {company} | {location} | {dates}\"\n                    story.append(Paragraph(header_line, styles['JobTitleLine']))\n                    for bullet in job.get('bullets', []):\n                        bullet = bullet.replace('L ATEX', 'LaTeX') if isinstance(bullet, str) else str(bullet)\n                        story.append(Paragraph(f\"• {bullet}\", styles['BulletItem']))\n        \n        elif section_type == 'education':\n            if isinstance(content, list):\n                for edu in content:\n                    degree = edu.get('degree', '')\n                    institution = edu.get('institution', '')\n                    dates = edu.get('dates', '')\n                    header_line = f\"{degree} | {institution} | {dates}\"\n                    story.append(Paragraph(header_line, styles['JobTitleLine']))\n                    for bullet in edu.get('bullets', []):\n                        bullet = bullet.replace('L ATEX', 'LaTeX') if isinstance(bullet, str) else str(bullet)\n                        story.append(Paragraph(f\"• {bullet}\", styles['BulletItem']))\n        \n        elif section_type == 'bullets':\n            if isinstance(content, list):\n                for item in content:\n                    item = item.replace('L ATEX', 'LaTeX') if isinstance(item, str) else str(item)\n                    story.append(Paragraph(f\"• {item}\", styles['BulletItem']))\n    \n    doc.build(story)\n    buffer.seek(0)\n    \n    return send_file(buffer, as_attachment=True, download_name=filename, mimetype='application/pdf')\n\n\ndef generate_pdf_from_text(content):\n    content = content.replace('L ATEX', 'LaTeX').replace('LATEX', 'LaTeX')\n    lines = [l.strip() for l in content.split('\\n')]\n    \n    user_name = extract_name_from_resume(content)\n    filename = f\"{user_name}_tailored_resume.pdf\"\n    \n    buffer = io.BytesIO()\n    doc = SimpleDocTemplate(buffer, pagesize=letter, rightMargin=50, leftMargin=50, topMargin=36, bottomMargin=36)\n    \n    styles = getSampleStyleSheet()\n    styles.add(ParagraphStyle(name='ResumeName', fontSize=16, spaceAfter=8, alignment=1, fontName='Helvetica-Bold'))\n    styles.add(ParagraphStyle(name='ResumeTitle', fontSize=10, spaceAfter=4, alignment=1, fontName='Helvetica', textColor=colors.HexColor('#555555')))\n    styles.add(ParagraphStyle(name='ContactLine', fontSize=9, spaceAfter=2, alignment=1, textColor=colors.HexColor('#333333')))\n    styles.add(ParagraphStyle(name='LinksLine', fontSize=9, spaceAfter=6, alignment=1, textColor=colors.HexColor('#0066cc')))\n    styles.add(ParagraphStyle(name='SectionHeader', fontSize=10, spaceAfter=4, spaceBefore=10, fontName='Helvetica-Bold'))\n    styles.add(ParagraphStyle(name='ResumeBody', fontSize=9, leading=12, fontName='Helvetica'))\n    styles.add(ParagraphStyle(name='BulletItem', fontSize=9, leading=12, leftIndent=15, fontName='Helvetica'))\n    styles.add(ParagraphStyle(name='JobTitleLine', fontSize=9, leading=12, fontName='Helvetica-Bold', spaceBefore=6))\n    \n    story = []\n    section_keywords = ['PROFESSIONAL SUMMARY', 'SUMMARY', 'SKILLS', 'TECHNICAL SKILLS', \n                        'EXPERIENCE', 'PROFESSIONAL EXPERIENCE', 'WORK EXPERIENCE',\n                        'EDUCATION', 'CERTIFICATIONS', 'PROJECTS', 'AWARDS', \n                        'PROFESSIONAL MEMBERSHIP', 'LEADERSHIP', 'VOLUNTEERING', \n                        'PUBLICATIONS', 'LANGUAGES', 'INTERESTS']\n    \n    name = None\n    title = None\n    contact = None\n    links_text = None\n    header_end_idx = 0\n    \n    for i, line in enumerate(lines):\n        if not line:\n            continue\n        is_section = any(line.upper() == kw or line.upper().startswith(kw + ',') for kw in section_keywords)\n        if is_section:\n            header_end_idx = i\n            break\n        has_email = '@' in line and '.' in line\n        has_phone = bool(re.search(r'\\(\\d{3}\\)\\s*\\d{3}[-.]?\\d{4}|\\d{3}[-.]?\\d{3}[-.]?\\d{4}', line))\n        has_links = any(x in line.lower() for x in ['linkedin', 'github', 'kaggle', 'medium', 'scholar'])\n        \n        if not name and not has_email and not has_phone and not has_links:\n            name = re.sub(r'[#*]', '', line).strip()\n            continue\n        if name and not title and '|' in line and not has_email and not has_phone and not has_links:\n            title = line\n            continue\n        if has_email or has_phone:\n            parts = [p.strip() for p in line.split('|')]\n            contact_parts = [p for p in parts if not any(x in p.lower() for x in ['linkedin', 'github', 'kaggle', 'medium', 'scholar'])]\n            link_parts = [p for p in parts if any(x in p.lower() for x in ['linkedin', 'github', 'kaggle', 'medium', 'scholar'])]\n            if contact_parts:\n                contact = ' | '.join(contact_parts)\n            if link_parts:\n                links_text = ' | '.join(link_parts)\n            continue\n        if has_links:\n            links_text = (links_text + ' | ' + line) if links_text else line\n            continue\n    \n    if name:\n        story.append(Paragraph(name, styles['ResumeName']))\n    if title:\n        story.append(Paragraph(title, styles['ResumeTitle']))\n    if contact:\n        story.append(Paragraph(contact, styles['ContactLine']))\n    if links_text:\n        link_parts = [p.strip() for p in links_text.split('|')]\n        link_html = []\n        for part in link_parts:\n            if part:\n                if 'scholar' in part.lower():\n                    url = make_url(part)\n                    link_html.append(f'<a href=\"{url}\" color=\"#0066cc\">Google Scholar</a>')\n                else:\n                    url = make_url(part)\n                    display = get_link_display(part)\n                    link_html.append(f'<a href=\"{url}\" color=\"#0066cc\">{display}</a>')\n        if link_html:\n            story.append(Paragraph(' | '.join(link_html), styles['LinksLine']))\n    \n    current_section = None\n    for i, line in enumerate(lines):\n        if i < header_end_idx or not line:\n            continue\n        is_section = any(line.upper() == kw or line.upper().startswith(kw + ',') or line.upper().startswith(kw + ' ') for kw in section_keywords)\n        if is_section:\n            story.append(Paragraph(line.upper(), styles['SectionHeader']))\n            current_section = line.upper()\n            continue\n        if not current_section:\n            continue\n        if line.startswith('•') or line.startswith('-') or line.startswith('*'):\n            bullet_text = line.lstrip('•-* ').strip()\n            story.append(Paragraph(f\"• {bullet_text}\", styles['BulletItem']))\n            continue\n        is_job_line = '|' in line and any(x in line for x in ['–', '—', 'Present', '2019', '2020', '2021', '2022', '2023', '2024', '2025'])\n        if is_job_line and 'EDUCATION' not in current_section:\n            story.append(Paragraph(line, styles['JobTitleLine']))\n            continue\n        if 'EDUCATION' in current_section and ('–' in line or '—' in line or any(f'{y}' in line for y in range(2004, 2026))):\n            story.append(Paragraph(line, styles['JobTitleLine']))\n            continue\n        story.append(Paragraph(line, styles['ResumeBody']))\n    \n    doc.build(story)\n    buffer.seek(0)\n    return send_file(buffer, as_attachment=True, download_name=filename, mimetype='application/pdf')\n\n\ndef make_url(text):\n    text_lower = text.lower().strip()\n    if 'linkedin.com' in text_lower:\n        match = re.search(r'linkedin\\.com/in/[^\\s\\|]+', text_lower)\n        return 'https://' + match.group(0).rstrip('/') if match else 'https://linkedin.com'\n    if 'github.com' in text_lower:\n        match = re.search(r'github\\.com/[^\\s\\|]+', text_lower)\n        return 'https://' + match.group(0).rstrip('/') if match else 'https://github.com'\n    if 'kaggle.com' in text_lower:\n        match = re.search(r'kaggle\\.com/[^\\s\\|]+', text_lower)\n        return 'https://' + match.group(0).rstrip('/') if match else 'https://kaggle.com'\n    if 'medium.com' in text_lower:\n        match = re.search(r'medium\\.com/@?[^\\s\\|]+', text_lower)\n        return 'https://' + match.group(0).rstrip('/') if match else 'https://medium.com'\n    if 'scholar' in text_lower:\n        return 'https://scholar.google.com'\n    if text_lower.startswith('http'):\n        return text.strip()\n    return 'https://' + text.strip()\n\n\ndef get_link_display(text):\n    t = text.lower()\n    if 'linkedin' in t: return 'LinkedIn'\n    if 'github' in t: return 'GitHub'\n    if 'kaggle' in t: return 'Kaggle'\n    if 'medium' in t: return 'Medium'\n    if 'scholar' in t: return 'Google Scholar'\n    return text.strip()\n\n\ndef extract_name_from_resume(content: str) -> str:\n    lines = content.split('\\n')\n    section_headers = ['PROFESSIONAL SUMMARY', 'SKILLS', 'EXPERIENCE', 'EDUCATION', 'SECTION']\n    for line in lines:\n        line = line.strip()\n        if not line:\n            continue\n        line_upper = line.upper()\n        if any(line_upper.startswith(h) for h in section_headers):\n            continue\n        if '|' in line or '@' in line:\n            continue\n        name = re.sub(r'[#*]', '', line).strip()\n        name = re.sub(r'[^\\w\\s]', '', name).strip()\n        if name and len(name) > 2:\n            return name\n    return 'User'\n\n\n@app.route('/career-roadmap')\n@login_required\ndef career_roadmap():\n    user = get_current_user()\n    resumes = Resume.query.filter_by(user_id=user.id).order_by(Resume.created_at.desc()).all()\n    roadmaps = CareerRoadmap.query.filter_by(user_id=user.id).order_by(CareerRoadmap.created_at.desc()).all()\n    return render_template('career_roadmap.html', user=user, resumes=resumes, roadmaps=roadmaps)\n\n\n@app.route('/career-roadmap/generate', methods=['POST'])\n@login_required\ndef generate_roadmap():\n    user = get_current_user()\n    \n    dream_role = request.form.get('dream_role', '').strip()\n    dream_location = request.form.get('dream_location', '').strip()\n    timeframe = request.form.get('timeframe', '1 year')\n    \n    if not dream_role or not dream_location:\n        flash('Please provide your dream role and location.', 'error')\n        return redirect(url_for('career_roadmap'))\n    \n    latest_resume = Resume.query.filter_by(user_id=user.id).order_by(Resume.created_at.desc()).first()\n    \n    if not latest_resume:\n        flash('Please upload a resume first.', 'error')\n        return redirect(url_for('career_roadmap'))\n    \n    try:\n        result = generate_career_roadmap(\n            latest_resume.extracted_text,\n            dream_role,\n            dream_location,\n            timeframe\n        )\n        \n        roadmap = CareerRoadmap(\n            user_id=user.id,\n            resume_id=latest_resume.id,\n            dream_role=dream_role,\n            dream_location=dream_location,\n            timeframe=timeframe,\n            current_gaps=result['currentGaps'],\n            skills_to_acquire=result['skillsToAcquire'],\n            action_plan=result['actionPlan'],\n            resources=result['resources'],\n            milestones=result['milestones']\n        )\n        db.session.add(roadmap)\n        db.session.commit()\n        \n        return redirect(url_for('career_roadmap_results', roadmap_id=roadmap.id))\n    \n    except Exception as e:\n        flash(f'Error generating roadmap: {str(e)}', 'error')\n        return redirect(url_for('career_roadmap'))\n\n\n@app.route('/career-roadmap/<roadmap_id>')\n@login_required\ndef career_roadmap_results(roadmap_id):\n    user = get_current_user()\n    roadmap = CareerRoadmap.query.get(roadmap_id)\n    \n    if not roadmap or roadmap.user_id != user.id:\n        flash('Roadmap not found.', 'error')\n        return redirect(url_for('career_roadmap'))\n    \n    return render_template('career_roadmap_results.html', roadmap=roadmap, user=user)\n\n\n@app.errorhandler(404)\ndef not_found_error(error):\n    return render_template('404.html'), 404\n\n\n@app.errorhandler(500)\ndef internal_error(error):\n    db.session.rollback()\n    return render_template('500.html'), 500\n\n\nif __name__ == '__main__':\n    app.run(host='0.0.0.0', port=5000, debug=True)\n","path":null,"size_bytes":30172,"size_tokens":null},"services/shared/config.py":{"content":"import os\nfrom dotenv import load_dotenv\n\nload_dotenv()\n\nclass Config:\n    DATABASE_URL = os.getenv(\"DATABASE_URL\")\n    SECRET_KEY = os.getenv(\"SESSION_SECRET\", \"your-secret-key-change-in-production\")\n    GEMINI_API_KEY = os.getenv(\"GEMINI_API_KEY\")\n    \n    MAX_UPLOAD_SIZE = 10 * 1024 * 1024\n    ALLOWED_EXTENSIONS = {'pdf', 'docx', 'png', 'jpg', 'jpeg', 'txt'}\n    \n    @staticmethod\n    def allowed_file(filename):\n        return '.' in filename and filename.rsplit('.', 1)[1].lower() in Config.ALLOWED_EXTENSIONS\n","path":null,"size_bytes":518,"size_tokens":null},"services/ai_service/gemini.py":{"content":"import google.generativeai as genai\nimport json\nimport os\nimport re\nfrom typing import Dict, List, Any\n\ngemini_api_key = os.getenv(\"GEMINI_API_KEY\")\nif gemini_api_key:\n    genai.configure(api_key=gemini_api_key)\n\nmodel = genai.GenerativeModel('gemini-2.0-flash-exp')\n\n\ndef clean_json_response(text: str) -> str:\n    \"\"\"Clean AI response to extract valid JSON.\"\"\"\n    text = text.strip()\n    \n    if text.startswith(\"```json\"):\n        text = text[7:]\n    elif text.startswith(\"```\"):\n        text = text[3:]\n    if text.endswith(\"```\"):\n        text = text[:-3]\n    \n    text = text.strip()\n    \n    brace_start = text.find('{')\n    if brace_start != -1:\n        brace_count = 0\n        end_pos = -1\n        for i, char in enumerate(text[brace_start:], brace_start):\n            if char == '{':\n                brace_count += 1\n            elif char == '}':\n                brace_count -= 1\n                if brace_count == 0:\n                    end_pos = i\n                    break\n        if end_pos != -1:\n            text = text[brace_start:end_pos + 1]\n    \n    return text\n\n\ndef analyze_resume(resume_text: str) -> Dict[str, Any]:\n    from datetime import datetime\n    current_year = datetime.now().year\n    \n    prompt = f\"\"\"You are a brutally honest resume expert and career coach. Act as a recruiter reviewing this resume - be direct about weaknesses.\n\nIMPORTANT: The current year is {current_year}. When calculating years of experience:\n- If someone worked from 2021 to Present/{current_year}, that is {current_year - 2021} years\n- If dates say \"to Present\" or \"to Current\", use {current_year} as the end year\n- Calculate experience accurately based on actual start and end dates\n\nRESUME TEXT:\n{resume_text}\n\nEvaluate the resume across these dimensions:\n\n1. COMPLETENESS SCORE (0-100):\n   - Assess how complete and comprehensive the resume is\n   - Consider: contact info, summary/objective, work experience, education, skills, achievements\n   - Provide a numerical score and brutally honest rationale\n   - When mentioning years of experience, calculate accurately using {current_year} as the current year\n\n2. SECTION QUALITY SCORES (0-5 each):\n   - Summary: Quality and impact of professional summary/objective\n   - Education: Completeness and presentation of educational background\n   - Experience: Depth, relevance, and presentation of work history\n   - Other: Projects, volunteering, awards, skills, certifications\n\n3. IMPROVEMENT SUGGESTIONS (BE BRUTALLY HONEST):\n   - Provide 5-8 specific, actionable suggestions\n   - Call out overused buzzwords\n   - Identify vague statements lacking metrics\n   - Flag weak action verbs\n   - Point out where quantifiable results are missing\n   - DO NOT invent or suggest specific numbers\n\nReturn ONLY valid JSON with this exact structure:\n{{\"completenessScore\": 75, \"completenessRationale\": \"...\", \"sectionScores\": {{\"summary\": 3, \"education\": 4, \"experience\": 3, \"other\": 2}}, \"suggestions\": [\"...\", \"...\"]}}\"\"\"\n\n    try:\n        response = model.generate_content(prompt)\n        text = clean_json_response(response.text)\n        data = json.loads(text)\n        \n        return {\n            \"completenessScore\": min(100, max(0, data.get(\"completenessScore\", 0))),\n            \"completenessRationale\": data.get(\"completenessRationale\", \"No rationale provided\"),\n            \"sectionScores\": {\n                \"summary\": min(5, max(0, data.get(\"sectionScores\", {}).get(\"summary\", 0))),\n                \"education\": min(5, max(0, data.get(\"sectionScores\", {}).get(\"education\", 0))),\n                \"experience\": min(5, max(0, data.get(\"sectionScores\", {}).get(\"experience\", 0))),\n                \"other\": min(5, max(0, data.get(\"sectionScores\", {}).get(\"other\", 0))),\n            },\n            \"suggestions\": data.get(\"suggestions\", [])[:8]\n        }\n    except Exception as e:\n        raise ValueError(f\"Failed to analyze resume: {str(e)}\")\n\n\ndef analyze_job_match(resume_text: str, job_description: str) -> Dict[str, Any]:\n    prompt = f\"\"\"You are an expert career coach. Analyze how well this resume aligns with the job description.\n\nRESUME TEXT:\n{resume_text}\n\nJOB DESCRIPTION:\n{job_description}\n\nProvide a comprehensive match analysis with:\n1. ALIGNMENT SCORE (0-100)\n2. GAPS (3-8 items with category, description, severity: high/medium/low)\n3. STRENGTHS (3-6 items)\n4. RECOMMENDATIONS (5-8 items)\n\nReturn ONLY valid JSON:\n{{\"alignmentScore\": 70, \"alignmentRationale\": \"...\", \"gaps\": [{{\"category\": \"...\", \"description\": \"...\", \"severity\": \"high\"}}], \"strengths\": [\"...\"], \"recommendations\": [\"...\"]}}\"\"\"\n\n    try:\n        response = model.generate_content(prompt)\n        text = clean_json_response(response.text)\n        data = json.loads(text)\n        \n        return {\n            \"alignmentScore\": min(100, max(0, data.get(\"alignmentScore\", 0))),\n            \"alignmentRationale\": data.get(\"alignmentRationale\", \"No rationale provided\"),\n            \"gaps\": data.get(\"gaps\", [])[:8],\n            \"strengths\": data.get(\"strengths\", [])[:6],\n            \"recommendations\": data.get(\"recommendations\", [])[:8]\n        }\n    except Exception as e:\n        raise ValueError(f\"Failed to analyze job match: {str(e)}\")\n\n\ndef generate_job_description(role: str, location: str) -> str:\n    prompt = f\"\"\"Generate a realistic job description for a {role} position in {location}.\n\nInclude:\n- Company overview (generic tech company)\n- Role responsibilities (5-7 key responsibilities)\n- Required qualifications\n- Preferred qualifications\n- Benefits overview\n\nRespond with just the job description text, no JSON.\"\"\"\n\n    try:\n        response = model.generate_content(prompt)\n        return response.text\n    except Exception as e:\n        raise ValueError(f\"Failed to generate job description: {str(e)}\")\n\n\ndef generate_final_verdict(\n    resume_text: str,\n    job_description: str,\n    alignment_score: int,\n    gaps: List[Dict[str, str]],\n    gap_responses: List[Dict[str, Any]]\n) -> Dict[str, Any]:\n    gap_details = []\n    for index, gap in enumerate(gaps):\n        response = next((r for r in gap_responses if r.get(\"gapIndex\") == index), None)\n        proficiency = response.get(\"proficiencyLevel\", \"not provided\") if response else \"not provided\"\n        gap_details.append(f\"{gap['category']} - {gap['description']} (Severity: {gap['severity']}, Proficiency: {proficiency})\")\n    \n    prompt = f\"\"\"You are an expert career coach. Based on the analysis and user's proficiency responses, provide a final recommendation.\n\nALIGNMENT SCORE: {alignment_score}%\n\nGAPS AND PROFICIENCY:\n{chr(10).join(gap_details)}\n\nRESUME (excerpt):\n{resume_text[:2000]}\n\nJOB DESCRIPTION (excerpt):\n{job_description[:2000]}\n\nProvide:\n1. A comprehensive final verdict (2-3 paragraphs) - be encouraging!\n2. A boolean recommendation on whether they should apply (true if score >= 50% or has proficiency in gaps)\n\nReturn ONLY valid JSON:\n{{\"verdict\": \"...\", \"shouldApply\": true}}\"\"\"\n\n    try:\n        response = model.generate_content(prompt)\n        text = clean_json_response(response.text)\n        data = json.loads(text)\n        \n        return {\n            \"verdict\": data.get(\"verdict\", \"Unable to generate verdict.\"),\n            \"shouldApply\": data.get(\"shouldApply\", True)\n        }\n    except Exception as e:\n        raise ValueError(f\"Failed to generate verdict: {str(e)}\")\n\n\ndef generate_tailored_resume(\n    original_resume_text: str,\n    job_description: str,\n    strengths: List[str],\n    gaps: List[Dict[str, str]],\n    gap_responses: List[Dict[str, Any]]\n) -> Dict[str, str]:\n    skills_to_add = []\n    for response in gap_responses:\n        if response.get(\"proficiencyLevel\") in [\"basic\", \"moderate\", \"advanced\"]:\n            gap_idx = response.get(\"gapIndex\", 0)\n            if gap_idx < len(gaps):\n                gap = gaps[gap_idx]\n                skills_to_add.append(f\"- {gap['category']}: {response['proficiencyLevel']} proficiency\")\n    \n    skills_text = chr(10).join(skills_to_add) if skills_to_add else \"None confirmed\"\n    \n    prompt = f\"\"\"You are an expert resume writer. Create a tailored, ATS-optimized resume.\n\nORIGINAL RESUME:\n{original_resume_text}\n\nTARGET JOB:\n{job_description[:2000]}\n\nSTRENGTHS TO HIGHLIGHT:\n{chr(10).join(f'- {s}' for s in strengths)}\n\nSKILLS USER CONFIRMED:\n{skills_text}\n\nRULES:\n- Transform weak verbs: \"responsible for\" → \"led\", \"worked on\" → \"architected\"\n- NEVER invent metrics - only use existing numbers from original resume\n- Preserve ALL sections from original (Volunteering, Awards, Certifications, Memberships, etc.)\n- Keep ALL contact links exactly as they appear\n- Add confirmed skills to Skills section\n- Use LaTeX (not L ATEX) when referencing that tool\n\nRETURN ONLY THIS JSON (no markdown, no extra text):\n{{\n  \"changes_summary\": [\"change 1\", \"change 2\", \"change 3\"],\n  \"header\": {{\n    \"name\": \"Full Name, Ph.D.\",\n    \"titles\": [\"Data Scientist\", \"Computational Physicist\"],\n    \"email\": \"email@example.com\",\n    \"phone\": \"(xxx) xxx-xxxx\",\n    \"location\": \"City, State\",\n    \"linkedin\": \"linkedin.com/in/username\",\n    \"github\": \"github.com/username\",\n    \"kaggle\": \"kaggle.com/username\",\n    \"medium\": \"medium.com/@username\",\n    \"google_scholar\": \"scholar.google.com/citations?user=xxx\"\n  }},\n  \"sections\": [\n    {{\n      \"title\": \"PROFESSIONAL SUMMARY\",\n      \"type\": \"paragraph\",\n      \"content\": \"2-3 sentences here.\"\n    }},\n    {{\n      \"title\": \"TECHNICAL SKILLS\",\n      \"type\": \"skills\",\n      \"content\": [\n        {{\"category\": \"Languages & Tools\", \"items\": \"Python, SQL, etc.\"}},\n        {{\"category\": \"ML/DL\", \"items\": \"TensorFlow, PyTorch\"}}\n      ]\n    }},\n    {{\n      \"title\": \"CERTIFICATIONS\",\n      \"type\": \"inline\",\n      \"content\": \"Cert1; Cert2; Cert3\"\n    }},\n    {{\n      \"title\": \"EXPERIENCE\",\n      \"type\": \"jobs\",\n      \"content\": [\n        {{\n          \"job_title\": \"Job Title\",\n          \"company\": \"Company Name\",\n          \"location\": \"City, State\",\n          \"dates\": \"Start – End\",\n          \"bullets\": [\"Achievement 1\", \"Achievement 2\"]\n        }}\n      ]\n    }},\n    {{\n      \"title\": \"EDUCATION\",\n      \"type\": \"education\",\n      \"content\": [\n        {{\n          \"degree\": \"Ph.D. in Field\",\n          \"institution\": \"University Name\",\n          \"dates\": \"Year\",\n          \"bullets\": [\"Detail 1\"]\n        }}\n      ]\n    }},\n    {{\n      \"title\": \"PROFESSIONAL MEMBERSHIP, LEADERSHIP & SERVICE\",\n      \"type\": \"bullets\",\n      \"content\": [\"Item 1\", \"Item 2\"]\n    }},\n    {{\n      \"title\": \"AWARDS\",\n      \"type\": \"bullets\",\n      \"content\": [\"Award 1\", \"Award 2\"]\n    }}\n  ]\n}}\n\nInclude ALL original sections. Return ONLY valid JSON.\"\"\"\n\n    try:\n        response = model.generate_content(prompt)\n        full_response = response.text\n        \n        json_text = clean_json_response(full_response)\n        resume_data = json.loads(json_text)\n        \n        changes = resume_data.get('changes_summary', [])\n        changes_text = '\\n'.join(f\"• {c}\" for c in changes) if changes else \"Resume optimized for ATS.\"\n        \n        return {\n            \"changesSummary\": changes_text,\n            \"resumeMarkdown\": json.dumps(resume_data),\n            \"resumeJson\": resume_data\n        }\n    except json.JSONDecodeError:\n        return {\n            \"changesSummary\": \"Resume optimized for ATS and tailored to job requirements.\",\n            \"resumeMarkdown\": full_response\n        }\n    except Exception as e:\n        raise ValueError(f\"Failed to generate tailored resume: {str(e)}\")\n\n\ndef generate_career_roadmap(\n    resume_text: str,\n    dream_role: str,\n    dream_location: str,\n    timeframe: str\n) -> Dict[str, Any]:\n    prompt = f\"\"\"You are an expert career coach helping someone transition to their dream role.\n\nCURRENT RESUME:\n{resume_text}\n\nCAREER GOAL:\nDream Role: {dream_role}\nDream Location: {dream_location}\nTimeframe: {timeframe}\n\nProvide a comprehensive career roadmap:\n\n1. CURRENT GAPS (3-6 items)\n2. SKILLS TO ACQUIRE (5-8 specific skills)\n3. ACTION PLAN (3-4 phases with phase name, duration, and 3-5 actions each)\n4. RESOURCES (4-6 specific recommendations)\n5. MILESTONES (4-6 measurable checkpoints)\n\nReturn ONLY valid JSON:\n{{\"currentGaps\": [\"...\"], \"skillsToAcquire\": [\"...\"], \"actionPlan\": [{{\"phase\": \"...\", \"duration\": \"...\", \"actions\": [\"...\"]}}], \"resources\": [\"...\"], \"milestones\": [\"...\"]}}\"\"\"\n\n    try:\n        response = model.generate_content(prompt)\n        text = clean_json_response(response.text)\n        data = json.loads(text)\n        \n        return {\n            \"currentGaps\": data.get(\"currentGaps\", []),\n            \"skillsToAcquire\": data.get(\"skillsToAcquire\", []),\n            \"actionPlan\": data.get(\"actionPlan\", []),\n            \"resources\": data.get(\"resources\", []),\n            \"milestones\": data.get(\"milestones\", [])\n        }\n    except Exception as e:\n        raise ValueError(f\"Failed to generate career roadmap: {str(e)}\")\n","path":null,"size_bytes":12825,"size_tokens":null},"client/src/pages/career-roadmap.tsx":{"content":"import { useState } from \"react\";\nimport { useQuery, useMutation } from \"@tanstack/react-query\";\nimport { useForm } from \"react-hook-form\";\nimport { zodResolver } from \"@hookform/resolvers/zod\";\nimport { z } from \"zod\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Form, FormControl, FormField, FormItem, FormLabel, FormMessage } from \"@/components/ui/form\";\nimport { Input } from \"@/components/ui/input\";\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from \"@/components/ui/select\";\nimport { Skeleton } from \"@/components/ui/skeleton\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Separator } from \"@/components/ui/separator\";\nimport { Target, MapPin, Clock, AlertCircle, CheckCircle2, BookOpen, Trophy, Lightbulb } from \"lucide-react\";\nimport type { CareerRoadmap } from \"@shared/schema\";\nimport { apiRequest, queryClient } from \"@/lib/queryClient\";\nimport { useToast } from \"@/hooks/use-toast\";\n\nconst roadmapSchema = z.object({\n  dreamRole: z.string().min(3, \"Please enter your dream role (at least 3 characters)\"),\n  dreamLocation: z.string().min(2, \"Please enter your dream location\"),\n  timeframe: z.string().min(1, \"Please select a timeframe\"),\n});\n\ntype RoadmapFormData = z.infer<typeof roadmapSchema>;\n\nconst TIMEFRAME_OPTIONS = [\n  { value: \"6 months\", label: \"6 Months\" },\n  { value: \"1 year\", label: \"1 Year\" },\n  { value: \"18 months\", label: \"18 Months\" },\n  { value: \"2 years\", label: \"2 Years\" },\n];\n\nexport default function CareerRoadmap() {\n  const { toast } = useToast();\n  const [selectedRoadmap, setSelectedRoadmap] = useState<CareerRoadmap | null>(null);\n\n  const { data: roadmaps = [], isLoading: loadingRoadmaps } = useQuery<CareerRoadmap[]>({\n    queryKey: [\"/api/career-roadmaps\"],\n  });\n\n  const form = useForm<RoadmapFormData>({\n    resolver: zodResolver(roadmapSchema),\n    defaultValues: {\n      dreamRole: \"\",\n      dreamLocation: \"\",\n      timeframe: \"\",\n    },\n  });\n\n  const generateMutation = useMutation({\n    mutationFn: async (data: RoadmapFormData) => {\n      const response = await apiRequest(\"POST\", \"/api/career-roadmaps\", data);\n      return await response.json();\n    },\n    onSuccess: (data: CareerRoadmap) => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/career-roadmaps\"] });\n      setSelectedRoadmap(data);\n      toast({\n        title: \"Career roadmap generated!\",\n        description: \"Your personalized career guidance is ready.\",\n      });\n    },\n    onError: (error: Error) => {\n      toast({\n        title: \"Generation failed\",\n        description: error.message,\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  const onSubmit = (data: RoadmapFormData) => {\n    generateMutation.mutate(data);\n  };\n\n  const displayRoadmap = selectedRoadmap || (roadmaps.length > 0 ? roadmaps[0] : null);\n\n  return (\n    <div className=\"min-h-full bg-background\">\n      <div className=\"max-w-6xl mx-auto p-6 lg:p-12 space-y-8\">\n        <div>\n          <h1 className=\"text-4xl font-bold mb-2\" data-testid=\"text-title\">Career Roadmap</h1>\n          <p className=\"text-muted-foreground text-lg\">\n            Get personalized guidance on how to reach your dream role\n          </p>\n        </div>\n\n        <Card>\n          <CardHeader>\n            <CardTitle className=\"flex items-center gap-2\">\n              <Target className=\"w-5 h-5\" />\n              Define Your Career Goal\n            </CardTitle>\n            <CardDescription>\n              Tell us about your dream role and we'll create a personalized action plan\n            </CardDescription>\n          </CardHeader>\n          <CardContent>\n            <Form {...form}>\n              <form onSubmit={form.handleSubmit(onSubmit)} className=\"space-y-6\">\n                <FormField\n                  control={form.control}\n                  name=\"dreamRole\"\n                  render={({ field }) => (\n                    <FormItem>\n                      <FormLabel>Dream Role</FormLabel>\n                      <FormControl>\n                        <Input\n                          placeholder=\"e.g., Senior Data Scientist, Product Manager, Software Architect\"\n                          {...field}\n                          data-testid=\"input-dream-role\"\n                        />\n                      </FormControl>\n                      <FormMessage />\n                    </FormItem>\n                  )}\n                />\n\n                <FormField\n                  control={form.control}\n                  name=\"dreamLocation\"\n                  render={({ field }) => (\n                    <FormItem>\n                      <FormLabel>Dream Location</FormLabel>\n                      <FormControl>\n                        <Input\n                          placeholder=\"e.g., San Francisco Bay Area, Remote, New York\"\n                          {...field}\n                          data-testid=\"input-dream-location\"\n                        />\n                      </FormControl>\n                      <FormMessage />\n                    </FormItem>\n                  )}\n                />\n\n                <FormField\n                  control={form.control}\n                  name=\"timeframe\"\n                  render={({ field }) => (\n                    <FormItem>\n                      <FormLabel>Timeframe to Get Ready</FormLabel>\n                      <Select onValueChange={field.onChange} value={field.value}>\n                        <FormControl>\n                          <SelectTrigger data-testid=\"select-timeframe\">\n                            <SelectValue placeholder=\"Select timeframe\" />\n                          </SelectTrigger>\n                        </FormControl>\n                        <SelectContent>\n                          {TIMEFRAME_OPTIONS.map((option) => (\n                            <SelectItem key={option.value} value={option.value}>\n                              {option.label}\n                            </SelectItem>\n                          ))}\n                        </SelectContent>\n                      </Select>\n                      <FormMessage />\n                    </FormItem>\n                  )}\n                />\n\n                <Button\n                  type=\"submit\"\n                  size=\"lg\"\n                  disabled={generateMutation.isPending}\n                  className=\"w-full\"\n                  data-testid=\"button-generate-roadmap\"\n                >\n                  {generateMutation.isPending ? \"Generating Roadmap...\" : \"Generate Career Roadmap\"}\n                </Button>\n              </form>\n            </Form>\n          </CardContent>\n        </Card>\n\n        {displayRoadmap && (\n          <div className=\"space-y-6\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <h2 className=\"text-2xl font-bold\">{displayRoadmap.dreamRole}</h2>\n                <div className=\"flex items-center gap-4 mt-2 text-sm text-muted-foreground\">\n                  <div className=\"flex items-center gap-1\">\n                    <MapPin className=\"w-4 h-4\" />\n                    <span>{displayRoadmap.dreamLocation}</span>\n                  </div>\n                  <div className=\"flex items-center gap-1\">\n                    <Clock className=\"w-4 h-4\" />\n                    <span>{displayRoadmap.timeframe}</span>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            <Separator />\n\n            <Card>\n              <CardHeader>\n                <CardTitle className=\"flex items-center gap-2\">\n                  <AlertCircle className=\"w-5 h-5 text-destructive\" />\n                  Current Gaps\n                </CardTitle>\n                <CardDescription>\n                  Areas to focus on to bridge the gap between your current skills and your dream role\n                </CardDescription>\n              </CardHeader>\n              <CardContent>\n                <ul className=\"space-y-3\">\n                  {displayRoadmap.currentGaps.map((gap, index) => (\n                    <li key={index} className=\"flex items-start gap-3\" data-testid={`gap-${index}`}>\n                      <div className=\"w-2 h-2 rounded-full bg-destructive mt-2 flex-shrink-0\" />\n                      <span className=\"text-sm\">{gap}</span>\n                    </li>\n                  ))}\n                </ul>\n              </CardContent>\n            </Card>\n\n            <Card>\n              <CardHeader>\n                <CardTitle className=\"flex items-center gap-2\">\n                  <Lightbulb className=\"w-5 h-5 text-primary\" />\n                  Skills to Acquire\n                </CardTitle>\n                <CardDescription>\n                  Key skills you need to develop to succeed in your dream role\n                </CardDescription>\n              </CardHeader>\n              <CardContent>\n                <div className=\"flex flex-wrap gap-2\">\n                  {displayRoadmap.skillsToAcquire.map((skill, index) => (\n                    <Badge key={index} variant=\"secondary\" data-testid={`skill-${index}`}>\n                      {skill}\n                    </Badge>\n                  ))}\n                </div>\n              </CardContent>\n            </Card>\n\n            <Card>\n              <CardHeader>\n                <CardTitle className=\"flex items-center gap-2\">\n                  <CheckCircle2 className=\"w-5 h-5 text-green-600\" />\n                  Action Plan\n                </CardTitle>\n                <CardDescription>\n                  Step-by-step roadmap to achieve your career goal\n                </CardDescription>\n              </CardHeader>\n              <CardContent>\n                <div className=\"space-y-6\">\n                  {displayRoadmap.actionPlan.map((phase, index) => (\n                    <div key={index} className=\"space-y-3\" data-testid={`phase-${index}`}>\n                      <div>\n                        <h3 className=\"font-semibold text-lg\">{phase.phase}</h3>\n                        <p className=\"text-sm text-muted-foreground\">{phase.duration}</p>\n                      </div>\n                      <ul className=\"space-y-2 ml-4\">\n                        {phase.actions.map((action, actionIndex) => (\n                          <li key={actionIndex} className=\"flex items-start gap-2 text-sm\">\n                            <span className=\"text-primary mt-0.5\">•</span>\n                            <span>{action}</span>\n                          </li>\n                        ))}\n                      </ul>\n                      {index < displayRoadmap.actionPlan.length - 1 && <Separator className=\"mt-4\" />}\n                    </div>\n                  ))}\n                </div>\n              </CardContent>\n            </Card>\n\n            <Card>\n              <CardHeader>\n                <CardTitle className=\"flex items-center gap-2\">\n                  <BookOpen className=\"w-5 h-5 text-blue-600\" />\n                  Recommended Resources\n                </CardTitle>\n                <CardDescription>\n                  Learning materials to help you develop the required skills\n                </CardDescription>\n              </CardHeader>\n              <CardContent>\n                <ul className=\"space-y-3\">\n                  {displayRoadmap.resources.map((resource, index) => (\n                    <li key={index} className=\"flex items-start gap-3\" data-testid={`resource-${index}`}>\n                      <CheckCircle2 className=\"w-4 h-4 text-blue-600 mt-0.5 flex-shrink-0\" />\n                      <span className=\"text-sm\">{resource}</span>\n                    </li>\n                  ))}\n                </ul>\n              </CardContent>\n            </Card>\n\n            <Card>\n              <CardHeader>\n                <CardTitle className=\"flex items-center gap-2\">\n                  <Trophy className=\"w-5 h-5 text-yellow-600\" />\n                  Milestones\n                </CardTitle>\n                <CardDescription>\n                  Track your progress with these key checkpoints\n                </CardDescription>\n              </CardHeader>\n              <CardContent>\n                <ul className=\"space-y-3\">\n                  {displayRoadmap.milestones.map((milestone, index) => (\n                    <li key={index} className=\"flex items-start gap-3\" data-testid={`milestone-${index}`}>\n                      <Trophy className=\"w-4 h-4 text-yellow-600 mt-0.5 flex-shrink-0\" />\n                      <span className=\"text-sm\">{milestone}</span>\n                    </li>\n                  ))}\n                </ul>\n              </CardContent>\n            </Card>\n          </div>\n        )}\n\n        {loadingRoadmaps && !displayRoadmap && (\n          <div className=\"space-y-4\">\n            <Skeleton className=\"h-32 w-full\" />\n            <Skeleton className=\"h-64 w-full\" />\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n","path":null,"size_bytes":12956,"size_tokens":null},"file_processor.py":{"content":"from PyPDF2 import PdfReader\nfrom docx import Document\nimport pytesseract\nfrom PIL import Image\nimport io\n\n\ndef extract_text_from_pdf(file_content: bytes) -> str:\n    try:\n        pdf_reader = PdfReader(io.BytesIO(file_content))\n        text_parts = []\n        for page in pdf_reader.pages:\n            text = page.extract_text()\n            if text:\n                text_parts.append(text)\n        return \"\\n\".join(text_parts)\n    except Exception as e:\n        raise ValueError(f\"Failed to extract text from PDF: {str(e)}\")\n\n\ndef extract_text_from_docx(file_content: bytes) -> str:\n    try:\n        doc = Document(io.BytesIO(file_content))\n        text_parts = []\n        for paragraph in doc.paragraphs:\n            if paragraph.text.strip():\n                text_parts.append(paragraph.text)\n        return \"\\n\".join(text_parts)\n    except Exception as e:\n        raise ValueError(f\"Failed to extract text from DOCX: {str(e)}\")\n\n\ndef extract_text_from_image(file_content: bytes) -> str:\n    try:\n        image = Image.open(io.BytesIO(file_content))\n        text = pytesseract.image_to_string(image)\n        return text.strip()\n    except Exception as e:\n        raise ValueError(f\"Failed to extract text from image: {str(e)}\")\n\n\ndef extract_text_from_file(file_content: bytes, mime_type: str) -> str:\n    if mime_type == \"application/pdf\":\n        return extract_text_from_pdf(file_content)\n    elif mime_type == \"application/vnd.openxmlformats-officedocument.wordprocessingml.document\":\n        return extract_text_from_docx(file_content)\n    elif mime_type in [\"image/png\", \"image/jpeg\"]:\n        return extract_text_from_image(file_content)\n    elif mime_type == \"text/plain\":\n        return file_content.decode(\"utf-8\")\n    else:\n        raise ValueError(f\"Unsupported file type: {mime_type}\")\n\n\ndef get_mime_type(filename: str) -> str:\n    ext = filename.rsplit('.', 1)[-1].lower() if '.' in filename else ''\n    mime_map = {\n        'pdf': 'application/pdf',\n        'docx': 'application/vnd.openxmlformats-officedocument.wordprocessingml.document',\n        'png': 'image/png',\n        'jpg': 'image/jpeg',\n        'jpeg': 'image/jpeg',\n        'txt': 'text/plain'\n    }\n    return mime_map.get(ext, 'application/octet-stream')\n","path":null,"size_bytes":2238,"size_tokens":null},"services/auth_service/__init__.py":{"content":"# Auth Service - Handles user registration, login, and session management\n","path":null,"size_bytes":74,"size_tokens":null},"config.py":{"content":"import os\nfrom dotenv import load_dotenv\n\nload_dotenv()\n\nclass Config:\n    DATABASE_URL = os.getenv(\"DATABASE_URL\")\n    SECRET_KEY = os.getenv(\"SESSION_SECRET\", \"your-secret-key-change-in-production\")\n    GEMINI_API_KEY = os.getenv(\"GEMINI_API_KEY\")\n    \n    MAX_UPLOAD_SIZE = 10 * 1024 * 1024\n    ALLOWED_EXTENSIONS = {'pdf', 'docx', 'png', 'jpg', 'jpeg', 'txt'}\n    \n    @staticmethod\n    def allowed_file(filename):\n        return '.' in filename and filename.rsplit('.', 1)[1].lower() in Config.ALLOWED_EXTENSIONS\n","path":null,"size_bytes":518,"size_tokens":null},"services/auth_service/auth.py":{"content":"import bcrypt\nfrom typing import Optional\n\ndef hash_password(password: str) -> str:\n    \"\"\"Hash a password using bcrypt.\"\"\"\n    return bcrypt.hashpw(\n        password.encode(\"utf-8\"), \n        bcrypt.gensalt()\n    ).decode(\"utf-8\")\n\n\ndef verify_password(plain_password: str, hashed_password: str) -> bool:\n    \"\"\"Verify a password against its hash.\"\"\"\n    if not hashed_password:\n        return False\n    try:\n        return bcrypt.checkpw(\n            plain_password.encode(\"utf-8\"), \n            hashed_password.encode(\"utf-8\")\n        )\n    except Exception:\n        return False\n","path":null,"size_bytes":583,"size_tokens":null},"main.py":{"content":"def main():\n    print(\"Hello from repl-nix-workspace!\")\n\n\nif __name__ == \"__main__\":\n    main()\n","path":null,"size_bytes":96,"size_tokens":null},"INSTALL.md":{"content":"# ResuMatch Pro - Installation Guide\n\n## Requirements\n\nInstall the following Python packages:\n\n```bash\npip install flask flask-sqlalchemy python-dotenv google-generativeai bcrypt PyPDF2 python-docx pytesseract Pillow reportlab psycopg2-binary\n```\n\n## Environment Variables\n\nCreate a `.env` file in the project root:\n\n```\nDATABASE_URL=postgresql://username:password@localhost:5432/resumatch\nGEMINI_API_KEY=your_gemini_api_key_here\nSESSION_SECRET=any_random_secret_string\n```\n\n## Running the App\n\n```bash\npython app.py\n```\n\nThe app will be available at http://localhost:5000\n\n## Project Structure\n\n```\nresumatch-pro/\n├── app.py              # Main Flask application\n├── config.py           # Configuration settings\n├── models.py           # Database models\n├── ai_service.py       # Gemini AI integration\n├── file_processor.py   # Resume file parsing\n├── auth.py             # Password hashing\n├── templates/          # HTML templates\n└── static/             # CSS and assets\n```\n","path":null,"size_bytes":1026,"size_tokens":null},"services/resume_service/file_processor.py":{"content":"from PyPDF2 import PdfReader\nfrom docx import Document\nimport pytesseract\nfrom PIL import Image\nimport io\n\n\ndef extract_text_from_pdf(file_content: bytes) -> str:\n    try:\n        pdf_reader = PdfReader(io.BytesIO(file_content))\n        text_parts = []\n        for page in pdf_reader.pages:\n            text = page.extract_text()\n            if text:\n                text_parts.append(text)\n        return \"\\n\".join(text_parts)\n    except Exception as e:\n        raise ValueError(f\"Failed to extract text from PDF: {str(e)}\")\n\n\ndef extract_text_from_docx(file_content: bytes) -> str:\n    try:\n        doc = Document(io.BytesIO(file_content))\n        text_parts = []\n        for paragraph in doc.paragraphs:\n            if paragraph.text.strip():\n                text_parts.append(paragraph.text)\n        return \"\\n\".join(text_parts)\n    except Exception as e:\n        raise ValueError(f\"Failed to extract text from DOCX: {str(e)}\")\n\n\ndef extract_text_from_image(file_content: bytes) -> str:\n    try:\n        image = Image.open(io.BytesIO(file_content))\n        text = pytesseract.image_to_string(image)\n        return text.strip()\n    except Exception as e:\n        raise ValueError(f\"Failed to extract text from image: {str(e)}\")\n\n\ndef extract_text_from_file(file_content: bytes, mime_type: str) -> str:\n    if mime_type == \"application/pdf\":\n        return extract_text_from_pdf(file_content)\n    elif mime_type == \"application/vnd.openxmlformats-officedocument.wordprocessingml.document\":\n        return extract_text_from_docx(file_content)\n    elif mime_type in [\"image/png\", \"image/jpeg\"]:\n        return extract_text_from_image(file_content)\n    elif mime_type == \"text/plain\":\n        return file_content.decode(\"utf-8\")\n    else:\n        raise ValueError(f\"Unsupported file type: {mime_type}\")\n\n\ndef get_mime_type(filename: str) -> str:\n    ext = filename.rsplit('.', 1)[-1].lower() if '.' in filename else ''\n    mime_map = {\n        'pdf': 'application/pdf',\n        'docx': 'application/vnd.openxmlformats-officedocument.wordprocessingml.document',\n        'png': 'image/png',\n        'jpg': 'image/jpeg',\n        'jpeg': 'image/jpeg',\n        'txt': 'text/plain'\n    }\n    return mime_map.get(ext, 'application/octet-stream')\n","path":null,"size_bytes":2238,"size_tokens":null},"start.sh":{"content":"#!/bin/bash\n# Start the Flask microservices application\nexec python run.py\n","path":null,"size_bytes":75,"size_tokens":null},"services/ai_service/__init__.py":{"content":"# AI Service - Handles all Gemini AI interactions\n","path":null,"size_bytes":50,"size_tokens":null},"auth.py":{"content":"import bcrypt\nfrom typing import Optional\n\ndef hash_password(password: str) -> str:\n    return bcrypt.hashpw(\n        password.encode(\"utf-8\"), \n        bcrypt.gensalt()\n    ).decode(\"utf-8\")\n\n\ndef verify_password(plain_password: str, hashed_password: str) -> bool:\n    if not hashed_password:\n        return False\n    try:\n        return bcrypt.checkpw(\n            plain_password.encode(\"utf-8\"), \n            hashed_password.encode(\"utf-8\")\n        )\n    except Exception:\n        return False\n","path":null,"size_bytes":497,"size_tokens":null},"services/shared/__init__.py":{"content":"from .config import Config\nfrom .models import db, User, Resume, Analysis, JobMatch, CareerRoadmap\n","path":null,"size_bytes":99,"size_tokens":null},"pyproject.toml":{"content":"[project]\nname = \"repl-nix-workspace\"\nversion = \"0.1.0\"\ndescription = \"Add your description here\"\nrequires-python = \">=3.11\"\ndependencies = [\n    \"alembic>=1.17.2\",\n    \"fastapi>=0.123.0\",\n    \"flask>=3.1.2\",\n    \"flask-sqlalchemy>=3.1.1\",\n    \"google-generativeai>=0.8.5\",\n    \"passlib[bcrypt]>=1.7.4\",\n    \"pillow>=12.0.0\",\n    \"psycopg2-binary>=2.9.11\",\n    \"pypdf2>=3.0.1\",\n    \"pytesseract>=0.3.13\",\n    \"python-docx>=1.2.0\",\n    \"python-dotenv>=1.2.1\",\n    \"python-jose[cryptography]>=3.5.0\",\n    \"python-multipart>=0.0.20\",\n    \"reportlab>=4.4.5\",\n    \"sqlalchemy>=2.0.44\",\n    \"uvicorn[standard]>=0.38.0\",\n]\n","path":null,"size_bytes":616,"size_tokens":null},"server/python-proxy.ts":{"content":"// This file spawns the Python Flask application\n// The Flask app is located in services/gateway/app.py\nimport { spawn } from 'child_process';\nimport { resolve } from 'path';\n\nconsole.log('Starting Python Flask application...');\n\nconst pythonProcess = spawn('python', ['run.py'], {\n  cwd: process.cwd(),\n  stdio: 'inherit',\n  env: { ...process.env }\n});\n\npythonProcess.on('error', (error) => {\n  console.error('Failed to start Flask application:', error);\n  process.exit(1);\n});\n\npythonProcess.on('exit', (code) => {\n  console.log(`Flask application exited with code ${code}`);\n  process.exit(code || 0);\n});\n\n// Handle termination signals\nprocess.on('SIGINT', () => {\n  pythonProcess.kill('SIGINT');\n});\n\nprocess.on('SIGTERM', () => {\n  pythonProcess.kill('SIGTERM');\n});\n","path":null,"size_bytes":773,"size_tokens":null},"services/resume_service/__init__.py":{"content":"# Resume Service - Handles file upload and text extraction\n","path":null,"size_bytes":59,"size_tokens":null},"app.py":{"content":"from flask import Flask, render_template, request, redirect, url_for, session, flash, jsonify, send_file\nfrom functools import wraps\nimport os\nimport json\nimport re\nimport io\n\nfrom config import Config\nfrom models import db, User, Resume, Analysis, JobMatch, CareerRoadmap\nfrom auth import hash_password, verify_password\nfrom file_processor import extract_text_from_file, get_mime_type\nfrom ai_service import (\n    analyze_resume,\n    analyze_job_match,\n    generate_job_description,\n    generate_final_verdict,\n    generate_tailored_resume,\n    generate_career_roadmap\n)\n\nfrom reportlab.lib.pagesizes import letter\nfrom reportlab.platypus import SimpleDocTemplate, Paragraph, Spacer\nfrom reportlab.lib.styles import getSampleStyleSheet, ParagraphStyle\nfrom reportlab.lib.enums import TA_LEFT\nfrom reportlab.lib import colors\n\n\ndef create_app():\n    app = Flask(__name__, template_folder='templates', static_folder='static')\n    app.config['SECRET_KEY'] = Config.SECRET_KEY\n    app.config['SQLALCHEMY_DATABASE_URI'] = Config.DATABASE_URL\n    app.config['SQLALCHEMY_TRACK_MODIFICATIONS'] = False\n    app.config['MAX_CONTENT_LENGTH'] = Config.MAX_UPLOAD_SIZE\n    app.config['SQLALCHEMY_ENGINE_OPTIONS'] = {\n        'pool_pre_ping': True,\n        'pool_recycle': 300,\n        'pool_size': 5,\n        'max_overflow': 10,\n    }\n    \n    db.init_app(app)\n    \n    with app.app_context():\n        db.create_all()\n    \n    return app\n\n\napp = create_app()\n\n\ndef login_required(f):\n    @wraps(f)\n    def decorated_function(*args, **kwargs):\n        if 'user_id' not in session:\n            flash('Please log in to access this page.', 'error')\n            return redirect(url_for('login'))\n        return f(*args, **kwargs)\n    return decorated_function\n\n\ndef get_current_user():\n    if 'user_id' in session:\n        return User.query.get(session['user_id'])\n    return None\n\n\n@app.route('/')\ndef index():\n    if 'user_id' in session:\n        return redirect(url_for('home'))\n    return render_template('index.html')\n\n\n@app.route('/register', methods=['GET', 'POST'])\ndef register():\n    if request.method == 'POST':\n        username = request.form.get('username', '').strip()\n        password = request.form.get('password', '')\n        confirm_password = request.form.get('confirm_password', '')\n        \n        if not username or not password:\n            flash('Username and password are required.', 'error')\n            return render_template('register.html')\n        \n        if password != confirm_password:\n            flash('Passwords do not match.', 'error')\n            return render_template('register.html')\n        \n        if len(password) < 6:\n            flash('Password must be at least 6 characters.', 'error')\n            return render_template('register.html')\n        \n        existing_user = User.query.filter_by(username=username).first()\n        if existing_user:\n            flash('Username already exists.', 'error')\n            return render_template('register.html')\n        \n        user = User(username=username, password_hash=hash_password(password))\n        db.session.add(user)\n        db.session.commit()\n        \n        session['user_id'] = user.id\n        flash('Account created successfully!', 'success')\n        return redirect(url_for('home'))\n    \n    return render_template('register.html')\n\n\n@app.route('/login', methods=['GET', 'POST'])\ndef login():\n    if request.method == 'POST':\n        username = request.form.get('username', '').strip()\n        password = request.form.get('password', '')\n        \n        user = User.query.filter_by(username=username).first()\n        \n        if user and verify_password(password, user.password_hash):\n            session['user_id'] = user.id\n            flash('Logged in successfully!', 'success')\n            return redirect(url_for('home'))\n        \n        flash('Invalid username or password.', 'error')\n    \n    return render_template('login.html')\n\n\n@app.route('/logout')\ndef logout():\n    session.pop('user_id', None)\n    flash('Logged out successfully.', 'success')\n    return redirect(url_for('index'))\n\n\n@app.route('/home')\n@login_required\ndef home():\n    user = get_current_user()\n    resumes = Resume.query.filter_by(user_id=user.id).order_by(Resume.created_at.desc()).all()\n    latest_resume = resumes[0] if resumes else None\n    latest_analysis = None\n    if latest_resume:\n        latest_analysis = Analysis.query.filter_by(resume_id=latest_resume.id).first()\n    return render_template('dashboard.html', user=user, resumes=resumes, \n                         latest_resume=latest_resume, latest_analysis=latest_analysis)\n\n\n@app.route('/upload-resume', methods=['POST'])\n@login_required\ndef upload_resume():\n    user = get_current_user()\n    \n    if 'file' not in request.files:\n        flash('No file uploaded.', 'error')\n        return redirect(url_for('home'))\n    \n    file = request.files['file']\n    if file.filename == '':\n        flash('No file selected.', 'error')\n        return redirect(url_for('home'))\n    \n    if not Config.allowed_file(file.filename):\n        flash('Invalid file type. Please upload PDF, DOCX, PNG, JPG, or TXT.', 'error')\n        return redirect(url_for('home'))\n    \n    try:\n        file_content = file.read()\n        mime_type = get_mime_type(file.filename)\n        extracted_text = extract_text_from_file(file_content, mime_type)\n        \n        if not extracted_text or len(extracted_text.strip()) < 50:\n            flash('Could not extract sufficient text from the file.', 'error')\n            return redirect(url_for('home'))\n        \n        resume = Resume(\n            user_id=user.id,\n            filename=file.filename,\n            filesize=len(file_content),\n            mime_type=mime_type,\n            extracted_text=extracted_text\n        )\n        db.session.add(resume)\n        db.session.commit()\n        \n        flash('Resume uploaded successfully!', 'success')\n        return redirect(url_for('home'))\n    \n    except Exception as e:\n        flash(f'Error processing file: {str(e)}', 'error')\n        return redirect(url_for('home'))\n\n\n@app.route('/resume/<resume_id>/delete', methods=['POST'])\n@login_required\ndef delete_resume(resume_id):\n    user = get_current_user()\n    resume = Resume.query.filter_by(id=resume_id, user_id=user.id).first()\n    \n    if not resume:\n        flash('Resume not found.', 'error')\n        return redirect(url_for('home'))\n    \n    try:\n        Analysis.query.filter_by(resume_id=resume_id).delete()\n        JobMatch.query.filter_by(resume_id=resume_id).delete()\n        CareerRoadmap.query.filter_by(resume_id=resume_id).delete()\n        \n        db.session.delete(resume)\n        db.session.commit()\n        \n        flash('Resume deleted successfully.', 'success')\n    except Exception as e:\n        db.session.rollback()\n        flash(f'Error deleting resume: {str(e)}', 'error')\n    \n    return redirect(url_for('home'))\n\n\n@app.route('/analyze-resume/<resume_id>')\n@login_required\ndef analyze_resume_route(resume_id):\n    user = get_current_user()\n    resume = Resume.query.filter_by(id=resume_id, user_id=user.id).first()\n    \n    if not resume:\n        flash('Resume not found.', 'error')\n        return redirect(url_for('home'))\n    \n    existing_analysis = Analysis.query.filter_by(resume_id=resume_id).first()\n    if existing_analysis:\n        return redirect(url_for('analysis_results', analysis_id=existing_analysis.id))\n    \n    try:\n        result = analyze_resume(resume.extracted_text)\n        \n        analysis = Analysis(\n            resume_id=resume_id,\n            completeness_score=result['completenessScore'],\n            completeness_rationale=result['completenessRationale'],\n            section_scores=result['sectionScores'],\n            suggestions=result['suggestions']\n        )\n        db.session.add(analysis)\n        db.session.commit()\n        \n        return redirect(url_for('analysis_results', analysis_id=analysis.id))\n    \n    except Exception as e:\n        flash(f'Error analyzing resume: {str(e)}', 'error')\n        return redirect(url_for('home'))\n\n\n@app.route('/analysis/<analysis_id>')\n@login_required\ndef analysis_results(analysis_id):\n    user = get_current_user()\n    analysis = Analysis.query.get(analysis_id)\n    \n    if not analysis:\n        flash('Analysis not found.', 'error')\n        return redirect(url_for('home'))\n    \n    resume = Resume.query.get(analysis.resume_id)\n    if resume.user_id != user.id:\n        flash('Access denied.', 'error')\n        return redirect(url_for('home'))\n    \n    return render_template('analysis.html', analysis=analysis, resume=resume, user=user)\n\n\n@app.route('/job-match')\n@login_required\ndef job_match():\n    user = get_current_user()\n    resumes = Resume.query.filter_by(user_id=user.id).order_by(Resume.created_at.desc()).all()\n    return render_template('job_match.html', user=user, resumes=resumes)\n\n\n@app.route('/job-match/analyze', methods=['POST'])\n@login_required\ndef job_match_analyze():\n    user = get_current_user()\n    \n    mode = request.form.get('mode', 'custom')\n    job_description = request.form.get('job_description', '')\n    job_role = request.form.get('job_role', '')\n    job_location = request.form.get('job_location', '')\n    \n    latest_resume = Resume.query.filter_by(user_id=user.id).order_by(Resume.created_at.desc()).first()\n    \n    if not latest_resume:\n        flash('Please upload a resume first.', 'error')\n        return redirect(url_for('job_match'))\n    \n    try:\n        if mode == 'curated' and job_role and job_location:\n            job_description = generate_job_description(job_role, job_location)\n        \n        if not job_description:\n            flash('Please provide a job description.', 'error')\n            return redirect(url_for('job_match'))\n        \n        result = analyze_job_match(latest_resume.extracted_text, job_description)\n        \n        job_match_record = JobMatch(\n            resume_id=latest_resume.id,\n            job_description=job_description,\n            job_role=job_role if mode == 'curated' else None,\n            job_location=job_location if mode == 'curated' else None,\n            alignment_score=result['alignmentScore'],\n            alignment_rationale=result['alignmentRationale'],\n            gaps=result['gaps'],\n            strengths=result['strengths']\n        )\n        db.session.add(job_match_record)\n        db.session.commit()\n        \n        return redirect(url_for('job_match_results', match_id=job_match_record.id))\n    \n    except Exception as e:\n        flash(f'Error analyzing job match: {str(e)}', 'error')\n        return redirect(url_for('job_match'))\n\n\n@app.route('/job-match/<match_id>')\n@login_required\ndef job_match_results(match_id):\n    user = get_current_user()\n    match = JobMatch.query.get(match_id)\n    \n    if not match:\n        flash('Job match not found.', 'error')\n        return redirect(url_for('job_match'))\n    \n    resume = Resume.query.get(match.resume_id)\n    if resume.user_id != user.id:\n        flash('Access denied.', 'error')\n        return redirect(url_for('job_match'))\n    \n    return render_template('job_match_results.html', match=match, resume=resume, user=user)\n\n\n@app.route('/job-match/<match_id>/submit-gaps', methods=['POST'])\n@login_required\ndef submit_gap_responses(match_id):\n    user = get_current_user()\n    match = JobMatch.query.get(match_id)\n    \n    if not match:\n        return jsonify({'error': 'Job match not found'}), 404\n    \n    resume = Resume.query.get(match.resume_id)\n    if resume.user_id != user.id:\n        return jsonify({'error': 'Access denied'}), 403\n    \n    try:\n        gap_responses = request.json.get('gapResponses', [])\n        \n        verdict_result = generate_final_verdict(\n            resume.extracted_text,\n            match.job_description,\n            match.alignment_score,\n            match.gaps,\n            gap_responses\n        )\n        \n        match.gap_responses = gap_responses\n        match.final_verdict = verdict_result['verdict']\n        match.should_apply = verdict_result['shouldApply']\n        db.session.commit()\n        \n        return jsonify({\n            'success': True,\n            'finalVerdict': verdict_result['verdict'],\n            'shouldApply': verdict_result['shouldApply']\n        })\n    \n    except Exception as e:\n        return jsonify({'error': str(e)}), 500\n\n\n@app.route('/job-match/<match_id>/generate-resume', methods=['POST'])\n@login_required\ndef generate_tailored_resume_route(match_id):\n    user = get_current_user()\n    match = JobMatch.query.get(match_id)\n    \n    if not match:\n        return jsonify({'error': 'Job match not found'}), 404\n    \n    resume = Resume.query.get(match.resume_id)\n    if resume.user_id != user.id:\n        return jsonify({'error': 'Access denied'}), 403\n    \n    try:\n        result = generate_tailored_resume(\n            resume.extracted_text,\n            match.job_description,\n            match.strengths,\n            match.gaps,\n            match.gap_responses or []\n        )\n        \n        match.changes_summary = result['changesSummary']\n        match.tailored_resume_content = result['resumeMarkdown']\n        db.session.commit()\n        \n        return jsonify({\n            'success': True,\n            'changesSummary': result['changesSummary'],\n            'resumeContent': result['resumeMarkdown']\n        })\n    \n    except Exception as e:\n        return jsonify({'error': str(e)}), 500\n\n\ndef make_url(url):\n    if not url:\n        return ''\n    url = url.strip()\n    if not url.startswith('http://') and not url.startswith('https://'):\n        return 'https://' + url\n    return url\n\n\n@app.route('/job-match/<match_id>/download-pdf')\n@login_required\ndef download_tailored_resume_pdf(match_id):\n    user = get_current_user()\n    match = JobMatch.query.get(match_id)\n    \n    if not match or not match.tailored_resume_content:\n        flash('Tailored resume not found.', 'error')\n        return redirect(url_for('job_match'))\n    \n    resume = Resume.query.get(match.resume_id)\n    if resume.user_id != user.id:\n        flash('Access denied.', 'error')\n        return redirect(url_for('job_match'))\n    \n    content = match.tailored_resume_content\n    \n    try:\n        resume_data = json.loads(content)\n        return generate_pdf_from_json(resume_data)\n    except json.JSONDecodeError:\n        return generate_pdf_from_text(content)\n\n\ndef generate_pdf_from_json(data):\n    header = data.get('header', {})\n    sections = data.get('sections', [])\n    \n    name = header.get('name', 'Resume')\n    safe_name = re.sub(r'[^\\w\\s-]', '', name).replace(' ', '_')\n    filename = f\"{safe_name}_tailored_resume.pdf\"\n    \n    buffer = io.BytesIO()\n    doc = SimpleDocTemplate(buffer, pagesize=letter, rightMargin=50, leftMargin=50, topMargin=36, bottomMargin=36)\n    \n    styles = getSampleStyleSheet()\n    styles.add(ParagraphStyle(name='ResumeName', fontSize=16, spaceAfter=0, alignment=1, fontName='Helvetica-Bold'))\n    styles.add(ParagraphStyle(name='ResumeTitle', fontSize=10, spaceAfter=4, alignment=1, fontName='Helvetica', textColor=colors.HexColor('#555555')))\n    styles.add(ParagraphStyle(name='ContactLine', fontSize=9, spaceAfter=2, alignment=1, textColor=colors.HexColor('#333333')))\n    styles.add(ParagraphStyle(name='LinksLine', fontSize=9, spaceAfter=6, alignment=1, textColor=colors.HexColor('#0066cc')))\n    styles.add(ParagraphStyle(name='SectionHeader', fontSize=10, spaceAfter=4, spaceBefore=10, fontName='Helvetica-Bold'))\n    styles.add(ParagraphStyle(name='ResumeBody', fontSize=9, leading=12, fontName='Helvetica'))\n    styles.add(ParagraphStyle(name='BulletItem', fontSize=9, leading=12, leftIndent=15, fontName='Helvetica'))\n    styles.add(ParagraphStyle(name='JobTitleLine', fontSize=9, leading=12, fontName='Helvetica-Bold', spaceBefore=6))\n    styles.add(ParagraphStyle(name='SkillLine', fontSize=9, leading=12, fontName='Helvetica'))\n    \n    story = []\n    \n    if name:\n        story.append(Paragraph(name, styles['ResumeName']))\n        story.append(Spacer(1, 8))\n    \n    titles = header.get('titles', [])\n    if titles:\n        story.append(Paragraph(' | '.join(titles), styles['ResumeTitle']))\n    \n    contact_parts = []\n    if header.get('email'):\n        contact_parts.append(header['email'])\n    if header.get('phone'):\n        contact_parts.append(header['phone'])\n    if header.get('location'):\n        contact_parts.append(header['location'])\n    if contact_parts:\n        story.append(Paragraph(' | '.join(contact_parts), styles['ContactLine']))\n    \n    link_html = []\n    if header.get('linkedin'):\n        url = make_url(header['linkedin'])\n        link_html.append(f'<a href=\"{url}\" color=\"#0066cc\">LinkedIn</a>')\n    if header.get('github'):\n        url = make_url(header['github'])\n        link_html.append(f'<a href=\"{url}\" color=\"#0066cc\">GitHub</a>')\n    if header.get('kaggle'):\n        url = make_url(header['kaggle'])\n        link_html.append(f'<a href=\"{url}\" color=\"#0066cc\">Kaggle</a>')\n    if header.get('medium'):\n        url = make_url(header['medium'])\n        link_html.append(f'<a href=\"{url}\" color=\"#0066cc\">Medium</a>')\n    if header.get('google_scholar'):\n        url = make_url(header['google_scholar'])\n        link_html.append(f'<a href=\"{url}\" color=\"#0066cc\">Google Scholar</a>')\n    \n    if link_html:\n        story.append(Paragraph(' | '.join(link_html), styles['LinksLine']))\n    \n    for section in sections:\n        title = section.get('title', '')\n        section_type = section.get('type', 'paragraph')\n        content = section.get('content', '')\n        \n        story.append(Paragraph(title.upper(), styles['SectionHeader']))\n        \n        if section_type == 'paragraph':\n            text = content.replace('L ATEX', 'LaTeX') if isinstance(content, str) else str(content)\n            story.append(Paragraph(text, styles['ResumeBody']))\n        \n        elif section_type == 'skills':\n            if isinstance(content, list):\n                for skill in content:\n                    cat = skill.get('category', '')\n                    items = skill.get('items', '')\n                    items = items.replace('L ATEX', 'LaTeX') if isinstance(items, str) else str(items)\n                    story.append(Paragraph(f\"<b>{cat}:</b> {items}\", styles['SkillLine']))\n        \n        elif section_type == 'inline':\n            text = content.replace('L ATEX', 'LaTeX') if isinstance(content, str) else str(content)\n            story.append(Paragraph(text, styles['ResumeBody']))\n        \n        elif section_type == 'jobs':\n            if isinstance(content, list):\n                for job in content:\n                    job_title = job.get('job_title', '')\n                    company = job.get('company', '')\n                    location = job.get('location', '')\n                    dates = job.get('dates', '')\n                    header_line = f\"{job_title} | {company} | {location} | {dates}\"\n                    story.append(Paragraph(header_line, styles['JobTitleLine']))\n                    for bullet in job.get('bullets', []):\n                        bullet = bullet.replace('L ATEX', 'LaTeX') if isinstance(bullet, str) else str(bullet)\n                        story.append(Paragraph(f\"• {bullet}\", styles['BulletItem']))\n        \n        elif section_type == 'education':\n            if isinstance(content, list):\n                for edu in content:\n                    degree = edu.get('degree', '')\n                    institution = edu.get('institution', '')\n                    dates = edu.get('dates', '')\n                    header_line = f\"{degree} | {institution} | {dates}\"\n                    story.append(Paragraph(header_line, styles['JobTitleLine']))\n                    for bullet in edu.get('bullets', []):\n                        bullet = bullet.replace('L ATEX', 'LaTeX') if isinstance(bullet, str) else str(bullet)\n                        story.append(Paragraph(f\"• {bullet}\", styles['BulletItem']))\n        \n        elif section_type == 'bullets':\n            if isinstance(content, list):\n                for item in content:\n                    item = item.replace('L ATEX', 'LaTeX') if isinstance(item, str) else str(item)\n                    story.append(Paragraph(f\"• {item}\", styles['BulletItem']))\n    \n    doc.build(story)\n    buffer.seek(0)\n    \n    return send_file(buffer, as_attachment=True, download_name=filename, mimetype='application/pdf')\n\n\ndef generate_pdf_from_text(content):\n    buffer = io.BytesIO()\n    doc = SimpleDocTemplate(buffer, pagesize=letter, rightMargin=50, leftMargin=50, topMargin=36, bottomMargin=36)\n    \n    styles = getSampleStyleSheet()\n    styles.add(ParagraphStyle(name='ResumeBody', fontSize=10, leading=14, fontName='Helvetica'))\n    \n    story = []\n    for line in content.split('\\n'):\n        if line.strip():\n            story.append(Paragraph(line, styles['ResumeBody']))\n            story.append(Spacer(1, 6))\n    \n    doc.build(story)\n    buffer.seek(0)\n    \n    return send_file(buffer, as_attachment=True, download_name='tailored_resume.pdf', mimetype='application/pdf')\n\n\n@app.route('/career-roadmap')\n@login_required\ndef career_roadmap():\n    user = get_current_user()\n    resumes = Resume.query.filter_by(user_id=user.id).order_by(Resume.created_at.desc()).all()\n    roadmaps = CareerRoadmap.query.filter_by(user_id=user.id).order_by(CareerRoadmap.created_at.desc()).all()\n    return render_template('career_roadmap.html', user=user, resumes=resumes, roadmaps=roadmaps)\n\n\n@app.route('/career-roadmap/generate', methods=['POST'])\n@login_required\ndef generate_roadmap():\n    user = get_current_user()\n    \n    dream_role = request.form.get('dream_role', '').strip()\n    dream_location = request.form.get('dream_location', '').strip()\n    timeframe = request.form.get('timeframe', '1 year')\n    \n    if not dream_role or not dream_location:\n        flash('Please provide your dream role and location.', 'error')\n        return redirect(url_for('career_roadmap'))\n    \n    latest_resume = Resume.query.filter_by(user_id=user.id).order_by(Resume.created_at.desc()).first()\n    \n    if not latest_resume:\n        flash('Please upload a resume first.', 'error')\n        return redirect(url_for('career_roadmap'))\n    \n    try:\n        result = generate_career_roadmap(\n            latest_resume.extracted_text,\n            dream_role,\n            dream_location,\n            timeframe\n        )\n        \n        roadmap = CareerRoadmap(\n            user_id=user.id,\n            resume_id=latest_resume.id,\n            dream_role=dream_role,\n            dream_location=dream_location,\n            timeframe=timeframe,\n            current_gaps=result['currentGaps'],\n            skills_to_acquire=result['skillsToAcquire'],\n            action_plan=result['actionPlan'],\n            resources=result['resources'],\n            milestones=result['milestones']\n        )\n        db.session.add(roadmap)\n        db.session.commit()\n        \n        return redirect(url_for('career_roadmap_results', roadmap_id=roadmap.id))\n    \n    except Exception as e:\n        flash(f'Error generating roadmap: {str(e)}', 'error')\n        return redirect(url_for('career_roadmap'))\n\n\n@app.route('/career-roadmap/<roadmap_id>')\n@login_required\ndef career_roadmap_results(roadmap_id):\n    user = get_current_user()\n    roadmap = CareerRoadmap.query.get(roadmap_id)\n    \n    if not roadmap or roadmap.user_id != user.id:\n        flash('Roadmap not found.', 'error')\n        return redirect(url_for('career_roadmap'))\n    \n    return render_template('career_roadmap_results.html', roadmap=roadmap, user=user)\n\n\n@app.errorhandler(404)\ndef not_found_error(error):\n    return render_template('404.html'), 404\n\n\n@app.errorhandler(500)\ndef internal_error(error):\n    db.session.rollback()\n    return render_template('500.html'), 500\n\n\nif __name__ == '__main__':\n    app.run(host='0.0.0.0', port=5000, debug=True)\n","path":null,"size_bytes":23879,"size_tokens":null},"models.py":{"content":"from flask_sqlalchemy import SQLAlchemy\nfrom datetime import datetime\nimport uuid\n\ndb = SQLAlchemy()\n\ndef generate_uuid():\n    return str(uuid.uuid4())\n\nclass User(db.Model):\n    __tablename__ = 'users'\n    \n    id = db.Column(db.String(36), primary_key=True, default=generate_uuid)\n    username = db.Column(db.Text, unique=True, nullable=False)\n    password_hash = db.Column(db.Text, nullable=True)\n    \n    resumes = db.relationship('Resume', backref='user', lazy=True, cascade='all, delete-orphan')\n    career_roadmaps = db.relationship('CareerRoadmap', backref='user', lazy=True, cascade='all, delete-orphan')\n\nclass Resume(db.Model):\n    __tablename__ = 'resumes'\n    \n    id = db.Column(db.String(36), primary_key=True, default=generate_uuid)\n    user_id = db.Column(db.String(36), db.ForeignKey('users.id'), nullable=False)\n    filename = db.Column(db.Text, nullable=False)\n    filesize = db.Column(db.Integer, nullable=False)\n    mime_type = db.Column(db.Text, nullable=False)\n    extracted_text = db.Column(db.Text, nullable=False)\n    created_at = db.Column(db.DateTime, default=datetime.utcnow)\n    \n    analyses = db.relationship('Analysis', backref='resume', lazy=True, cascade='all, delete-orphan')\n    job_matches = db.relationship('JobMatch', backref='resume', lazy=True, cascade='all, delete-orphan')\n\nclass Analysis(db.Model):\n    __tablename__ = 'analyses'\n    \n    id = db.Column(db.String(36), primary_key=True, default=generate_uuid)\n    resume_id = db.Column(db.String(36), db.ForeignKey('resumes.id'), nullable=False)\n    completeness_score = db.Column(db.Integer, nullable=False)\n    completeness_rationale = db.Column(db.Text, nullable=False)\n    section_scores = db.Column(db.JSON, nullable=False)\n    suggestions = db.Column(db.JSON, nullable=False)\n    created_at = db.Column(db.DateTime, default=datetime.utcnow)\n\nclass JobMatch(db.Model):\n    __tablename__ = 'job_matches'\n    \n    id = db.Column(db.String(36), primary_key=True, default=generate_uuid)\n    resume_id = db.Column(db.String(36), db.ForeignKey('resumes.id'), nullable=False)\n    job_description = db.Column(db.Text, nullable=False)\n    job_role = db.Column(db.Text, nullable=True)\n    job_location = db.Column(db.Text, nullable=True)\n    alignment_score = db.Column(db.Integer, nullable=False)\n    alignment_rationale = db.Column(db.Text, nullable=False)\n    gaps = db.Column(db.JSON, nullable=False)\n    strengths = db.Column(db.JSON, nullable=False)\n    gap_responses = db.Column(db.JSON, nullable=True)\n    final_verdict = db.Column(db.Text, nullable=True)\n    should_apply = db.Column(db.Boolean, nullable=True)\n    changes_summary = db.Column(db.Text, nullable=True)\n    tailored_resume_content = db.Column(db.Text, nullable=True)\n    created_at = db.Column(db.DateTime, default=datetime.utcnow)\n\nclass CareerRoadmap(db.Model):\n    __tablename__ = 'career_roadmaps'\n    \n    id = db.Column(db.String(36), primary_key=True, default=generate_uuid)\n    user_id = db.Column(db.String(36), db.ForeignKey('users.id'), nullable=False)\n    resume_id = db.Column(db.String(36), db.ForeignKey('resumes.id'), nullable=False)\n    dream_role = db.Column(db.Text, nullable=False)\n    dream_location = db.Column(db.Text, nullable=False)\n    timeframe = db.Column(db.Text, nullable=False)\n    current_gaps = db.Column(db.JSON, nullable=False)\n    skills_to_acquire = db.Column(db.JSON, nullable=False)\n    action_plan = db.Column(db.JSON, nullable=False)\n    resources = db.Column(db.JSON, nullable=False)\n    milestones = db.Column(db.JSON, nullable=False)\n    created_at = db.Column(db.DateTime, default=datetime.utcnow)\n","path":null,"size_bytes":3607,"size_tokens":null},"run.py":{"content":"#!/usr/bin/env python3\n\"\"\"\nResuMatch Pro - Simplified Flask Application\nRun with: python run.py or python app.py\n\"\"\"\nimport os\n\nfrom app import app\n\nif __name__ == '__main__':\n    port = int(os.environ.get('PORT', 5000))\n    debug = os.environ.get('FLASK_DEBUG', 'true').lower() == 'true'\n    app.run(host='0.0.0.0', port=port, debug=debug)\n","path":null,"size_bytes":341,"size_tokens":null},"README.md":{"content":"# ResuMatch Pro\n\nAn AI-powered resume analysis and job matching web application that helps users evaluate and improve their resumes, match them against job opportunities, and plan their career roadmap.\n\n## 🚀 Features\n\n### 1. **Resume Analysis**\n- Upload resumes in multiple formats (PDF, DOCX, images via OCR)\n- AI-powered completeness scoring (0-100%)\n- Section-by-section quality ratings (Summary, Education, Experience, Other)\n- Brutally honest, actionable improvement suggestions\n- Zero-hallucination policy: AI suggests improvements without inventing fake metrics\n\n### 2. **Job Matching**\n- Two modes: Custom job description OR curated role + location selection\n- AI generates tailored job descriptions for role/location combinations\n- Semantic alignment scoring (0-100%)\n- Gap analysis with severity levels (High/Medium/Low)\n- Interactive gap assessment: Rate your proficiency (None/Basic/Moderate/Advanced)\n- Final AI verdict on whether to apply\n\n### 3. **Tailored Resume Generation**\n- ATS-optimized resumes customized for specific jobs\n- Preserves all original sections (Volunteering, Awards, Certifications, etc.)\n- Maintains all contact links (LinkedIn, GitHub, Google Scholar, etc.)\n- Integrates user-confirmed skills from gap assessment\n- Results-driven language enhancement (strong action verbs, impact-oriented)\n- PDF download with dynamic filename: `{UserName}_tailored resume.pdf`\n\n### 4. **Career Roadmap**\n- Personalized career development plans\n- Input: Dream role, location, timeframe (6 months to 2 years)\n- AI analyzes current gaps vs. target role\n- Phased action plans with specific steps\n- Resource recommendations (courses, certifications, books)\n- Milestone tracking\n\n## 🏗️ Architecture\n\n### **Backend** (Python Migration in Progress)\n- **Framework**: FastAPI (async, high-performance)\n- **Database**: PostgreSQL via SQLAlchemy ORM\n- **Authentication**: Password-based with bcrypt hashing\n- **AI Integration**: Google Gemini AI (gemini-2.0-flash-exp model)\n- **File Processing**: \n  - PDF: PyPDF2\n  - DOCX: python-docx\n  - Images: Tesseract.js OCR\n  - Max upload: 10MB\n\n### **Frontend** (React - Unchanged)\n- **Framework**: React + TypeScript + Vite\n- **UI**: shadcn/ui components + Tailwind CSS\n- **State**: TanStack Query (React Query)\n- **Routing**: Wouter\n- **PDF Generation**: pdfmake (client-side)\n\n### **Database Schema**\n```\nusers\n├── id (UUID)\n├── username\n└── password_hash\n\nresumes\n├── id (UUID)\n├── user_id (FK → users)\n├── filename\n├── filesize\n├── mime_type\n├── extracted_text\n└── created_at\n\nanalyses\n├── id (UUID)\n├── resume_id (FK → resumes)\n├── completeness_score (0-100)\n├── completeness_rationale\n├── section_scores (JSON)\n├── suggestions (JSON array)\n└── created_at\n\njob_matches\n├── id (UUID)\n├── resume_id (FK → resumes)\n├── job_description\n├── job_role (nullable)\n├── job_location (nullable)\n├── alignment_score (0-100)\n├── alignment_rationale\n├── gaps (JSON array)\n├── strengths (JSON array)\n├── gap_responses (JSON array)\n├── final_verdict\n├── should_apply (boolean)\n├── tailored_resume_content\n└── created_at\n\ncareer_roadmaps\n├── id (UUID)\n├── user_id (FK → users)\n├── resume_id (FK → resumes)\n├── dream_role\n├── dream_location\n├── timeframe\n├── current_gaps (JSON array)\n├── skills_to_acquire (JSON array)\n├── action_plan (JSON array)\n├── resources (JSON array)\n├── milestones (JSON array)\n└── created_at\n```\n\n## 🔧 Setup & Installation\n\n### Prerequisites\n- Python 3.11+\n- PostgreSQL database\n- Gemini API key\n\n### Environment Variables\nCreate a `.env` file with:\n```bash\nDATABASE_URL=postgresql://user:password@host:port/database\nSESSION_SECRET=your-secret-key-change-in-production\nGEMINI_API_KEY=your-gemini-api-key\n```\n\n### Installation\n\n1. **Install Python dependencies**:\n```bash\npip install -r python_requirements.txt\n```\n\nOr on Replit, packages are auto-installed.\n\n2. **Set up database**:\nThe application will auto-create tables on first run using SQLAlchemy.\n\n3. **Run the application**:\n```bash\n# Development mode\nuvicorn python_backend.main:app --reload --host 0.0.0.0 --port 8000\n\n# Production mode\nuvicorn python_backend.main:app --host 0.0.0.0 --port 8000\n```\n\n4. **Build React frontend** (if needed):\n```bash\nnpm install\nnpm run build\n```\n\n## 📁 Project Structure\n\n```\nresumatch-pro/\n├── python_backend/\n│   ├── __init__.py\n│   ├── main.py              # FastAPI app entry point\n│   ├── config.py            # Configuration & environment variables\n│   ├── models.py            # SQLAlchemy database models\n│   ├── database.py          # Database session management\n│   ├── auth.py              # Authentication utilities\n│   ├── file_processor.py    # File upload & text extraction\n│   ├── gemini_service.py    # Gemini AI integration\n│   └── routes/              # API route handlers (to be created)\n│       ├── auth.py\n│       ├── resumes.py\n│       ├── analyses.py\n│       ├── job_matches.py\n│       └── career_roadmaps.py\n├── client/\n│   └── src/\n│       ├── App.tsx          # React app & routing\n│       ├── pages/           # Page components\n│       ├── components/      # Reusable UI components\n│       └── lib/             # Utilities & API client\n├── attached_assets/         # User-uploaded files & generated content\n├── python_requirements.txt  # Python dependencies\n├── package.json             # Node.js dependencies\n└── README.md\n```\n\n## 🔐 Authentication\n\n- **Username + Password** authentication\n- Passwords hashed with bcrypt (cost factor 12)\n- Session-based authentication with secure cookies\n- Registration endpoint: `POST /api/auth/register`\n- Login endpoint: `POST /api/auth/login`\n- Logout endpoint: `POST /api/auth/logout`\n\n## 🤖 AI Integration\n\n### Gemini AI Features\n- **Model**: gemini-2.0-flash-exp (latest Flash model)\n- **Structured Output**: JSON schema enforcement\n- **Zero-Hallucination Policy**: Never invents metrics or data\n- **Brutally Honest Feedback**: Identifies weak language, buzzwords, missing metrics\n- **Results-Driven Language**: Transforms passive statements into impact-oriented achievements\n\n### API Endpoints (Planned)\n\n#### Authentication\n- `POST /api/auth/register` - Create new account\n- `POST /api/auth/login` - Login with username/password\n- `POST /api/auth/logout` - Logout\n- `GET /api/auth/me` - Get current user\n\n#### Resumes\n- `POST /api/resumes` - Upload resume (multipart/form-data)\n- `GET /api/resumes` - Get user's resumes\n- `GET /api/resumes/{id}` - Get specific resume\n\n#### Analyses\n- `POST /api/analyses` - Analyze a resume\n- `GET /api/analyses/{resume_id}` - Get analysis for resume\n\n#### Job Matches\n- `POST /api/job-matches` - Create job match analysis\n- `GET /api/job-matches/{resume_id}` - Get job matches for resume\n- `PATCH /api/job-matches/{id}/responses` - Submit gap proficiency responses\n- `POST /api/job-matches/{id}/tailored-resume` - Generate tailored resume\n\n#### Career Roadmaps\n- `POST /api/career-roadmaps` - Generate career roadmap\n- `GET /api/career-roadmaps` - Get user's career roadmaps\n\n## 🎨 Frontend Pages\n\n- **Landing Page**: Simple username/password login\n- **Dashboard**: Resume upload and management\n- **Resume Analysis**: AI analysis results with scores and suggestions\n- **Job Match Input**: Custom JD or role+location selection\n- **Job Match Results**: Alignment scores, gaps, strengths, recommendations\n- **Career Roadmap**: Dream role form and career guidance\n\n## 📝 Migration Notes\n\n### From Node.js to Python\n- ✅ SQLAlchemy models match existing PostgreSQL schema\n- ✅ UUID primary keys preserved\n- ✅ All JSONB columns supported\n- ✅ Authentication upgraded from username-only to username+password\n- ✅ Gemini AI service ported with identical prompts\n- ✅ File processing pipeline (PDF, DOCX, OCR) reimplemented\n- 🚧 FastAPI routes in progress\n- 🚧 Session management setup\n- 🚧 React frontend integration\n\n### Database Compatibility\n- Existing data preserved (users, resumes, analyses, job_matches, career_roadmaps)\n- Schema unchanged - seamless migration\n- Add `password_hash` column to `users` table for existing users\n\n## 🧪 Testing\n\n(To be implemented)\n- Unit tests for AI service\n- Integration tests for API endpoints\n- E2E tests with Playwright\n\n## 🚢 Deployment\n\nThe application is designed to run on Replit with:\n- Auto-managed PostgreSQL database\n- Environment secrets management\n- One-click deployment\n\n## 📄 License\n\nProprietary - All rights reserved\n\n## 🤝 Contributing\n\nThis is a private project. Contact the owner for collaboration opportunities.\n\n## 📞 Support\n\nFor issues or questions, please contact the project maintainer.\n\n---\n\n**Built with ❤️ using FastAPI, React, and Gemini AI**\n","path":null,"size_bytes":9078,"size_tokens":null},"services/gateway/__init__.py":{"content":"# API Gateway - Main Flask application with routes and templates\n","path":null,"size_bytes":65,"size_tokens":null},"services/shared/models.py":{"content":"from flask_sqlalchemy import SQLAlchemy\nfrom datetime import datetime\nimport uuid\n\ndb = SQLAlchemy()\n\ndef generate_uuid():\n    return str(uuid.uuid4())\n\nclass User(db.Model):\n    __tablename__ = 'users'\n    \n    id = db.Column(db.String(36), primary_key=True, default=generate_uuid)\n    username = db.Column(db.Text, unique=True, nullable=False)\n    password_hash = db.Column(db.Text, nullable=True)\n    \n    resumes = db.relationship('Resume', backref='user', lazy=True, cascade='all, delete-orphan')\n    career_roadmaps = db.relationship('CareerRoadmap', backref='user', lazy=True, cascade='all, delete-orphan')\n\nclass Resume(db.Model):\n    __tablename__ = 'resumes'\n    \n    id = db.Column(db.String(36), primary_key=True, default=generate_uuid)\n    user_id = db.Column(db.String(36), db.ForeignKey('users.id'), nullable=False)\n    filename = db.Column(db.Text, nullable=False)\n    filesize = db.Column(db.Integer, nullable=False)\n    mime_type = db.Column(db.Text, nullable=False)\n    extracted_text = db.Column(db.Text, nullable=False)\n    created_at = db.Column(db.DateTime, default=datetime.utcnow)\n    \n    analyses = db.relationship('Analysis', backref='resume', lazy=True, cascade='all, delete-orphan')\n    job_matches = db.relationship('JobMatch', backref='resume', lazy=True, cascade='all, delete-orphan')\n\nclass Analysis(db.Model):\n    __tablename__ = 'analyses'\n    \n    id = db.Column(db.String(36), primary_key=True, default=generate_uuid)\n    resume_id = db.Column(db.String(36), db.ForeignKey('resumes.id'), nullable=False)\n    completeness_score = db.Column(db.Integer, nullable=False)\n    completeness_rationale = db.Column(db.Text, nullable=False)\n    section_scores = db.Column(db.JSON, nullable=False)\n    suggestions = db.Column(db.JSON, nullable=False)\n    created_at = db.Column(db.DateTime, default=datetime.utcnow)\n\nclass JobMatch(db.Model):\n    __tablename__ = 'job_matches'\n    \n    id = db.Column(db.String(36), primary_key=True, default=generate_uuid)\n    resume_id = db.Column(db.String(36), db.ForeignKey('resumes.id'), nullable=False)\n    job_description = db.Column(db.Text, nullable=False)\n    job_role = db.Column(db.Text, nullable=True)\n    job_location = db.Column(db.Text, nullable=True)\n    alignment_score = db.Column(db.Integer, nullable=False)\n    alignment_rationale = db.Column(db.Text, nullable=False)\n    gaps = db.Column(db.JSON, nullable=False)\n    strengths = db.Column(db.JSON, nullable=False)\n    gap_responses = db.Column(db.JSON, nullable=True)\n    final_verdict = db.Column(db.Text, nullable=True)\n    should_apply = db.Column(db.Boolean, nullable=True)\n    changes_summary = db.Column(db.Text, nullable=True)\n    tailored_resume_content = db.Column(db.Text, nullable=True)\n    created_at = db.Column(db.DateTime, default=datetime.utcnow)\n\nclass CareerRoadmap(db.Model):\n    __tablename__ = 'career_roadmaps'\n    \n    id = db.Column(db.String(36), primary_key=True, default=generate_uuid)\n    user_id = db.Column(db.String(36), db.ForeignKey('users.id'), nullable=False)\n    resume_id = db.Column(db.String(36), db.ForeignKey('resumes.id'), nullable=False)\n    dream_role = db.Column(db.Text, nullable=False)\n    dream_location = db.Column(db.Text, nullable=False)\n    timeframe = db.Column(db.Text, nullable=False)\n    current_gaps = db.Column(db.JSON, nullable=False)\n    skills_to_acquire = db.Column(db.JSON, nullable=False)\n    action_plan = db.Column(db.JSON, nullable=False)\n    resources = db.Column(db.JSON, nullable=False)\n    milestones = db.Column(db.JSON, nullable=False)\n    created_at = db.Column(db.DateTime, default=datetime.utcnow)\n","path":null,"size_bytes":3607,"size_tokens":null},"ai_service.py":{"content":"import google.generativeai as genai\nimport json\nimport os\nimport re\nfrom typing import Dict, List, Any, Tuple\n\ngemini_api_key = os.getenv(\"GEMINI_API_KEY\")\nif gemini_api_key:\n    genai.configure(api_key=gemini_api_key)\n\nmodel = genai.GenerativeModel('gemini-2.0-flash-exp')\n\n\ndef rule_based_analysis(resume_text: str) -> Tuple[int, Dict[str, Any]]:\n    \"\"\"\n    Perform objective rule-based analysis of resume to detect sections and elements.\n    Returns a base score (0-100) and detailed findings.\n    \"\"\"\n    text_lower = resume_text.lower()\n    findings = {\n        \"has_email\": False,\n        \"has_phone\": False,\n        \"has_linkedin\": False,\n        \"has_github\": False,\n        \"has_summary\": False,\n        \"has_education\": False,\n        \"has_experience\": False,\n        \"has_skills\": False,\n        \"has_projects\": False,\n        \"has_certifications\": False,\n        \"has_awards\": False,\n        \"bullet_count\": 0,\n        \"quantified_achievements\": 0,\n        \"action_verbs_count\": 0,\n        \"word_count\": 0,\n        \"weak_phrases_count\": 0\n    }\n    \n    email_pattern = r'[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}'\n    findings[\"has_email\"] = bool(re.search(email_pattern, resume_text))\n    \n    phone_patterns = [\n        r'\\(\\d{3}\\)\\s*\\d{3}[-.\\s]\\d{4}',\n        r'\\b\\d{3}[-.\\s]\\d{3}[-.\\s]\\d{4}\\b',\n        r'\\+1\\s*\\(\\d{3}\\)\\s*\\d{3}[-.\\s]\\d{4}',\n        r'\\+1[-.\\s]\\d{3}[-.\\s]\\d{3}[-.\\s]\\d{4}',\n    ]\n    phone_label_pattern = r'(?:phone|tel|cell|mobile|contact)[:\\s]*[\\d\\(\\)\\-\\.\\s\\+]+'\n    has_labeled_phone = bool(re.search(phone_label_pattern, resume_text, re.IGNORECASE))\n    has_pattern_phone = any(re.search(p, resume_text) for p in phone_patterns)\n    findings[\"has_phone\"] = has_labeled_phone or has_pattern_phone\n    \n    findings[\"has_linkedin\"] = \"linkedin\" in text_lower\n    findings[\"has_github\"] = \"github\" in text_lower\n    \n    summary_indicators = [\"summary\", \"objective\", \"profile\", \"about me\", \"professional summary\"]\n    findings[\"has_summary\"] = any(ind in text_lower for ind in summary_indicators)\n    \n    education_indicators = [\"education\", \"degree\", \"university\", \"college\", \"bachelor\", \"master\", \"ph.d\", \"phd\", \"diploma\"]\n    findings[\"has_education\"] = any(ind in text_lower for ind in education_indicators)\n    \n    experience_indicators = [\"experience\", \"employment\", \"work history\", \"professional experience\", \"career history\"]\n    findings[\"has_experience\"] = any(ind in text_lower for ind in experience_indicators)\n    \n    skills_indicators = [\"skills\", \"technical skills\", \"competencies\", \"proficiencies\", \"technologies\"]\n    findings[\"has_skills\"] = any(ind in text_lower for ind in skills_indicators)\n    \n    projects_indicators = [\"projects\", \"portfolio\", \"personal projects\", \"side projects\"]\n    findings[\"has_projects\"] = any(ind in text_lower for ind in projects_indicators)\n    \n    cert_indicators = [\"certification\", \"certified\", \"certificate\", \"license\", \"credential\"]\n    findings[\"has_certifications\"] = any(ind in text_lower for ind in cert_indicators)\n    \n    award_indicators = [\"award\", \"honor\", \"recognition\", \"achievement\", \"scholarship\"]\n    findings[\"has_awards\"] = any(ind in text_lower for ind in award_indicators)\n    \n    bullet_patterns = [r'^[\\s]*[•\\-\\*\\→\\►\\✓\\☑]', r'^[\\s]*\\d+[.\\)]']\n    for line in resume_text.split('\\n'):\n        for pattern in bullet_patterns:\n            if re.match(pattern, line.strip()):\n                findings[\"bullet_count\"] += 1\n                break\n    \n    quantified_pattern = r'\\b\\d+[%\\+]?\\b|\\$[\\d,]+|\\b\\d{1,3}(?:,\\d{3})*\\b'\n    findings[\"quantified_achievements\"] = len(re.findall(quantified_pattern, resume_text))\n    \n    strong_verbs = [\n        \"led\", \"managed\", \"developed\", \"created\", \"implemented\", \"designed\", \"launched\",\n        \"increased\", \"reduced\", \"improved\", \"achieved\", \"delivered\", \"built\", \"established\",\n        \"generated\", \"optimized\", \"spearheaded\", \"pioneered\", \"orchestrated\", \"transformed\",\n        \"accelerated\", \"streamlined\", \"architected\", \"scaled\", \"drove\", \"executed\"\n    ]\n    for verb in strong_verbs:\n        findings[\"action_verbs_count\"] += len(re.findall(r'\\b' + verb + r'\\w*\\b', text_lower))\n    \n    weak_phrases = [\n        \"responsible for\", \"duties included\", \"worked on\", \"helped with\", \"assisted in\",\n        \"participated in\", \"was involved in\", \"team player\", \"hard worker\", \"detail-oriented\",\n        \"results-driven\", \"go-getter\", \"think outside the box\", \"synergy\"\n    ]\n    for phrase in weak_phrases:\n        findings[\"weak_phrases_count\"] += len(re.findall(re.escape(phrase), text_lower))\n    \n    findings[\"word_count\"] = len(resume_text.split())\n    \n    score = 0\n    \n    contact_score = 0\n    if findings[\"has_email\"]: contact_score += 8\n    if findings[\"has_phone\"]: contact_score += 7\n    if findings[\"has_linkedin\"]: contact_score += 5\n    if findings[\"has_github\"]: contact_score += 5\n    score += min(contact_score, 20)\n    \n    if findings[\"has_summary\"]: score += 10\n    if findings[\"has_education\"]: score += 15\n    if findings[\"has_experience\"]: score += 20\n    if findings[\"has_skills\"]: score += 10\n    \n    if findings[\"has_projects\"]: score += 5\n    if findings[\"has_certifications\"]: score += 5\n    if findings[\"has_awards\"]: score += 5\n    \n    if findings[\"bullet_count\"] >= 10: score += 5\n    elif findings[\"bullet_count\"] >= 5: score += 3\n    elif findings[\"bullet_count\"] >= 1: score += 1\n    \n    if findings[\"quantified_achievements\"] >= 5: score += 5\n    elif findings[\"quantified_achievements\"] >= 2: score += 3\n    elif findings[\"quantified_achievements\"] >= 1: score += 1\n    \n    score -= min(findings[\"weak_phrases_count\"] * 2, 10)\n    \n    score = max(0, min(100, score))\n    \n    return score, findings\n\n\ndef clean_json_response(text: str) -> str:\n    text = text.strip()\n    \n    if text.startswith(\"```json\"):\n        text = text[7:]\n    elif text.startswith(\"```\"):\n        text = text[3:]\n    if text.endswith(\"```\"):\n        text = text[:-3]\n    \n    text = text.strip()\n    \n    brace_start = text.find('{')\n    if brace_start != -1:\n        brace_count = 0\n        end_pos = -1\n        for i, char in enumerate(text[brace_start:], brace_start):\n            if char == '{':\n                brace_count += 1\n            elif char == '}':\n                brace_count -= 1\n                if brace_count == 0:\n                    end_pos = i\n                    break\n        if end_pos != -1:\n            text = text[brace_start:end_pos + 1]\n    \n    return text\n\n\ndef analyze_resume(resume_text: str) -> Dict[str, Any]:\n    from datetime import datetime\n    current_year = datetime.now().year\n    \n    rule_score, findings = rule_based_analysis(resume_text)\n    \n    detected_elements = []\n    missing_elements = []\n    \n    if findings[\"has_email\"]: detected_elements.append(\"email\")\n    else: missing_elements.append(\"email\")\n    if findings[\"has_phone\"]: detected_elements.append(\"phone\")\n    else: missing_elements.append(\"phone\")\n    if findings[\"has_linkedin\"]: detected_elements.append(\"LinkedIn\")\n    if findings[\"has_github\"]: detected_elements.append(\"GitHub\")\n    if findings[\"has_summary\"]: detected_elements.append(\"summary/objective\")\n    else: missing_elements.append(\"summary/objective\")\n    if findings[\"has_education\"]: detected_elements.append(\"education section\")\n    else: missing_elements.append(\"education section\")\n    if findings[\"has_experience\"]: detected_elements.append(\"experience section\")\n    else: missing_elements.append(\"experience section\")\n    if findings[\"has_skills\"]: detected_elements.append(\"skills section\")\n    else: missing_elements.append(\"skills section\")\n    if findings[\"has_projects\"]: detected_elements.append(\"projects\")\n    if findings[\"has_certifications\"]: detected_elements.append(\"certifications\")\n    if findings[\"has_awards\"]: detected_elements.append(\"awards/honors\")\n    \n    findings_summary = f\"\"\"\nPRE-ANALYSIS FINDINGS (verified by objective detection):\n- Detected elements: {', '.join(detected_elements) if detected_elements else 'None'}\n- Missing elements: {', '.join(missing_elements) if missing_elements else 'None'}\n- Bullet points found: {findings['bullet_count']}\n- Quantified achievements (numbers/metrics): {findings['quantified_achievements']}\n- Strong action verbs used: {findings['action_verbs_count']}\n- Weak/overused phrases detected: {findings['weak_phrases_count']}\n- Word count: {findings['word_count']}\n\"\"\"\n    \n    prompt = f\"\"\"You are a brutally honest resume expert and career coach. Act as a recruiter reviewing this resume - be direct about weaknesses.\n\nIMPORTANT: The current year is {current_year}. When calculating years of experience:\n- If someone worked from 2021 to Present/{current_year}, that is {current_year - 2021} years\n- If dates say \"to Present\" or \"to Current\", use {current_year} as the end year\n- Calculate experience accurately based on actual start and end dates\n\n{findings_summary}\n\nRESUME TEXT:\n{resume_text}\n\nSCORING GUIDELINES - Use the FULL range based on actual quality:\n- 90-100: Exceptional resume - has everything, strong metrics, excellent formatting, ready for senior roles\n- 80-89: Very strong resume - comprehensive with good metrics, minor improvements possible\n- 70-79: Good resume - solid foundation but missing some elements or metrics\n- 60-69: Adequate resume - has basics but needs significant improvement in metrics/content\n- 50-59: Below average - missing key sections or has major quality issues\n- 40-49: Poor resume - multiple missing sections, vague content, weak presentation\n- 0-39: Severely lacking - barely qualifies as a resume, major overhaul needed\n\nEvaluate the resume across these dimensions:\n\n1. COMPLETENESS SCORE (0-100):\n   - Base your score on the PRE-ANALYSIS FINDINGS above\n   - A resume missing email, phone, experience, OR education should score below 60\n   - A resume with few quantified achievements and many weak phrases should score below 70\n   - Only score above 85 if the resume has comprehensive sections, strong metrics, and few weaknesses\n   - Provide a brutally honest rationale\n\n2. SECTION QUALITY SCORES (0-5 each):\n   - Summary: Quality and impact of professional summary/objective (0 if missing)\n   - Education: Completeness and presentation of educational background (0 if missing)\n   - Experience: Depth, relevance, and presentation of work history (0 if missing)\n   - Other: Projects, volunteering, awards, skills, certifications\n\n3. IMPROVEMENT SUGGESTIONS (BE BRUTALLY HONEST):\n   - Provide 5-8 specific, actionable suggestions\n   - Call out overused buzzwords\n   - Identify vague statements lacking metrics\n   - Flag weak action verbs\n   - Point out where quantifiable results are missing\n   - DO NOT invent or suggest specific numbers\n\nReturn ONLY valid JSON:\n{{\"completenessScore\": <your_score>, \"completenessRationale\": \"...\", \"sectionScores\": {{\"summary\": <0-5>, \"education\": <0-5>, \"experience\": <0-5>, \"other\": <0-5>}}, \"suggestions\": [\"...\", \"...\"]}}\"\"\"\n\n    try:\n        response = model.generate_content(prompt)\n        text = clean_json_response(response.text)\n        data = json.loads(text)\n        \n        ai_score = min(100, max(0, data.get(\"completenessScore\", 0)))\n        \n        combined_score = int((rule_score * 0.4) + (ai_score * 0.6))\n        combined_score = max(0, min(100, combined_score))\n        \n        ai_rationale = data.get(\"completenessRationale\", \"No rationale provided\")\n        \n        return {\n            \"completenessScore\": combined_score,\n            \"completenessRationale\": ai_rationale,\n            \"sectionScores\": {\n                \"summary\": min(5, max(0, data.get(\"sectionScores\", {}).get(\"summary\", 0))),\n                \"education\": min(5, max(0, data.get(\"sectionScores\", {}).get(\"education\", 0))),\n                \"experience\": min(5, max(0, data.get(\"sectionScores\", {}).get(\"experience\", 0))),\n                \"other\": min(5, max(0, data.get(\"sectionScores\", {}).get(\"other\", 0))),\n            },\n            \"suggestions\": data.get(\"suggestions\", [])[:8],\n            \"ruleBasedFindings\": findings\n        }\n    except Exception as e:\n        raise ValueError(f\"Failed to analyze resume: {str(e)}\")\n\n\ndef extract_job_keywords(job_description: str) -> Dict[str, List[str]]:\n    \"\"\"\n    Extract important keywords and requirements from job description.\n    Returns categorized keywords for matching analysis.\n    \"\"\"\n    text_lower = job_description.lower()\n    \n    tech_skills = []\n    soft_skills = []\n    requirements = []\n    tools = []\n    \n    common_tech = [\n        \"python\", \"java\", \"javascript\", \"typescript\", \"c++\", \"c#\", \"ruby\", \"go\", \"rust\", \"scala\",\n        \"sql\", \"nosql\", \"mongodb\", \"postgresql\", \"mysql\", \"redis\", \"elasticsearch\",\n        \"aws\", \"azure\", \"gcp\", \"docker\", \"kubernetes\", \"terraform\", \"ansible\",\n        \"react\", \"angular\", \"vue\", \"node.js\", \"django\", \"flask\", \"spring\",\n        \"machine learning\", \"deep learning\", \"nlp\", \"computer vision\", \"ai\",\n        \"tensorflow\", \"pytorch\", \"scikit-learn\", \"pandas\", \"numpy\",\n        \"git\", \"ci/cd\", \"jenkins\", \"github actions\", \"gitlab\",\n        \"rest api\", \"graphql\", \"microservices\", \"agile\", \"scrum\",\n        \"data analysis\", \"data science\", \"data engineering\", \"etl\",\n        \"linux\", \"unix\", \"bash\", \"shell scripting\"\n    ]\n    \n    for skill in common_tech:\n        if skill in text_lower:\n            tech_skills.append(skill)\n    \n    common_soft = [\n        \"communication\", \"leadership\", \"teamwork\", \"problem-solving\", \"analytical\",\n        \"collaboration\", \"project management\", \"time management\", \"critical thinking\",\n        \"attention to detail\", \"creativity\", \"adaptability\", \"mentoring\"\n    ]\n    \n    for skill in common_soft:\n        if skill in text_lower:\n            soft_skills.append(skill)\n    \n    experience_patterns = [\n        r'(\\d+)\\+?\\s*years?\\s+(?:of\\s+)?experience',\n        r'(\\d+)\\+?\\s*years?\\s+(?:in|with)',\n        r'minimum\\s+(\\d+)\\s+years?',\n        r'at\\s+least\\s+(\\d+)\\s+years?'\n    ]\n    for pattern in experience_patterns:\n        matches = re.findall(pattern, text_lower)\n        for match in matches:\n            requirements.append(f\"{match}+ years experience\")\n    \n    degree_patterns = [\"bachelor\", \"master\", \"phd\", \"ph.d\", \"doctorate\", \"mba\", \"bs\", \"ms\", \"b.s.\", \"m.s.\"]\n    for degree in degree_patterns:\n        if degree in text_lower:\n            requirements.append(f\"{degree} degree\")\n    \n    return {\n        \"tech_skills\": list(set(tech_skills)),\n        \"soft_skills\": list(set(soft_skills)),\n        \"requirements\": list(set(requirements)),\n        \"tools\": list(set(tools))\n    }\n\n\ndef keyword_match_analysis(resume_text: str, job_keywords: Dict[str, List[str]]) -> Dict[str, Any]:\n    \"\"\"\n    Check how many job keywords are present in the resume.\n    Returns match statistics and missing keywords.\n    \"\"\"\n    resume_lower = resume_text.lower()\n    \n    results = {\n        \"tech_skills\": {\"matched\": [], \"missing\": []},\n        \"soft_skills\": {\"matched\": [], \"missing\": []},\n        \"requirements\": {\"matched\": [], \"missing\": []},\n        \"overall_match_rate\": 0,\n        \"total_keywords\": 0,\n        \"matched_count\": 0\n    }\n    \n    total = 0\n    matched = 0\n    \n    for skill in job_keywords.get(\"tech_skills\", []):\n        total += 1\n        if skill in resume_lower:\n            results[\"tech_skills\"][\"matched\"].append(skill)\n            matched += 1\n        else:\n            results[\"tech_skills\"][\"missing\"].append(skill)\n    \n    for skill in job_keywords.get(\"soft_skills\", []):\n        total += 1\n        if skill in resume_lower:\n            results[\"soft_skills\"][\"matched\"].append(skill)\n            matched += 1\n        else:\n            results[\"soft_skills\"][\"missing\"].append(skill)\n    \n    for req in job_keywords.get(\"requirements\", []):\n        total += 1\n        req_parts = req.lower().split()\n        if any(part in resume_lower for part in req_parts if len(part) > 3):\n            results[\"requirements\"][\"matched\"].append(req)\n            matched += 1\n        else:\n            results[\"requirements\"][\"missing\"].append(req)\n    \n    results[\"total_keywords\"] = total\n    results[\"matched_count\"] = matched\n    results[\"overall_match_rate\"] = int((matched / total * 100) if total > 0 else 0)\n    \n    return results\n\n\ndef analyze_job_match(resume_text: str, job_description: str) -> Dict[str, Any]:\n    job_keywords = extract_job_keywords(job_description)\n    keyword_results = keyword_match_analysis(resume_text, job_keywords)\n    \n    keyword_summary = f\"\"\"\nKEYWORD ANALYSIS (objective detection):\n- Technical Skills Found: {len(keyword_results['tech_skills']['matched'])} of {len(job_keywords['tech_skills'])}\n  - Matched: {', '.join(keyword_results['tech_skills']['matched']) if keyword_results['tech_skills']['matched'] else 'None'}\n  - Missing: {', '.join(keyword_results['tech_skills']['missing']) if keyword_results['tech_skills']['missing'] else 'None'}\n- Soft Skills Found: {len(keyword_results['soft_skills']['matched'])} of {len(job_keywords['soft_skills'])}\n  - Matched: {', '.join(keyword_results['soft_skills']['matched']) if keyword_results['soft_skills']['matched'] else 'None'}\n  - Missing: {', '.join(keyword_results['soft_skills']['missing']) if keyword_results['soft_skills']['missing'] else 'None'}\n- Requirements: {len(keyword_results['requirements']['matched'])} of {len(job_keywords['requirements'])}\n  - Matched: {', '.join(keyword_results['requirements']['matched']) if keyword_results['requirements']['matched'] else 'None'}\n  - Missing: {', '.join(keyword_results['requirements']['missing']) if keyword_results['requirements']['missing'] else 'None'}\n- Overall Keyword Match Rate: {keyword_results['overall_match_rate']}%\n\"\"\"\n    \n    prompt = f\"\"\"You are a senior technical recruiter and career coach. Analyze how well this resume aligns with the job description using BOTH semantic understanding AND the keyword analysis provided.\n\n{keyword_summary}\n\nRESUME TEXT:\n{resume_text}\n\nJOB DESCRIPTION:\n{job_description}\n\nSCORING GUIDELINES - Use the FULL range based on actual fit:\n- 90-100: Exceptional match - meets/exceeds all requirements, has all key skills, strong relevant experience\n- 80-89: Strong match - meets most requirements, has most key skills, good relevant experience\n- 70-79: Good match - meets core requirements but missing some preferred skills\n- 60-69: Moderate match - meets some requirements, has transferable skills, needs upskilling\n- 50-59: Partial match - has foundational skills but significant gaps exist\n- 40-49: Weak match - limited overlap, would need substantial development\n- 0-39: Poor match - candidate lacks most required qualifications\n\nANALYSIS REQUIREMENTS:\n1. ALIGNMENT SCORE: Consider both keyword matches AND semantic fit (years experience, domain knowledge, career trajectory)\n2. GAPS: Identify 3-8 specific gaps with severity levels\n   - HIGH: Missing must-have requirements or core technical skills\n   - MEDIUM: Missing preferred qualifications or secondary skills  \n   - LOW: Minor gaps or nice-to-have skills not present\n3. STRENGTHS: 3-6 specific areas where resume strongly matches job\n4. RECOMMENDATIONS: 5-8 actionable steps to improve candidacy\n\nReturn ONLY valid JSON:\n{{\"alignmentScore\": <your_score>, \"alignmentRationale\": \"...\", \"gaps\": [{{\"category\": \"...\", \"description\": \"...\", \"severity\": \"high|medium|low\"}}], \"strengths\": [\"...\"], \"recommendations\": [\"...\"]}}\"\"\"\n\n    try:\n        response = model.generate_content(prompt)\n        text = clean_json_response(response.text)\n        data = json.loads(text)\n        \n        ai_score = min(100, max(0, data.get(\"alignmentScore\", 0)))\n        keyword_score = keyword_results[\"overall_match_rate\"]\n        \n        combined_score = int((keyword_score * 0.3) + (ai_score * 0.7))\n        combined_score = max(0, min(100, combined_score))\n        \n        return {\n            \"alignmentScore\": combined_score,\n            \"alignmentRationale\": data.get(\"alignmentRationale\", \"No rationale provided\"),\n            \"gaps\": data.get(\"gaps\", [])[:8],\n            \"strengths\": data.get(\"strengths\", [])[:6],\n            \"recommendations\": data.get(\"recommendations\", [])[:8],\n            \"keywordAnalysis\": keyword_results\n        }\n    except Exception as e:\n        raise ValueError(f\"Failed to analyze job match: {str(e)}\")\n\n\ndef generate_job_description(role: str, location: str) -> str:\n    prompt = f\"\"\"Generate a realistic job description for a {role} position in {location}.\n\nInclude:\n- Company overview (generic tech company)\n- Role responsibilities (5-7 key responsibilities)\n- Required qualifications\n- Preferred qualifications\n- Benefits overview\n\nRespond with just the job description text, no JSON.\"\"\"\n\n    try:\n        response = model.generate_content(prompt)\n        return response.text\n    except Exception as e:\n        raise ValueError(f\"Failed to generate job description: {str(e)}\")\n\n\ndef generate_final_verdict(\n    resume_text: str,\n    job_description: str,\n    alignment_score: int,\n    gaps: List[Dict[str, str]],\n    gap_responses: List[Dict[str, Any]]\n) -> Dict[str, Any]:\n    gap_details = []\n    for index, gap in enumerate(gaps):\n        response = next((r for r in gap_responses if r.get(\"gapIndex\") == index), None)\n        user_response = response.get(\"userResponse\", \"No response provided\") if response else \"No response provided\"\n        if not user_response or user_response.strip() == \"\":\n            user_response = \"No response provided\"\n        gap_details.append(f\"\"\"\nGAP {index + 1}: {gap['category']} - {gap['description']}\nSeverity: {gap['severity']}\nUser's Response: \"{user_response}\"\n\"\"\")\n    \n    prompt = f\"\"\"You are an expert career coach. Based on the analysis and the user's FREE-TEXT responses about their experience with each gap, provide a final recommendation.\n\nALIGNMENT SCORE: {alignment_score}%\n\nIDENTIFIED GAPS AND USER'S RESPONSES:\n{chr(10).join(gap_details)}\n\nRESUME (excerpt):\n{resume_text[:2000]}\n\nJOB DESCRIPTION (excerpt):\n{job_description[:2000]}\n\nINSTRUCTIONS:\n1. Carefully interpret each user response to understand their actual experience level with each gap area\n2. Consider semantic meaning - phrases like \"I've done this in 3 projects\" indicates experience, while \"never used but want to learn\" indicates no experience but willingness\n3. Factor in both the alignment score AND the user's claimed experience when making your recommendation\n4. Be encouraging while being realistic\n\nProvide:\n1. A comprehensive final verdict (2-3 paragraphs) that references specific things the user mentioned in their responses\n2. A boolean recommendation on whether they should apply based on overall fit AND their claimed experience\n\nReturn ONLY valid JSON:\n{{\"verdict\": \"...\", \"shouldApply\": true}}\"\"\"\n\n    try:\n        response = model.generate_content(prompt)\n        text = clean_json_response(response.text)\n        data = json.loads(text)\n        \n        return {\n            \"verdict\": data.get(\"verdict\", \"Unable to generate verdict.\"),\n            \"shouldApply\": data.get(\"shouldApply\", True)\n        }\n    except Exception as e:\n        raise ValueError(f\"Failed to generate verdict: {str(e)}\")\n\n\ndef generate_tailored_resume(\n    original_resume_text: str,\n    job_description: str,\n    strengths: List[str],\n    gaps: List[Dict[str, str]],\n    gap_responses: List[Dict[str, Any]]\n) -> Dict[str, str]:\n    user_experience_details = []\n    for response in gap_responses:\n        gap_idx = response.get(\"gapIndex\", 0)\n        user_response = response.get(\"userResponse\", \"\")\n        if gap_idx < len(gaps) and user_response and user_response.strip():\n            gap = gaps[gap_idx]\n            user_experience_details.append(f\"\"\"\nSkill/Gap: {gap['category']}\nUser's Experience: \"{user_response}\"\n\"\"\")\n    \n    skills_text = chr(10).join(user_experience_details) if user_experience_details else \"No additional experience provided\"\n    \n    prompt = f\"\"\"You are an expert resume writer. Create a tailored, ATS-optimized resume.\n\nORIGINAL RESUME:\n{original_resume_text}\n\nTARGET JOB:\n{job_description[:2000]}\n\nSTRENGTHS TO HIGHLIGHT:\n{chr(10).join(f'- {s}' for s in strengths)}\n\nUSER'S ADDITIONAL EXPERIENCE (interpret from their free-text responses):\n{skills_text}\n\nRULES:\n- Transform weak verbs: \"responsible for\" → \"led\", \"worked on\" → \"architected\"\n- NEVER invent metrics - only use existing numbers from original resume\n- Preserve ALL sections from original (Volunteering, Awards, Certifications, Memberships, etc.)\n- Keep ALL contact links exactly as they appear\n- Interpret user's experience descriptions and add relevant skills they mentioned to the Skills section\n- If user described specific experience (e.g., \"used in 2 projects\"), incorporate that context where appropriate\n- Use LaTeX (not L ATEX) when referencing that tool\n\nRETURN ONLY THIS JSON (no markdown, no extra text):\n{{\n  \"changes_summary\": [\"change 1\", \"change 2\", \"change 3\"],\n  \"header\": {{\n    \"name\": \"Full Name, Ph.D.\",\n    \"titles\": [\"Data Scientist\", \"Computational Physicist\"],\n    \"email\": \"email@example.com\",\n    \"phone\": \"(xxx) xxx-xxxx\",\n    \"location\": \"City, State\",\n    \"linkedin\": \"linkedin.com/in/username\",\n    \"github\": \"github.com/username\",\n    \"kaggle\": \"kaggle.com/username\",\n    \"medium\": \"medium.com/@username\",\n    \"google_scholar\": \"scholar.google.com/citations?user=xxx\"\n  }},\n  \"sections\": [\n    {{\n      \"title\": \"PROFESSIONAL SUMMARY\",\n      \"type\": \"paragraph\",\n      \"content\": \"2-3 sentences here.\"\n    }},\n    {{\n      \"title\": \"TECHNICAL SKILLS\",\n      \"type\": \"skills\",\n      \"content\": [\n        {{\"category\": \"Languages & Tools\", \"items\": \"Python, SQL, etc.\"}},\n        {{\"category\": \"ML/DL\", \"items\": \"TensorFlow, PyTorch\"}}\n      ]\n    }},\n    {{\n      \"title\": \"CERTIFICATIONS\",\n      \"type\": \"inline\",\n      \"content\": \"Cert1; Cert2; Cert3\"\n    }},\n    {{\n      \"title\": \"EXPERIENCE\",\n      \"type\": \"jobs\",\n      \"content\": [\n        {{\n          \"job_title\": \"Job Title\",\n          \"company\": \"Company Name\",\n          \"location\": \"City, State\",\n          \"dates\": \"Start – End\",\n          \"bullets\": [\"Achievement 1\", \"Achievement 2\"]\n        }}\n      ]\n    }},\n    {{\n      \"title\": \"EDUCATION\",\n      \"type\": \"education\",\n      \"content\": [\n        {{\n          \"degree\": \"Ph.D. in Field\",\n          \"institution\": \"University Name\",\n          \"dates\": \"Year\",\n          \"bullets\": [\"Detail 1\"]\n        }}\n      ]\n    }},\n    {{\n      \"title\": \"PROFESSIONAL MEMBERSHIP, LEADERSHIP & SERVICE\",\n      \"type\": \"bullets\",\n      \"content\": [\"Item 1\", \"Item 2\"]\n    }},\n    {{\n      \"title\": \"AWARDS\",\n      \"type\": \"bullets\",\n      \"content\": [\"Award 1\", \"Award 2\"]\n    }}\n  ]\n}}\n\nInclude ALL original sections. Return ONLY valid JSON.\"\"\"\n\n    try:\n        response = model.generate_content(prompt)\n        full_response = response.text\n        \n        json_text = clean_json_response(full_response)\n        resume_data = json.loads(json_text)\n        \n        changes = resume_data.get('changes_summary', [])\n        changes_text = '\\n'.join(f\"• {c}\" for c in changes) if changes else \"Resume optimized for ATS.\"\n        \n        return {\n            \"changesSummary\": changes_text,\n            \"resumeMarkdown\": json.dumps(resume_data),\n            \"resumeJson\": resume_data\n        }\n    except json.JSONDecodeError:\n        return {\n            \"changesSummary\": \"Resume optimized for ATS and tailored to job requirements.\",\n            \"resumeMarkdown\": full_response\n        }\n    except Exception as e:\n        raise ValueError(f\"Failed to generate tailored resume: {str(e)}\")\n\n\ndef generate_career_roadmap(\n    resume_text: str,\n    dream_role: str,\n    dream_location: str,\n    timeframe: str\n) -> Dict[str, Any]:\n    prompt = f\"\"\"You are an expert career coach helping someone transition to their dream role.\n\nCURRENT RESUME:\n{resume_text}\n\nCAREER GOAL:\nDream Role: {dream_role}\nDream Location: {dream_location}\nTimeframe: {timeframe}\n\nProvide a comprehensive career roadmap:\n\n1. CURRENT GAPS (3-6 items)\n2. SKILLS TO ACQUIRE (5-8 specific skills)\n3. ACTION PLAN (3-4 phases with phase name, duration, and 3-5 actions each)\n4. RESOURCES (4-6 specific recommendations)\n5. MILESTONES (4-6 measurable checkpoints)\n\nReturn ONLY valid JSON:\n{{\"currentGaps\": [\"...\"], \"skillsToAcquire\": [\"...\"], \"actionPlan\": [{{\"phase\": \"...\", \"duration\": \"...\", \"actions\": [\"...\"]}}], \"resources\": [\"...\"], \"milestones\": [\"...\"]}}\"\"\"\n\n    try:\n        response = model.generate_content(prompt)\n        text = clean_json_response(response.text)\n        data = json.loads(text)\n        \n        return {\n            \"currentGaps\": data.get(\"currentGaps\", []),\n            \"skillsToAcquire\": data.get(\"skillsToAcquire\", []),\n            \"actionPlan\": data.get(\"actionPlan\", []),\n            \"resources\": data.get(\"resources\", []),\n            \"milestones\": data.get(\"milestones\", [])\n        }\n    except Exception as e:\n        raise ValueError(f\"Failed to generate career roadmap: {str(e)}\")\n","path":null,"size_bytes":28911,"size_tokens":null}},"version":2}